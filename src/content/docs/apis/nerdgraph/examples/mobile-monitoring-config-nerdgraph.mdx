---
title: "NerdGraph tutorial: Mobile agent monitoring examples"
tags:
  - APIs
  - NerdGraph
  - Examples
  - Mobile
metaDescription: Examples of using New Relic NerdGraph API to adjust a mobile agent
---

You can create mobile applications in the NerdGraph API instead of using the UI. The advantage to this is that when it's time to instrument your mobile application with New Relic, you can programmatically create and retrieve the application token to copy and paste into your mobile application.

## Create a new mobile application [#create-mobile]

Here is an example mutation to create a new mobile application. You must provide an account id and a name for the application.

Mutation:

```graphql
mutation CreateExampleMobileApplication($accountId: Int!, $name: String!) {
  agentApplicationCreateMobile(accountId: $accountId, name: $name) {
    accountId
    applicationToken
    guid
    name
  }
}

```

Variables:

```JSON
{
  "accountId": Int!,
  "name": String!
}

```

## Retrieving the application token [#get-mobile-token]

You can retrieve a mobile application token with the following query.

Query:

```graphql
query FetchMobileApplicationToken($guid: EntityGuid!) {
  actor {
    entity(guid: "") {
      ... on MobileApplicationEntity {
        guid
        name
        mobileProperties {
          applicationToken
        }
      }
    }
  }
}
```

Variables:

```JSON
{
  "guid": EntityGuid!
}
```

## Change a mobile app name [#configure-mobile-application]

Here's an example mutation that changes the name of a mobile application:

Mutation:

```graphql
mutation UpdateMobileApplicationAlias($guid: EntityGuid!, $settings: $AgentApplicationSettingsUpdateInput) {
  agentApplicationSettingsUpdate(guid: $guid, settings: $settings) {
    alias
    guid
    errors {
      description
      errorClass
      field
    }
  }
}
```

Variables:

```JSON
{
  "guid": EntityGuid!,
  "settings": {
    "alias": String
  }
}
```

## Configure network request settings

Here's an example of how mobile settings can be updated via NerdGraph:

Mutation:

```graphql
mutation SampleMobileMutation($guid: EntityGuid!, $settings: AgentApplicationSettingsUpdateInput!) {
  agentApplicationSettingsUpdate(guid: $guid, settings: $settings) {
    mobileSettings {
      networkSettings {
        showList
        ignoredStatusCodeRules {
          statusCodes
          hosts
        }
        hideList
        filterMode
        aliases {
          alias
          hosts
        }
      }
    }
  }
}

```

Variables:

```JSON
{
  "guid": "ENTITY_GUID",
  "settings": {
    "mobileSettings": {
      "networkSettings": {
        "aliases": {
          "alias": "Example",
          "hosts": ["example.com", "example.org"]
        },
        "filterMode": "DISABLED",
        "hideList": [""],
        "ignoredStatusCodeRules": {
          "statusCodes": ["500", "404"],
          "hosts": ["google.com"]
        },
        "showList": [""]
      }
    }
  }
}
```
