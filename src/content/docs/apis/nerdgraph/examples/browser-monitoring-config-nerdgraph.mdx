---
title: "NerdGraph tutorial: Browser agent monitoring examples"
tags:
  - APIs
  - NerdGraph
  - Examples
  - Browser
  - Mobile
metaDescription: Examples of using New Relic NerdGraph API to adjust a browser agent
---

You can create browser applications in the NerdGraph API instead of using the UI. The advantage to this is that you can programmatically create and retrieve the JavaScript snippet to copy and paste into your browser application.

## Create a new browser application [#create-browser]

The following example mutation will create a new browser application with default settings.

```graphql
mutation CreateExampleBrowserApplication {
  agentApplicationCreateBrowser(accountId: YOUR_ACCOUNT_ID, name: "Example Browser Application", settings: {cookiesEnabled: true, distributedTracingEnabled: true, loaderType: SPA}) {
    guid
    name
    settings {
      cookiesEnabled
      distributedTracingEnabled
      loaderScript
      loaderType
    }
  }
}
```

## Retrieve the JavaScript snippet [#get-browser-snippet]

You can retrieve the JavaScript snippet to [copy/paste into your application](https://docs.newrelic.com/docs/browser/browser-monitoring/installation/install-browser-monitoring-agent/#copy-paste-app). Note that the returned snippet is a JSON encoded string that will need to be parsed before it can be copy/pasted.

```graphql
query FetchBrowserJavaScriptSnippet {
  actor {
    entity(guid: "") {
      ... on BrowserApplicationEntity {
        guid
        name
        browserProperties {
          jsLoaderScript
        }
      }
    }
  }
}
```

## Configure browser application monitoring (examples) [#configure-browser-application]

Browser settings can be configured through NerdGraph. Here is an example mutation that changes the apdex of an application to `5`.

```graphql
mutation UpdateBrowserApdexTarget {
  agentApplicationSettingsUpdate(guid: "", settings: {browserConfig: {apdexTarget: 5}}) {
    browserSettings {
      browserConfig {
        apdexTarget
      }
    }
    errors {
      description
      errorClass
      field
    }
  }
}
```

For more information of what browser settings can be updated via NerdGraph, reference the following mutation. Documentation for each field can be found in the NerdGraph explorer.

```graphql
mutation {
  agentApplicationSettingsUpdate(guid: "", settings: {browserConfig: {apdexTarget: 5}, browserMonitoring: {ajax: {denyList: ""}, distributedTracing: {allowedOrigins: "", corsEnabled: false, corsUseNewrelicHeader: false, corsUseTracecontextHeaders: false, enabled: false, excludeNewrelicHeader: false}, loader: SPA, privacy: {cookiesEnabled: false}}, dataManagement: {sendTransactionEventsToInternalStream: false}}) {
    browserSettings {
      browserConfig {
        apdexTarget
      }
      browserMonitoring {
        ajax {
          denyList
        }
        distributedTracing {
          allowedOrigins
          corsEnabled
          corsUseNewrelicHeader
          corsUseTracecontextHeaders
          enabled
          excludeNewrelicHeader
        }
        loader
        privacy {
          cookiesEnabled
        }
      }
      dataManagement {
        sendTransactionEventsToInternalStream
      }
    }
    errors {
      description
      errorClass
      field
    }
  }
}

```
