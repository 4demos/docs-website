---
title: NoticeError (.NET agent API)
contentType: apiDoc
template: basicDoc
topics:
  - Agents
  - NET agent
  - NET agent API
---

<div>
  <h2>Syntax</h2>
  <pre>
    NewRelic.Api.Agent.NewRelic.NoticeError(<em>exception</em> $exception[,{' '}
    <em>IDictionary</em> $attributes]){'\n'}
    NewRelic.Api.Agent.NewRelic.NoticeError(<em>string</em> $error_message,{' '}
    <em>IDictionary</em> $attributes){'\n'}
    NewRelic.Api.Agent.NewRelic.NoticeError(<em>string</em> $error_message,{' '}
    <em>IDictionary</em> $attributes, <em>bool</em> $is_expected)
  </pre>
  Notice an error and report to New Relic, along with optional custom
  attributes.<h2>Requirements</h2>
  <p>Compatible with all agent versions.</p>
  <p>Compatible with all app types.</p>
  <h2>Description</h2>
  <p>
    Notice an error and report it to New Relic along with optional custom
    attributes. For each transaction, the agent only retains the exception and
    attributes from the first call to <code>NoticeError()</code>. You can pass
    an actual exception, or pass a string to capture an arbitrary error message.
  </p>
  <p>
    If this method is invoked within a{' '}
    <a href="/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction">
      transaction
    </a>
    , the agent reports the exception within the parent transaction. If it is
    invoked outside of a transaction, the agent creates an{' '}
    <a href="/docs/apm/applications-menu/events/view-apm-error-analytics">
      error trace
    </a>{' '}
    and categorizes the error in the New Relic UI as a{' '}
    <b>NewRelic.Api.Agent.NoticeError API Call</b>. If invoked outside of a
    transaction, the <code>NoticeError</code> call will not contribute to the
    error rate of an application.
  </p>
  <div className="callout-tip">
    <p>
      The agent adds the attributes only to the traced error, and does not send
      them to New Relic. To add custom attributes, see{' '}
      <a href="/docs/agents/net-agent/net-agent-api/addcustomparameter-net-agent">
        <code>AddCustomParameter()</code>
      </a>
      .
    </p>
  </div>
  <div className="callout-tip">
    <p>
      For an overview of error configuration in APM, see{' '}
      <a href="/docs/agents/manage-apm-agents/agent-data/manage-errors-apm-collect-ignore-mark-expected">
        Manage errors in APM
      </a>
      .
    </p>
  </div>
  <h2>Parameters</h2>
  <table>
    <thead>
      <tr>
        <th width="25%">Parameter</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td colSpan={2}>
          <pre>
            NewRelic.Api.Agent.NewRelic.NoticeError(<em>exception</em>{' '}
            $exception[, <em>IDictionary</em> $attributes])
          </pre>
        </td>
      </tr>
      <tr>
        <td>
          <p>
            <code>$exception</code>
          </p>
          <p>
            <em>exception</em>
          </p>
        </td>
        <td>
          Required. The exception you want to instrument. Only the first 10,000
          characters from the stack trace are retained.
        </td>
      </tr>
      <tr>
        <td>
          <p>
            <code>$attributes</code>
          </p>
          <p>
            <em>IDictionary</em>
          </p>
        </td>
        <td>
          Optional. Specify key/value pairs of attributes to annotate the error
          message.
        </td>
      </tr>
      <tr>
        <td colSpan={2}>
          <pre>
            NewRelic.Api.Agent.NewRelic.NoticeError(<em>string</em>{' '}
            $error_message, <em>IDictionary</em> $attributes)
          </pre>
        </td>
      </tr>
      <tr>
        <td>
          <p>
            <code>$error_message</code>
          </p>
          <p>
            <em>string</em>
          </p>
        </td>
        <td>
          Required. Specify a string to report to New Relic as though it's an
          exception. Only the first 1,000 characters are retained.
        </td>
      </tr>
      <tr>
        <td>
          <p>
            <code>$attributes</code>
          </p>
          <p>
            <em>IDictionary</em>
          </p>
        </td>
        <td>
          Required (can be null). Specify key/value pairs of attributes to
          annotate the error message. To send no attributes, pass{' '}
          <code>null</code>.
        </td>
      </tr>
      <tr>
        <td colSpan={2}>
          <pre>
            NewRelic.Api.Agent.NewRelic.NoticeError(<em>string</em>{' '}
            $error_message, <em>IDictionary</em> $attributes, <em>bool</em>{' '}
            $is_expected)
          </pre>
        </td>
      </tr>
      <tr>
        <td>
          <p>
            <code>$error_message</code>
          </p>
          <p>
            <em>string</em>
          </p>
        </td>
        <td>
          Required. Specify a string to report to New Relic as though it's an
          exception. Only the first 1,000 characters are retained.
        </td>
      </tr>
      <tr>
        <td>
          <p>
            <code>$attributes</code>
          </p>
          <p>
            <em>IDictionary</em>
          </p>
        </td>
        <td>
          Required (can be null). Specify key/value pairs of attributes to
          annotate the error message. To send no attributes, pass{' '}
          <code>null</code>.
        </td>
      </tr>
      <tr>
        <td>
          <p>
            <code>$is_expected</code>
          </p>
          <p>
            <em>bool</em>
          </p>
        </td>
        <td>
          Mark error as expected so that it won't affect Apdex score and error
          rate.
        </td>
      </tr>
    </tbody>
  </table>
  <h2>Examples</h2>
  <h3 id="exception-no-attributes">
    Pass an exception without custom attributes
  </h3>
  <pre>
    try{'\n'}
    {'{'}
    {'\n'}
    {'  '}var ImNotABool = "43";{'\n'}
    {'  '}bool.Parse(ImNotABool);{'\n'}
    {'}'}
    {'\n'}catch (Exception ex){'\n'}
    {'{'}
    {'\n'}
    {'  '}NewRelic.Api.Agent.NewRelic.NoticeError(ex);{'\n'}
    {'}'}
  </pre>
  <h3 id="exception-yes-attributes">
    Pass an exception with custom attributes
  </h3>
  <pre>
    try{'\n'}
    {'{'}
    {'\n'}
    {'  '}var ImNotABool = "43";{'\n'}
    {'  '}bool.Parse(ImNotABool);{'\n'}
    {'}'}
    {'\n'}catch (Exception ex){'\n'}
    {'{'}
    {'\n'}
    {'  '}var errorAttributes = new Dictionary&lt;string, string&gt;() {'{'}
    {'{'}"foo", "bar"{'}'},{'{'}"baz", "luhr"{'}'}
    {'}'};{'\n'}
    {'  '}NewRelic.Api.Agent.NewRelic.NoticeError(ex, errorAttributes);{'\n'}
    {'}'}
  </pre>
  <h3 id="string-yes-attributes">
    Pass an error message string with custom attributes
  </h3>
  <pre>
    try{'\n'}
    {'{'}
    {'\n'}
    {'  '}var ImNotABool = "43";{'\n'}
    {'  '}bool.Parse(ImNotABool);{'\n'}
    {'}'}
    {'\n'}catch (Exception){'\n'}
    {'{'}
    {'\n'}
    {'  '}var errorAttributes = new Dictionary&lt;string, string&gt;{'{'}
    {'{'}"foo", "bar"{'}'},{'{'}"baz", "luhr"{'}'}
    {'}'};{'\n'}
    {'  '}NewRelic.Api.Agent.NewRelic.NoticeError("String error message",
    errorAttributes);{'\n'}
    {'}'}
  </pre>
  <h3 id="string-no-attributes">
    Pass an error message string without custom attributes
  </h3>
  <pre>
    try{'\n'}
    {'{'}
    {'\n'} var ImNotABool = "43";{'\n'} bool.Parse(ImNotABool);{'\n'}
    {'}'}
    {'\n'}catch (Exception){'\n'}
    {'{'}
    {'\n'} NewRelic.Api.Agent.NewRelic.NoticeError("String error message",
    null);{'\n'}
    {'}'}
  </pre>
  <h3 id="string-no-attributes">
    Pass an error message string and mark it as expected
  </h3>
  <pre>
    try{'\n'}
    {'{'}
    {'\n'} var ImNotABool = "43";{'\n'} bool.Parse(ImNotABool);{'\n'}
    {'}'}
    {'\n'}catch (Exception){'\n'}
    {'{'}
    {'\n'} NewRelic.Api.Agent.NewRelic.NoticeError("String error message", null,
    true);{'\n'}
    {'}'}
  </pre>
</div>
