---
title: Difference between Alerts (classic) and Workflows
metaDescription: "Set capabilities and entitlements in Detection and AI "
redirects: 
  - /docs/alerts-applied-intelligence/applied-intelligence/?
  - /docs/alerts-applied-intelligence/applied-intelligence/incident-workflows/incident-workflows/
  - /docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/advanced-techniques/customize-your-webhook-payload/

---

## The Difference between Alert (classic) and Workflows

 **Notification channels**  restricts your notification settings based on how you organized your Alert Conditions into Policies.

**Workflows** has is a flexible and efficient pattern that does not bind your notification options to your choice of how to organize your alert conditions into policies. For example, you can filter your workflows by a team tag, or check for a "priority" to route issues to the most appropriate destination.


### New vs Old Destination Values

The move from Notification channels to Workflows and Destinations requires moving from legacy incidents to issues.  TThe move from Notification channels to Workflows and Destinations requires moving from legacy incidents to issues. The following table provides a translationa translation between what old webhook payload names used to be and what the new corresponding names in the issue payload are.  For many keys, the issue payload may contain a list of values.

<table>

  <thead>
    <tr>
      <th>
        **Alerts (classic) Name**
      </th>

      <th>
        **Alerts (classic) Variable**
      </th>

      <th>
        **Alerts (classic) Data Type**
      </th>

      <th>
        **Issues Data Type**
      </th>

      <th>
        **Issue Variable**
      </th>

      <th>
        **Workflow Template Replacement**
      </th>

      <th>
        **Notes**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `account_id`
      </td>
      <td>
        `$ACCOUNT_ID`
      </td>
      <td>
        number
      </td>
      <td>
        number
      </td>
      <td>
        `nrAccountId`
      </td>
      <td>
        `{{nrAccountId}}`
      </td>
      <td>
        The account the issue is associated with
      </td>
    </tr>


    <tr>
      <td>
        `account_name`
      </td>
      <td>
        `$ACCOUNT_NAME`
      </td>
      <td>
        string
      </td>
      <td>
        List
      </td>
      <td>
        `accumulations.tag.account`
      </td>
      <td>
        `{{ accumulations.tag.account.[0] }}`
      </td>
      <td>
        An issue can have multiple accounts
      </td>
    </tr>


     <tr>
      <td>
        `closed_violations_count_critical`
      </td>
      <td>
        `$CLOSED_VIOLATIONS_COUNT_CRITICAL`
      </td>
      <td>
        number
      </td>
      <td>
        number
      </td>
      <td>
        `{{closedIncidentsCount}}`
      </td>
      <td>
        `{{closedIncidentsCount}}`
      </td>
      <td>
        Closed incident counts of all incident regardless of priority
      </td>
    </tr>


    <tr>
      <td>
        `closed_violations_count_warning`
      </td>
      <td>
        `$CLOSED_VIOLATIONS_COUNT_WARNING`
      </td>
      <td>
        number
      </td>
      <td>
        number
      </td>
      <td>
        N/A
      </td>
      <td>
        N/A
      </td>
      <td>
        There is no replacement for warning counts.  All open incident counts will be represented as critical only to avoid double counting incidents.There is no replacement for warning counts.  All open incident counts will be represented as critical only to avoid double counting incidents.
      </td>
    </tr>


    <tr>
      <td>
        `condition_description`
      </td>
      <td>
        `$DESCRIPTION`
      </td>
      <td>
        string
      </td>
      <td>
        List
      </td>
      <td>
        `{{accumulations.conditionDescription.[0] }}`
      </td>
      <td>
        `{{accumulations.conditionDescription.[0] }}`
      </td>
      <td>
        Custom Violation description. The issue payload can have multiple conditions
      </td>
    </tr>


    <tr>
      <td>
        `condition_id`
      </td>
      <td>
        `$CONDITION_ID`
      </td>
      <td>
        number
      </td>
      <td>
        List
      </td>
      <td>
        `{{accumulations.conditionFamilyId.[0]}}`
      </td>
      <td>
        `{{accumulations.conditionFamilyId.[0]}}`
      </td>
      <td>
        The issue payload can have multiple conditions
      </td>
    </tr>


    <tr>
      <td>
        `condition_metric_name`
      </td>
      <td>
        N/A
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{accumulations.tag.metricName}}`
      </td>
      <td>
        `{{json accumulations.tag.metricName.[0]}}`
      </td>
      <td>
        Only valid for APM conditions
      </td>
    </tr>


    <tr>
      <td>
        `condition_metric_value_function`
      </td>
      <td>
        N/A
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{accumulations.tag.name}}`
      </td>
      <td>
        `{{json accumulations.tag.name.[0]}}`
      </td>
      <td>
        Only valid for APM conditions
      </td>
    </tr>


    <tr>
      <td>
        `condition_name`
      </td>
      <td>
        `$CONDITION_NAME`
      </td>
      <td>
        string
      </td>
      <td>
        List
      </td>
      <td>
        `{{accumulations.conditionName}}`
      </td>
      <td>
        `{{json accumulations.conditionName.[0]}}`
      </td>
      <td>
        An issue can have multiple conditions
      </td>
    </tr>


    <tr>
      <td>
        `current_state`
      </td>
      <td>
        `$EVENT_STATE`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{state}}`
      </td>
      <td>
        `{{#if issueClosedAt}}"closed"{{else if issueAcknowledgedAt}}"acknowledged"{{else}}"open"{{/if}}`
      </td>
      <td>
        The issue values are created, activated, merged and closed.
      </td>
    </tr>


    <tr>
      <td>
        `Custom Violation description`
      </td>
      <td>
        `VIOLATION DESCRIPTION`
      </td>
      <td>
        string
      </td>
      <td>
        List
      </td>
      <td>
        `{{json annotations.description.[0]}}`
      </td>
      <td>
        `{{#if accumulations.conditionDescription}}"VIOLATION DESCRIPTION": {{json accumulations.conditionDescription.[0]}},{{/if}}`
      </td>
      <td>
        An issue contains a list of custom violation description (if they exist)
      </td>
    </tr>


    <tr>
      <td>
        `details`
      </td>
      <td>
        `$EVENT_DETAILS`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{issueTitle}}`
      </td>
      <td>
        `{{issueTitle}}`
      </td>
      <td>
        The title of the issue
      </td>
    </tr>


    <tr>
      <td>
        `duration`
      </td>
      <td>
        `$DURATION`
      </td>
      <td>
        number
      </td>
      <td>
        number
      </td>
      <td>
        `{{#if issueDurationMs}}{{issueDurationMs}}{{else}}0{{/if}}`
      </td>
      <td>
        `{{#if issueDurationMs}}{{issueDurationMs}}{{else}}0{{/if}}`
      </td>
      <td>
        The duration of the issue since it was created
      </td>
    </tr>


    <tr>
      <td>
        `event_type`
      </td>
      <td>
        `$EVENT_TYPE`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        N/A
      </td>
      <td>
        `"INCIDENT"`
      </td>
      <td>
        There is no matching attribute on the issue level.
      </td>
    </tr>


    <tr>
      <td>
        `incident_acknowledge_url`
      </td>
      <td>
        `$INCIDENT_ACKNOWLEDGE_URL`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{issueAckUrl}}`
      </td>
      <td>
        `{{issueAckUrl}}`
      </td>
      <td>
        Link to acknowledge the issue
      </td>
    </tr>


    <tr>
      <td>
        `incident_id`
      </td>
      <td>
        `$INCIDENT_ID`
      </td>
      <td>
        number
      </td>
      <td>
        number
      </td>
      <td>
        `{{#if labels.nrIncidentId}}{{labels.nrIncidentId.[0]}}{{else}}"NA"{{/if}}`
      </td>
      <td>
        `{{issueAckUrl}}`
      </td>
      <td>
        Issue payload can contain multiple incidents, we recommend using the issue id. Incident_id will be removed at a later date.
      </td>
    </tr>


    <tr>
      <td>
        `incident_url`
      </td>
      <td>
        `$INCIDENT_URL`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{issuePageUrl}}`
      </td>
      <td>
        `{{issuePageUrl}}`
      </td>
      <td>
        Link to the issue
      </td>
    </tr>


    <tr>
      <td>
        `issue_id`
      </td>
      <td>
        `N/A`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{issueId}}`
      </td>
      <td>
        `{{issueId}}`
      </td>
      <td>
        Issue ID
      </td>
    </tr>


    <tr>
      <td>
        `metadata`
      </td>
      <td>
        `METADATA`
      </td>
      <td>
        object
      </td>
      <td>
        List
      </td>
      <td>
        `{{entitiesData.entities}}`
      </td>
      <td>
        `{{#if locationStatusesObject}}"location_statuses": {{locationStatusesObject}},{{/if}}
{{#if accumulations.metadata_entity_type}}"entity.type": {{json accumulations.metadata_entity_type.[0]}},{{/if}}
{{#if accumulations.metadata_entity_name}}"entity.name": {{json accumulations.metadata_entity_name.[0]}}{{/if}}`
      </td>
      <td>
        None
      </td>
    </tr>


    <tr>
      <td>
        `open_violations_count_critical`
      </td>
      <td>
        `$OPEN_VIOLATIONS_COUNT_CRITICAL`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{openIncidentsCount}}`
      </td>
      <td>
        `{{openIncidentsCount}}`
      </td>
      <td>
        Open incident counts of all incident regardless of priority
      </td>
    </tr>


    <tr>
      <td>
        `open_violations_count_warning`
      </td>
      <td>
        `$OPEN_VIOLATIONS_COUNT_WARNING`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `N/A`
      </td>
      <td>
        `N/A`
      </td>
      <td>
        Open incident counts of all incident regardless of priority
      </td>
    </tr>


    <tr>
      <td>
        `owner`
      </td>
      <td>
        `$EVENT_OWNER`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{owner}}`
      </td>
      <td>
        `{{owner}}`
      </td>
      <td>
        There is no matching attribute on the issue level.
      </td>
    </tr>


    <tr>
      <td>
        `policy_name`
      </td>
      <td>
        `$POLICY_NAME`
      </td>
      <td>
        string
      </td>
      <td>
        List
      </td>
      <td>
        `{{accumulations.policyName}}`
      </td>
      <td>
        `{{accumulations.policyName.[0]}}`
      </td>
      <td>
        An issue can have multiple policies
      </td>
    </tr>


    <tr>
      <td>
        `policy_url`
      </td>
      <td>
        `$POLICY_URL`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{policyUrl}}`
      </td>
      <td>
        `{{#if policyUrl}}"policy_url": {{json policyUrl}},{{/if}}`
      </td>
      <td>
        The URL link to the first policy
      </td>
    </tr>


    <tr>
      <td>
        `runbook_url`
      </td>
      <td>
        `$RUNBOOK_URL`
      </td>
      <td>
        string
      </td>
      <td>
        List
      </td>
      <td>
        `{{accumulations.runbookUrl}}`
      </td>
      <td>
        `{{accumulations.runbookUrl.[0] }}`
      </td>
      <td>
        The first runbook associated to a condition in the issue
      </td>
    </tr>


    <tr>
      <td>
        `severity`
      </td>
      <td>
        `$SEVERITY`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{priority}}`
      </td>
      <td>
        `{{#eq HIGH priority}}"WARNING"{{else}}{{json priority}}{{/eq}}`
      </td>
      <td>
        An issue has priority, which can have different values than severity
      </td>
    </tr>


    <tr>
      <td>
        `targets`
      </td>
      <td>
        `$TARGETS`
      </td>
      <td>
        string
      </td>
      <td>
        List
      </td>
      <td>
        `accumulations.targetName`
      </td>
      <td>
        `{{#if accumulations.targetName}}{{json accumulations.targetName.[0]}}{{else if entitiesData.entities}}{{json entitiesData.entities.[0].name}}`
      </td>
      <td>
        N/A
      </td>
    </tr>


    <tr>
      <td>
        `timestamp`
      </td>
      <td>
        `$TIMESTAMP`
      </td>
      <td>
        number
      </td>
      <td>
        number
      </td>
      <td>
        `{{createdAt}}`
      </td>
      <td>
        `{{#if closedAt}}{{closedAt}}{{else if acknowledgedAt}}{{acknowledgedAt}}{{else}}{{createdAt}}{{/if}}`
      </td>
      <td>
        the timestamp of the issue creation
      </td>
    </tr>


    <tr>
      <td>
        `timestamp_utc_string`
      </td>
      <td>
        `$TIMESTAMP_UTC_STRING`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{issueCreatedAtUtc}}`
      </td>
      <td>
        `{{#if issueClosedAtUtc}}{{json issueClosedAtUtc}}{{else if issueAcknowledgedAt}}{{json issueAcknowledgedAt}}{{else}}{{json issueCreatedAtUtc}}{{/if}}`
      </td>
      <td>
        the timestamp of the issue creation
      </td>
    </tr>


    <tr>
      <td>
        `version`
      </td>
      <td>
        `$VERSION`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `N/A`
      </td>
      <td>
        `"1.0"`
      </td>
      <td>
        There is no matching attribute on the issue level.
      </td>
    </tr>


    <tr>
      <td>
        `violation_callback_url`
      </td>
      <td>
        `$VIOLATION_CALLBACK_URL`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{issuePageUrl}}`
      </td>
      <td>
        `{{issuePageUrl}}`
      </td>
      <td>
        N/A
      </td>
    </tr>


    <tr>
      <td>
        `violation_chart_url`
      </td>
      <td>
        `$VIOLATION_CHART_URL`
      </td>
      <td>
        string
      </td>
      <td>
        string
      </td>
      <td>
        `{{violationChartUrl}}`
      </td>
      <td>
        `{{violationChartUrl}}`
      </td>
      <td>
        Link to the first violation chart in the issue
      </td>
    </tr>
  <tbody>

</table>


### Alerts (classic) default payload in workflows

The following template maps the issue payload to the payload used by the classic webhook channel. You can use some or all of the dynamic variables, along with any custom variables, to define your own payload.

```
{
  "owner": {{json owner}},
  "severity": "{{#eq HIGH priority}}WARNING{{else}}{{priority}}{{/eq}}",
  "policy_url": {{json policyUrl}},
  "closed_violations_count_critical": {{closedIncidentsCount}},
  "closed_violations_count_warning": 0,
  "current_state": "{{#if issueClosedAt}}closed{{else if issueAcknowledgedAt}}acknowledged{{else}}open{{/if}}",
  "policy_name": {{json accumulations.policyName.[0]}},
  "incident_url": {{json issuePageUrl}},
  "condition_family_id": {{accumulations.conditionFamilyId.[0]}},
  "incident_acknowledge_url": {{json issueAckUrl}},
  "targets":[
 {
 "id": "{{#if entitiesData.entities.[0].id}}{{entitiesData.entities.[0].id}}{{else if accumulations.nrqlEventType}}{{accumulations.nrqlEventType.[0]}}{{else}}N/A{{/if}}",
"name": "{{#if accumulations.targetName}}{{accumulations.targetName.[0]}}{{else if entitiesData.entities}}{{entitiesData.entities.[0].name}}{{else}}N/A{{/if}}",
"link": "{{issuePageUrl}}",
"product": "{{accumulations.conditionProduct.[0]}}",
"type": "{{#if entitiesData.types.[0]}}{{entitiesData.types.[0]}}{{else}}N/A{{/if}}",
"labels": { {{#each accumulations.rawTag}}{{#if this.[0]}}"{{@key}}":{{json this.[0]}},{{/if}}{{/each}}
"NewRelic": "targetLabels"
}
}
 ],
  "version": "1.0",
  "condition_id": {{accumulations.conditionFamilyId.[0]}},
  "duration": {{#if issueDurationMs}}{{issueDurationMs}}{{else}}0{{/if}},
  "account_id": {{nrAccountId}},
  "incident_id": {{#if labels.nrIncidentId}}{{labels.nrIncidentId.[0]}}{{else}}"N/A"{{/if}},
  "issue_id": "{{issueId}}",
  "metadata":{
{{#if locationStatusesObject}}"location_statuses": {{locationStatusesObject}},{{/if}}
{{#if accumulations.metadata_entity_type}}"entity.type": {{json accumulations.metadata_entity_type.[0]}},{{/if}}
{{#if accumulations.metadata_entity_name}}"entity.name": {{json accumulations.metadata_entity_name.[0]}}{{/if}}
},
  "event_type": "INCIDENT",
  "runbook_url": {{json accumulations.runbookUrl.[0]}},
  "account_name": {{json accumulations.tag.account.[0]}},
  "timestamp_utc_string": "{{issueUpdatedAt}}",
  "open_violations_count_critical": {{openIncidentsCount}},
  "open_violations_count_warning": 0,
  "details": {{json issueTitle}},
  "violation_callback_url": {{json issuePageUrl}},
  "condition_name": {{json accumulations.conditionName.[0]}},
  "timestamp": "{{#if closedAt}}{{closedAt}}{{else if acknowledgedAt}}{{acknowledgedAt}}{{else}}{{createdAt}}{{/if}}"
}
```
