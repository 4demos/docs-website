---
title: Capabilities and Entitlement
metaDescription: "Set capabilities and entitlements in Detection and AI "
redirects: 
  - /docs/alerts-applied-intelligence/applied-intelligence/incident-intelligence/capabilities-and-entitlement
---

import contactyouradmin from 'images/contact-your-admin.png'

import consentscreen from 'images/consent-screen.png'

import hippaaccount from 'images/hipaa-account.png'

import disabledbuttonsmissingcapabilities from 'images/disabled-buttons-missing-capabilities.png'

import generalsystemsettings from 'images/general-system-settings.png'

import editdeleteworkflows from 'images/edit-delete-workflows.png'

import environmentadminaccess from 'images/enviroment-admin-access.png'

import paywallerrormessage from 'images/paywall-error-message.png'

**Capabilities** define whether or not a user is allowed to access or mutate certain features. They are given to users by roles, which are assigned by the account admin. For more information about capabilities and roles, see the relevant [documentation](https://docs.newrelic.com/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts/).

**Entitlements** define whether or not an account is eligible for certain features, and they are assigned to an account by a New Relic Representative.

You can set capabilities and entitlements for each person on your team when using New Relic Detection and AI. 

## How to check if a user has a capability [#check-capability]

To check if a user has a specific capability enabled, try one of the following steps:

*1. Authorization service link - 
It should be formed as follows: `https://authorization-management.service.newrelic.com/authorization_contexts/account/ACCOUNT_ID/principal/USER_ID`. [See an example](https://authorization-management.service.newrelic.com/authorization_contexts/account/2596260/principal/1000585667).

*2. @aaa-bot -
In slack, message @aaa-bot directly. Write “help” in order to see the available commands.


## Protected features in Detection and AI [#protected-features]

The following features in Detection & AI are protected behind capabilities, which should be checked in order to understand why a feature is blocked for a user.

### Source Setup [#source-setup]

**Where**
If you are trying to set up a new source, you may receive a message to contact your administrator. In the navigation, go to the sources tab. When hovering above the source tile, the user will either see “set up source” or “Contact your admin” if the needed capabilities are missing.

<img
  title="contact-your-admin.png"
  alt="A screenshot that shows you how to set up a new source in general settings."
  src={contactyouradmin}
/>

<figcaption>
**[one.newrelic.com](https://one.newrelic.com) > Alerts and AI > Sources**
</figcaption>

**Needed capabilities**

incident_intelligence.create.input_source, incident_intelligence.update.input_source

**Relevant user roles**

owner, admin, all_product_admin, incident_intelligence_admin, nrai_engineer, tse_manager, tse_senior


### GDPR Consent [#gdpr-consent]



**Where**
Go to the Sources tab in the navigation bar, there click the Alerts tile → Setup source. For first setup, the consent screen might open as a stacked view for certain accounts.

<img
  title="consent-screen.png"
  alt="A screenshot that shows you where to grant GDPR consent."
  src={consentscreen}
/>

<figcaption>
**[one.newrelic.com](https://one.newrelic.com) > Alerts and AI > Sources**
</figcaption>

**Needed capabilities**

incident_intelligence.update.consent


**Relevant user roles**

owner, admin, incident_intelligence_admin, all_product_admin


**Possible issues**

Even if the user has the needed capability, if the account is marked as FEDRAMP or HIPAA, the “consent” button will still be disabled. 

<img
  title="hipaa-account.png"
  alt="A screenshot that demonstrates a user that is blocked from certain capabilities because of HIPAA or FEDRAMP."
  src={hippaaccount}
/>

<figcaption>
**[one.newrelic.com](https://one.newrelic.com) > Alerts and AI > Fedramp / Hipaa marked account query**
</figcaption>

In order to see if the account is marked as FEDRAMP or HIPAA, take the following steps:

*1. impersonate the user 
*2. Perform the following query (add account id where needed): [US accounts](https://api.newrelic.com/graphiql?#query=%7B%0A%20%20actor%20%7B%0A%20%20%20%20account%28id%3A%202596260%29%20%7B%0A%20%20%20%20%20%20provisioning%20%7B%0A%20%20%20%20%20%20%20%20accountConfigurations%20%7B%0A%20%20%20%20%20%20%20%20%20%20type%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20code%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A), [EU accounts](https://api.eu.newrelic.com/graphiql?#query=%7B%0A%20%20actor%20%7B%0A%20%20%20%20account%28id%3A%200%29%20%7B%0A%20%20%20%20%20%20provisioning%20%7B%0A%20%20%20%20%20%20%20%20accountConfigurations%20%7B%0A%20%20%20%20%20%20%20%20%20%20type%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20code%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A]
*3. If the query returns “fedramp” or “hipaa”, contact the customer to verify that they agree to change the account configuration.
*4. Once the customer gives their consent, ask the @hero in #help-product_and_subs slack channel to get the account unmarked.


### Issue User Actions [#user-actions]


**Where**
If you are trying to see an issue and close or acknowledge it, you may run into a problem where it’s disabled. To check this, go to the navigation, click on the Issues & Activity tab. Proceed to click on any item from the issues feed. In the issue overview section, if the issue is active, the user will see “Close” and “Acknowledge” buttons. If the user is missing the needed capabilities, the buttons will be disabled.

<img
  title="disabled-buttons-missing-capabilities.png"
  alt="A screenshot that demonstrates what a user will see if they're unable to access certain features due to missing capablities."
  src={disabledbuttonsmissingcapabilities}
/>

<figcaption>
**[one.newrelic.com](https://one.newrelic.com) > Alerts and AI > Issues and Activity > Issue**
</figcaption>

**Needed capabilities**

applied_intelligence.manage.issue

**Relevant user roles**

owner, admin, applied_intelligence_admin, alerts_admin, nrai_engineer, user, restricted, standard_user,  all_product_admin,business_engineer, product_engineer, sales_director, sales_manager, sales_staff, tse, tse_manager, tse_senior, design


### Settings page [#settings-page]]


**Where**
If you are trying to set your settings, it may be disabled. To check if it's enabled, go to the General tab under the Setting section. The “Save” button will be enabled (after changing the sliders values) for users with the needed capabilities.

<img
  title="general-system-settings.png"
  alt="A screenshot that shows you where to add capabilites in the general settings."
  src={generalsystemsettings}
/>

<figcaption>
**[one.newrelic.com](https://one.newrelic.com) > Alerts and AI > General**
</figcaption>

**Needed capabilities**

applied_intelligence.manage.issue, applied_intelligence.read.issue_config

**Relevant user roles**

owner, admin, applied_intelligence_admin, alerts_admin, nrai_engineer, user, restricted, standard_user, all_product_admin, business_engineer, product_engineer, sales_director, sales_manager, sales_staff, tse, tse_manager, tse_senior, design


### Workflows page and API [#workflows-page-api]]


**Where**
If you are trying to set up your workflows, you’ll need several capabilities. To be able to create, edit, and delete workflows through the UI and the API a user needs the following capabilities:

<img
  title="edit-delete-workflows.png"
  alt="A screenshot that demonstrates how to create, edit and delete workflows."
  src={editdeleteworkflows}
/>

<figcaption>
**[one.newrelic.com](https://one.newrelic.com) > Alerts and AI > Workflows**
</figcaption>

If they user doesn't have the permissions to view workflows they will see the following error (we have a task to make this more user friendly):

1 error from Nerd Graph: [1] Message: "An error occurred resolving this field" + Locations: [1] line: 1 column: 155 + Path: currentUser -&gt; account -&gt; aiWorkflows -&gt; workflows
If this problem persists, visit our support center

In addition, the user will need an incident intelligence environment to be able to set up workflows for their account. Use [this document](https://docs.google.com/document/d/1vzy-72FZQV-EELDhCbu0D3jSSJRywNPDwBu6o68sYqg/edit#heading=h.6jynaot9cbnq) to read more about incident intelligence accounts.

Without an incident intelligence environment they will see the following error:

<img
  title="enviroment-admin-access.png"
  alt="A screenshot of the error message displayed to a user without an incident intelligence environment."
  src={environmentadminaccess}
/>

<figcaption>
**[one.newrelic.com](https://one.newrelic.com) > Alerts and AI > Incident Intelligence > Environment**
</figcaption>

**Needed capabilities**

* View workflows (Workflows page) - applied_intelligence.read.workflow
* Create workflows - applied_intelligence.create.workflow
* Edit workflows - applied_intelligence.update.workflow
* Delete workflows  - applied_intelligence.delete.workflow


**Relevant user roles**

owner, admin, applied_intelligence_admin, alerts_admin, nrai_engineer, user, restricted, standard_user, all_product_admin, business_engineer, product_engineer, sales_director, sales_manager, sales_staff, tse, tse_manager, tse_senior, design


### Paywall under Detection and AI [#paywall-under-detection]]


**Where**
Users that do not have the fitting capabilities will see some features as blocked behind a paywall, which will call for user tier upgrade in order to be unblocked.

The following features are protected behind this paywall:
* In the Issue page:
* Impacted entities - Issue map tab
* RCA - Root cause analysis
* Issue details - Analysis summary
* Incident analysis.
* Anomaly analysis. 

<img
  title="paywall-error-message.png"
  alt="A screenshot of the paywall error message."
  src={paywallerrormessage}
/>

<figcaption>
**[one.newrelic.com](https://one.newrelic.com) > Alerts and AI > Paywall error message**
</figcaption>

**Needed capabilities**

All of the features above need the following capability - user.view.full_stack_monitoring

Additionally, the workflow builder would need this entitlement if you are trying to add an enrichment section - ai_enrichment


These features should be available to all full users.

**How to verify this is the case**

* 1) Impersonate the user
* 2) Choose a user from the list in: (https://rpm-admin.service.newrelic.com/admin/accounts/ACCOUNT_ID/users)
* 3) Use imposter app to impersonate https://user-search.service.newrelic.com/
* 4) Check that the user indeed sees the features as blocked
* 5) Check if the user has the needed capability using (these guidelines)[https://docs.google.com/document/d/1RH5gJwhye3NpdD_H5AvNGhOhBENVPEdl4syqxlwpTmw/edit#bookmark=id.kpbcw29gsb38]

**Relevant user roles**

Only users with fitting roles are given the relevant capabilities. Verify that the blocked users are assigned one of the needed roles (either you or the admin of the account for these users):

owner, admin, incident_intelligence_admin, nrai_engineer, user, standard_user, all_product_admin, tse, tse_manager, tse_senior

If a relevant role exists, contact the @hero at #incident-intelligence for help

For missing **entitlements** - contact the @hero in #help-product_and_subs slack channel to add the entitlement to the relevant account.
