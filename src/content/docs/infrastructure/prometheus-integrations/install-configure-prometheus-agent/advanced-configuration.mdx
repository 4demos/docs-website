---
title: Advanced configuration for the Prometheus agent
tags:
  - Integrations
  - Prometheus integrations
  - Install and configure Prometheus agent
  - Advanced configuration
metaDescription: Advanced configuration for the Prometheus agent
---

## Prevent billing increases [#rate-limits]

Avoid sending Prometheus data that isn't relevant to your monitoring needs. Instead, use filters to ignore or include specific metrics, which help you control the amount of data you send to New Relic and avoid additional billing charges.

As explained in the [configuration guide](/docs/infrastructure/prometheus-integrations/install-configure-prometheus-agent/setup-prometheus-agent), some targets are scraped by default, and all the data that's exposed from those discovered targets is sent. So you may exceed New Relic's platform limits and increase your billing charges.

Also, see our [troubleshooting tips](/docs/infrastructure/prometheus-integrations/install-configure-prometheus-agent/troubleshooting-guide).

## Apply Prometheus native configuration [#native-config]

If you have some kind of requirement which is not currently supported by the configuration layer the New Relic's Prometheus agent provides, you can set up additional scrape configuration in Prometheus format. To do so, use the `extra_` fields including valid Prometheus configuration which will not be parsed in any way.

<Callout variant='important'>
  `extra_` fields should include raw Prometheus configuration.
</Callout>

Therefore, the metrics collected won't have by default the metadata such as `pod_name` or `service_name` added by the agent for the static targets or kubernetes jobs. Use this configuration only as a workaround when the supported fields don't cover your needs. See more details in the [helm-chart documentation](https://github.com/newrelic/newrelic-prometheus-configurator/blob/main/charts/newrelic-prometheus-agent/README.md).
