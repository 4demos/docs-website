---
title: Troubleshooting guide for the Prometheus agent
tags:
  - Integrations
  - Prometheus integrations
  - Install and configure Prometheus agent
  - Advanced configuration
metaDescription: Advance configuration for the Prometheus agent
---

## Prevent billing increases [#rate-limits]

Prometheus Agent onlh 
Avoid sending Prometheus data that isn't relevant to your monitoring needs. Instead, use filters to ignore or include specific metrics, which help you control the amount of data you send to New Relic and also avoid additional billing charges.

As explained in the [installation guide](/docs/infrastructure/prometheus-integrations/install-configure-prometheus-agent/install-prometheus-agent), by default we set up the Prometheus Kubernetes discovery and scrape everything annotated with `prometheus.io/scrape: true`, and send all the data that's exposed from those discovered targets. In consequence, you may exceed New Relic's platform limits and increase your billing charges.

Also, see our [troubleshooting tips](/docs/infrastructure/prometheus-integrations/install-configure-prometheus-agent/troubleshooting-guide).

## Apply Prometheus native configuration

It is possible to include extra scrape configuration in Prometheus format. 
Please note, it should be a valid Prometheus configuration which will not be parsed by the chart. 

<Callout title="WARNING">
extra_scrape_configs is a raw Prometheus config. 
</Callout>

Therefore, the metrics collected won't have by default the metadata (pod_name, service_name, ...) added by the agent for the Static targets or kubernetes jobs. 
This configuration should be used as a workaround whenever kubernetes and static job do not cover a particular use-case.
