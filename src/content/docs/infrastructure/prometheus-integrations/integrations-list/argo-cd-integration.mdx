---
title: 'ArgoCD integration'
tags:
  - Integrations
  - ArgoCD
---

import argocd from 'images/argocd-dashboard.png'

[Argo CD](https://argo-cd.readthedocs.io/en/stable/) is a declarative, GitOps continuous delivery tool for Kubernetes. It enables automated, auditable application deployment, and lifecycle management that is easy to understand. Argo CD exposes Server and Application Controller metrics.

Use Argo CD to monitor:
* Sync activity and status
* Health Status
* Controller, Repo, and Argo server statistics

<img
  title="ArgoCD Dashboard"
  alt="ArgoCD Dashboard"
  src={argocd}
/>

## Requirements

Prometheus metrics needs to be integrated with New Relic. You can use the Prometheus Agent or a Remote Write integration, see [how to send Prometheus metrics](/docs/infrastructure/prometheus-integrations/get-started/send-prometheus-metric-data-new-relic).

To configure your Prometheus integration to scrape, and send ArgoCD metrics to New Relic, see [ArgoCD documentation](https://argo-cd.readthedocs.io/en/stable/operator-manual/metrics/#prometheus-operator).

## Enable the integration

Install the [Argo CD quickstart](https://newrelic.com/instant-observability/argocd-quickstart).
The quickstart requires `argocd_*` metrics available in New Relic.
Once the dashboard has been imported, it can be cloned, edited, and customized based on your needs.

## Metrics

Prometheus metrics are stored as dimensional metrics. You can [query using NRQL](/docs/telemetry-data-platform/get-data/apis/query-metric-data-type/) or use the [Data Explorer](/docs/query-your-data/explore-query-data/browse-data/introduction-data-explorer/) to browse the available metrics, access their dimensions, and more.

The different sets of metrics exposed by Argo CD are defined in the [Argo CD documentation](https://argo-cd.readthedocs.io/en/stable/operator-manual/metrics/).

Use the following NRQL queries to understand the metrics being ingested in New Relic:

* List unique metric names:

  ```
  FROM Metric SELECT uniques(metricName) WHERE metricName LIKE 'argocd_%'
  ```

* Count number of metric updates:

  ```
  FROM Metric SELECT datapointcount() WHERE metricName LIKE 'argocd_%' FACET metricName
  ```

* Estimate data ingestion (daily ingest, in bytes):

	```
  FROM Metric SELECT bytecountestimate() WHERE metricName LIKE 'argocd_%' SINCE 1 day ago
  ```

## Alerts

You can create NRQL alert conditions based on the Prometheus metrics.

You can adapt the following example of query to alert on number of failed sync requests:

```
FROM Metric SELECT sum(argocd_app_sync_total) WHERE (phase = 'Error' OR phase = 'Failed')
```

## Troubleshooting

Check the troubleshooting tips from [ArgoCD documentation](https://argo-cd.readthedocs.io/en/stable/operator-manual/troubleshooting/) to ensure that metrics are configured as expected on your cluster.

You can also check the [troubleshooting guidelines](/docs/infrastructure/prometheus-integrations/troubleshooting/no-data-appears-prometheus-integration) for Prometheus integrations.