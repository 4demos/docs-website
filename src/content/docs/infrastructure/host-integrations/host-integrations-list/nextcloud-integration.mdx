---
title: Nextcloud integration
tags:
    - Nextcloud integration
    - New Relic integrations
metaDescription: Install our Nextcloud dashboards and see your Nextcloud performance data in New Relic.
---

import infrastructureNextcloudIntegration from 'images/infrastructure_screenshot-full_Nextcloud-integration.png'

With our Nextcloud dashboard, you can easily track the number of files in your system, your user accounts, and your database size. Built with our infrastructure agent and Prometheus OpenMetrics integration, the Nextcloud integration gives you a set of default dashboards that let you view your most critical data all in one place. 

<img
    title="Screenshot of Nextcloud dashboard"
    src={infrastructureNextcloudIntegration}
/>

<figcaption>
After setting up the Nextcloud integration with New Relic, your data displays in dashboards like these right out of the box. 
</figcaption>

## Install the infrastructure agent [#infra]

To get your data into New Relic, install our infrastructure agent. Our infrastructure agent collects and ingests data from your app so you can keep track of your app’s performance.

You can install the infrastructure agent two different ways: 

* Our [guided install](https://one.newrelic.com/nr1-core?state=4f81feab-35f7-e97e-9903-52510f8542bd) is a CLI tool that inspects your system and installs the infrastructure agent alongside the application monitoring agent that best works for your system. To learn more about how our guided install works, check out our [Guided install overview](/docs/infrastructure/host-integrations/installation/new-relic-guided-install-overview). 
* If you’d rather install our infrastructure agent manually, you can follow a tutorial for manual installation for [Linux](/docs/infrastructure/install-infrastructure-agent/linux-installation/install-infrastructure-monitoring-agent-linux), [Windows](/docs/infrastructure/install-infrastructure-agent/windows-installation/install-infrastructure-monitoring-agent-windows/), or [macOS](/docs/infrastructure/install-infrastructure-agent/macos-installation/install-infrastructure-monitoring-agent-macos/). 

## Export Nextcloud data [#export]

To start the integration process, you need to export your Nextcloud metrics with `nextcloud-exporter`. This eventually allows our Prometheus OpenMetrics integration to ingest data into New Relic. To export your Nextcloud data: 

1. [Install Go](https://go.dev/doc/install) if you haven't already.
2. Run the following Docker commands to access `nextcloud-exporter`:

```
docker pull ghcr.io/xperimental/nextcloud-exporter:latest
docker pull xperimental/nextcloud-exporter:latest
```

3. Clone `nextcloud-exporter`:

```
git clone https://github.com/xperimental/nextcloud-exporter.git
cd nextcloud-exporter
```

4. Create a binary file in the `nextcloud-exporter` folder by using `make`. and Name the file `nextcloud-exporter`.
5. Complete token authentication. You need to be using Nextcloud 22 or later.

```
# Generate random value using OpenSSL.
TOKEN=$(openssl rand -hex 32)
# Set token using the occ command by going to "/var/www/nextcloud”
occ config:app:set serverinfo token --value "$TOKEN"
``` 
6. From your cloned Nextcloud folder, run the following command to initiate username and password authentication:

```
./nextcloud-exporter --login <USERNAME> <PASSWORD> --server http://127.0.0.1
```
7. To access metrics for Nextcloud, run:

```
./nextcloud-exporter -u <YOUR_USERNAME> -p <YOUR_PASSWORD> --server http://127.0.0.1:9205
```

8. From your browser, go to `http:127.0.0.1:9205/metrics` to view your metrics.  

## Integrate Prometheus OpenMetrics with Nextcloud [#prometheus]

With your Nextcloud metrics exposed, you can use our Prometheus OpenMetrics integration to scrape data.

1. Run the following command to change your directory: `cd /etc/newrelic-infra/integrations.d/`
2. Create a Prometheus configuration file: `sudo nano nri-prometheus-config.yml`
3. Add that Prometheus OpenMetrics configuration file to `nri-prometheus-config.yml`. 
4. To get server-related information, replace the URL inside the targets:

```yml
targets:
  urls: ["http://127.0.0.1:9205"]
```
5. Restart your New Relic infrastructure service by running `sudo systemctl restart newrelic-infra.service`
6. Install the [Nextcloud quickstart](https://newrelic.com/instant-observability/nextcloud) to get your pre-built dashboards.

## What's next?

To learn more about building NRQL queries and generating dashboards, check out these docs:

* [Introduction to the query builder](/docs/query-your-data/explore-query-data/query-builder/introduction-query-builder) to create basic and advanced queries.
* [Introduction to dashboards](/docs/query-your-data/explore-query-data/dashboards/introduction-dashboards) to customize your dashboard and carry out different actions.
* [Manage your dashboard](/docs/query-your-data/explore-query-data/dashboards/manage-your-dashboard) to adjust your dashboards display mode, or to add more content to your dashboard. 