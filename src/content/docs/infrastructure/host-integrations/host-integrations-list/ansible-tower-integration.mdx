---
title: Get metrics from Ansible Tower
tags:
  - Integrations
  - Prometheus integrations
  - Install and configure remote write
---

New Relic's Ansible Tower integration takes performance data about your Tower projects and transforms them into pre-built, customizable dashboards.  Track the statuses of your jobs, view your Ansible Tower logs, or see weekly comparisons of your average host load.

[SCREENSHOT OF DASHBOARD]

[Lead in to other products; i.e. why bring New Relic into mix, i.e. i.e. what are other good things that complement this product]

## Set up Prometheus and the infrastructure agent [#setup]

Our Ansible Tower integration builds on our Prometheus remote write integration. Before you can monitor your Tower projects with New Relic, confirm that you've already set up Prometheus to scrape data from Ansible Tower. You can learn more about this process at [Ansible Tower's docs site](https://docs.ansible.com/ansible-tower/latest/html/administration/metrics.html).

Once Prometheus can scrape data from Ansible Tower, install our infrastructure agent for Linux systems. This enables log forwarding so your project logs  appear in your custom dashboards. 

We recommend using our [guided install](https://one.newrelic.com/marketplace?account=1&state=9fc6e1c7-1ffb-1ff0-862d-1ea1ed4a1c31), or if the command line is more your style, you can also [install via package manager](/docs/infrastructure/install-infrastructure-agent/linux-installation/install-infrastructure-monitoring-agent-linux).

<CollapserGroup>
<Collapser
    id="logging"
    title="Step 1. Connect Ansible Tower logs to the infrastructure agent"
  >
Navigate `/etc/newrelic-infra/logging.d/`. If you don't see a `logging.yml` file, then create one.

Add this script to the `logging.yml` file:

```yml
- name: ansible-tower.log
  file: /var/log/tower/tower.log
  attributes:
    logtype: ansible_tower_log
```
</Collapser>
<Collapser
  id="integrate"
  title="Step 2. Integrate Prometheus in the New Relic platform"
  >
From your Prometheus folder, run `./prometheus` to start your server.  In the `prometheus.yml` file, add this script:

```yml
remote_write:
  - url: "YOUR URL"
    bearer_token: "YOUR TOKEN"
scrape_configs:
  - job_name: "prometheus"
static_configs:
  - targets: ["localhost:9100"]
```

This script configures your Prometheus file by: 

* Telling Prometheus to send metrics to our agents via `remote_write`. 
* Setting `"prometheus"` itself as the target to scrape data from.
</Collapser>
<Collapser
  id="jobs"
  title="Step 3. Grab Ansible Tower metrics"
>

Add this script to [Prometheus yml file?] to [have the infrastructure agent collect data about Ansible Tower with remote write]. 

  ```yml
- job_name: "tower"
    tls_config: 
      insecure_skip_verify: true
    metrics_path: /api/v2/metrics
    scrape_interval: 5s
    scheme: https
    bearer_token: "YOUR_TOKEN"
    static_configs: 
      - targets:  ["localhost:443"]
  
- job name: "node"
    static_configs: 
      targets: ['localhost:9100']
```
</Collapser>
</CollapserGroup>

Now you can view your data with your new Ansible Tower dashboard.

[SCREENSHOT OF HOW TO GET TO DASHBOARDS]

## What's next? [#next]

