{
  "/docs/agents/ruby-agent/features/ruby-vm-measurements": [
    {
      "image": "https://newrelic.com/themes/custom/curio/assets/images/metadata/NROG_Image.png",
      "url": "https://newrelic.com/press-releases/20100224",
      "sections": [
        "New Relic RPM Now Manages Ruby Web Applications Running with Sinatra, Rack, and Rails Metal",
        "Comprehensive Web Application Management",
        "About New Relic",
        "Media Contact",
        "Investor Contact"
      ],
      "published_at": "2021-02-22T14:45:58Z",
      "title": "New Relic RPM Now Manages Ruby Web Applications Running with Sinatra, Rack, and Rails Metal | New Relic",
      "updated_at": "2021-02-22T14:45:58Z",
      "type": "",
      "external_id": "33c5857bd864b68ba34f976206dff170076e128f",
      "popularity": 1,
      "body": "Skip to main content New Relic logo Search Submit Products Products New Relic One Platform Overview Telemetry Data Platform Full-Stack Observability Applied Intelligence Pricing Solutions Solutions By Topic DevOps Cloud Adoption Cloud Native Digital Customer Experience Tool Consolidation Open Source By Industry E-commerce and Retail Media Public Sector By Technology Amazon Web Services Pivotal Cloud Foundry Microsoft Azure Google Cloud Platform Kubernetes Help Center Help Center Learn Docs Build on New Relic Explore open source projects Training The Relicans Get help Community forum Global technical support Expert services About About Our Customers Over 17,000 customers love New Relic, from Fortune 500 enterprises to small businesses around the globe. Our Blog The latest news, tips, and insights from the world of New Relic and digital intelligence. Our Company About Us Leadership Meetups and Events Resources Social Impact Investor Relations Newsroom Partner Program Contact Us New Relic for iOS or Android New Relic Insights App for iOS Search toggle Log in Sign up Main navigation menu, 5 items Newsroom Press Release New Relic RPM Now Manages Ruby Web Applications Running with Sinatra, Rack, and Rails Metal Leading performance tool lets Ruby and Java developers monitor and optimize web applications that utilize latest technologies Share on Facebook Share on Twitter Share on LinkedIn San Francisco - February 24, 2010 New Relic, Inc., the leading software-as-a-service provider of application performance management solutions, today announced that the latest release of its RPM application performance management tool has added support for Sinatra, Rack, and Rails Metal, enabling Ruby developers and operations teams to monitor, troubleshoot, and optimize web applications that utilize these technologies. This support is one of several advanced capabilities for Ruby web application management available now. \"Rack has given Ruby web developers a tremendous amount of freedom to innovate and experiment with new ways of building web applications,\" said Ryan Tomayko, a member of the core committer team for both Rack and Sinatra. \"Developers are increasingly turning to Rack and lightweight frameworks like Sinatra for small utility apps or for latching performance critical features onto an existing site. The ability to monitor and profile these applications using New Relic RPM fills a huge visibility gap for us.\" Written in Ruby, Sinatra is an open source web application framework and domain-specific language (DSL) that enables rapid development of Ruby web applications. Rack is modular interface for developing Ruby web applications that simplifies the interaction between HTTP requests and other web application software components by distilling APIs for these systems into a single method call. Rails Metals are minimal Rack applications that enable requests to be served more quickly. New Relic RPM is an on-demand performance management solution for web applications developed in Java, Ruby, or JRuby. RPM now provides real-time monitoring and metrics for applications running Sinatra, Rack and Rails Metals so development and deployment teams can quickly and cost-effectively monitor, troubleshoot, and tune Ruby web application performance to meet business goals. \"In the newest version of RPM’s Ruby agent we’ve added a number of significant features and support for Sinatra, Rack and Metals rank high among them,\" said Jim Gochee, New Relic’s vice-president of engineering. \"One of the great things about developing a SaaS monitoring tool and being involved with the Ruby community is witnessing the constant innovation as more and more teams deploy business-critical Ruby web applications. Sinatra and Rack are two important examples of ongoing efforts to simplify the creation of traditionally complex web applications and we look forward to working with our customers and partners as they take advantage of these projects.\" Comprehensive Web Application Management Additional features of the New Relic RPM Ruby agent 2.10 include: Enhanced Visibility into Ruby EE Garbage Collection Passenger Queue Time Capture Profiling built in to Developer Mode Enhanced JRuby Support Existing New Relic customers can download the New Relic RPM Ruby Agent 2.10 either by logging in to the RPM and selecting the upgrade option or at GitHub. To use New Relic RPM for Ruby or Java web applications for free, download RPM Lite, which includes proven application monitoring and troubleshooting capabilities. It installs in two minutes and supports multiple application servers and frameworks including Rails, Sinatra, and Rack for Ruby as well as WebSphere, Oracle WebLogic, JBoss, Grails, Tomcat, Glassfish, Jetty, Spring, and more for Java. Back to press releases About New Relic The world’s best engineering teams rely on New Relic to visualize, analyze and troubleshoot their software. New Relic One is the most powerful cloud-based observability platform built to help companies create more perfect software. Learn why customers trust New Relic for improved uptime and performance, greater scale and efficiency, and accelerated time to market at newrelic.com. New Relic is a registered trademark of New Relic, Inc. All product and company names herein may be trademarks of their registered owners. New Relic on Facebook New Relic on Twitter New Relic on LinkedIn New Relic on YouTube Media Contact Andrew Schmitt 415-869-7109 PR@newrelic.com Investor Contact Peter Goldmacher 503-336-9280 IR@newrelic.com Company Careers and Culture Partner Program Investor Relations NewRelic.org Suppliers Portal Connect Contact Us Request Demo Events International 日本語 Français Deutsch 한국어 Facebook Twitter LinkedIn YouTube Instagram Terms of Service DMCA Policy Privacy Policy Cookie Policy UK Slavery Act of 2015 ©2008-21 New Relic, Inc. All rights reserved",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 111.85902,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "New Relic RPM Now Manages <em>Ruby</em> Web Applications Running with Sinatra, Rack, and Rails Metal | New Relic",
        "sections": "New Relic RPM Now Manages <em>Ruby</em> Web Applications Running with Sinatra, Rack, and Rails Metal",
        "body": ". &quot;In the newest version of RPM’s <em>Ruby</em> <em>agent</em> we’ve added a number of significant <em>features</em> and support for Sinatra, Rack and Metals rank high among them,&quot; said Jim Gochee, New Relic’s vice-president of engineering. &quot;One of the great things about developing a SaaS monitoring tool and being involved"
      },
      "id": "575f8b75c75d075a53c38d8a"
    },
    {
      "category_2": "iOS app release notes",
      "nodeid": 8411,
      "sections": [
        "Mobile apps release notes",
        "Android app release notes",
        "iOS app release notes",
        "Insights for Android release notes",
        "Insights for iOS release notes",
        "Insights for tvOS release notes",
        "New Relic for iOS 3.20.3",
        "New Relic for iOS 3.52.1",
        "Notes",
        "New features",
        "Improvements",
        "New Relic for iOS 3.51.1",
        "New Relic for iOS 3.50.0",
        "New Relic for iOS 3.49.0",
        "Bug fixes",
        "New Relic for iOS 3.48.0",
        "New Relic for iOS 3.47.0",
        "New Relic for iOS 3.46.1",
        "New Relic for iOS 3.46.0",
        "New Relic for iOS 3.45.0",
        "Pages"
      ],
      "title": "New Relic for iOS 3.20.3",
      "category_0": "Release notes",
      "type": "docs",
      "category_1": "Mobile apps release notes",
      "external_id": "9669033863e7160d64a91d6de37637bd8e50e0f6",
      "image": "",
      "url": "https://docs.newrelic.com/docs/release-notes/mobile-apps-release-notes/new-relic-ios-3203?page=0%2C2",
      "published_at": "2021-02-24T14:12:18Z",
      "updated_at": "2021-02-24T14:12:17Z",
      "breadcrumb": "Contents / Release notes / Mobile apps release notes / iOS app release notes",
      "document_type": "release_notes",
      "popularity": -2,
      "body": "[RSS] Items per page 5 10 New Relic for iOS 3.52.1 Tuesday, November 12, 2019 - 09:00 Download Notes Support for iOS 13 dark mode!!! New features Dark mode support for iOS 13 New crashes tab in Mobile APM, with improved grouping, searching and filtering Added in Synthetics monitors to the iPad Improvements Fix for showing a retry login popup when we shouldn't be Enable auto resizing of the y axis in charts, to scale to the visible time window Update APM app error rate to reflect the web New Relic for iOS 3.51.1 Friday, September 13, 2019 - 14:30 Download Notes The New Relic app is even better with an improved home screen, displaying all your favorite services, hosts, mobile and browser apps, key transactions, and more. This enhanced landing page also allows you to search across services, apps and hosts! New features Added new home screen with favorite APM, Mobile, and Browser apps, Infrastructure hosts, key transactions, and plugin instances. Added search to the home screen, to quickly search across APM, Mobile, Browser apps, hosts and key transactions. Improvements Updated Infrastructure, when viewing a filter set, to show all hosts in the charts (up to 20) by default. New Relic for iOS 3.50.0 Wednesday, July 31, 2019 - 12:00 Download Notes Improved and redesigned Browser product within the app! New features New Browser single page app (SPA) overview charts Added support to display in progress Browser violations and recent events Added support to display Browser page views Added support to display Browser JS errors Improvements Improved real agents call in APM Added link in app to license documentation New Relic for iOS 3.49.0 Wednesday, May 15, 2019 - 10:00 Download Notes Synchronizes app favorites with New Relic One for a consistent way to get access to those APM apps, Browser apps, Mobile apps, and Synthetics monitors wherever you might be. Improvements Uses the same data source for favorites as New Relic One Merges any iPhone / iPad specific favorites into your New Relic One favorites Updates Apdex charts to zoom in on the y axis to better show smaller variations Update Transaction trace bar to closer match the web in some edge cases Bug fixes Fixed an issue where searching in the APM Error attributes or stack traces would result in strange behavior Fixes an issue in the host / instance popup where the web response time was off by an order of magnitude New Relic for iOS 3.48.0 Thursday, April 11, 2019 - 09:00 Download New features Additional information for Java instances and Elixir hosts in the APM application detail section. New host / instance drop down for APM applications showing summary information, and allowing you to filter the APM page to a specific host or instance. Improvements Update to the Mobile APM summary page to allow the view to load for more customers New Relic for iOS 3.48.0 Thursday, April 11, 2019 - 09:00 Download Notes Our new APM memory / threads section now works with Java & Elixir agents! Improvements Additional information for Java instances and Elixir hosts in the APM application detail section. New host / instance drop down for APM applications showing summary information, and allowing you to filter the APM page to a specific host or instance. Update to the Mobile APM summary page, so that some edge cases will now load. New Relic for iOS 3.47.0 Monday, March 18, 2019 - 09:00 Download New features Additional information for hosts of Ruby, Node.js, and Go APM applications. Bug fixes Fixed a crash when tapping logout on the iPad Fixed for some Synthetics monitors not loading Fixed a few other infrequent crashes New Relic for iOS 3.46.1 Monday, February 11, 2019 - 09:00 Download Bug fixes Fixed the problem with muting, and enabling / disabling Synthetics monitors New Relic for iOS 3.46.0 Tuesday, January 29, 2019 - 14:15 Download Improvements Updated account settings screen enables seamless transition between users and accounts Bug fixes Fixed rare crash when saml users return from authenticating New Relic for iOS 3.45.0 Thursday, January 3, 2019 - 14:15 Download Notes This version contains enhanced notifications, with support for selecting unique sounds for different types of notifications, along with showing a chart image for incidents. New features Select different notification sounds for push notifications to the app. Shows incident open / closed chart image in the notification. Bug fixes Fix for filtering apmApplicationIds and apmApplicationNames properly in Infrastructure. Fixed a crash when trying to search through plugin components. Fixed a crash in Radar. Pages « first ‹ previous 1 2 3 4 5 6 7 8 9 next › last »",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 93.54953,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "sections": "New <em>features</em>",
        "body": " will now load. New Relic for iOS 3.47.0 Monday, March 18, 2019 - 09:00 Download New <em>features</em> Additional information for hosts of <em>Ruby</em>, Node.js, and Go APM applications. Bug fixes Fixed a crash when tapping logout on the iPad Fixed for some Synthetics monitors not loading Fixed a few other infrequent"
      },
      "id": "5b6b681ab5b9e13ebbb11a80"
    },
    {
      "category_2": "iOS app release notes",
      "nodeid": 8411,
      "sections": [
        "Mobile apps release notes",
        "Android app release notes",
        "iOS app release notes",
        "Insights for Android release notes",
        "Insights for iOS release notes",
        "Insights for tvOS release notes",
        "New Relic for iOS 3.20.3",
        "New Relic for iOS 3.36.0",
        "New features",
        "Improvements",
        "Bug fixes",
        "New Relic for iOS 3.35",
        "New Relic for iOS 3.34.2",
        "New Relic for iOS 3.34",
        "Notes",
        "New Relic for iOS 3.33.0",
        "New Relic for iOS 3.32.2",
        "New Relic for iOS 3.32.1",
        "New Relic for iOS 3.32.0",
        "New Relic for iOS 3.31.2",
        "New Relic for iOS 3.31.1",
        "Pages"
      ],
      "title": "New Relic for iOS 3.20.3",
      "category_0": "Release notes",
      "type": "docs",
      "category_1": "Mobile apps release notes",
      "external_id": "043a44196d571574861e718952b473b74f8a7ec1",
      "image": "",
      "url": "https://docs.newrelic.com/docs/release-notes/mobile-apps-release-notes/new-relic-ios-3203?page=0%2C4",
      "published_at": "2021-02-24T14:12:18Z",
      "updated_at": "2021-02-24T14:12:18Z",
      "breadcrumb": "Contents / Release notes / Mobile apps release notes / iOS app release notes",
      "document_type": "release_notes",
      "popularity": -2,
      "body": "[RSS] Items per page 5 10 New Relic for iOS 3.36.0 Friday, December 22, 2017 - 12:00 Download New features Added the Hosts screen in the Infrastructure product, which replaces the older Compute Improvements Changed fonts to OpenSans Added FaceID support Bug fixes Fixed UI bug in instances screen in APM Fixed UI bug where Apdex & throughput were swapped on the iPad Fixed bug in Infrastructure where you were unable to search Fixed a crash in Radar New Relic for iOS 3.35 Wednesday, November 1, 2017 - 16:00 Download New features Support for the new iPhone X Improvements Improved filtering in the Infrastructure product, allowing for multiple selection's within a category Bug fixes Fix a crash in Radar when viewing week over week cards Fix a crash in Radar when typing @ in the comments bar New Relic for iOS 3.34.2 Monday, September 25, 2017 - 12:00 Download New features Added in universal link support for Radar Improvements Improve some markdown rendering issues Bug fixes Fix for time window issues in detail views Fix Infrastructure filters when multiple items are selected in the filter set New Relic for iOS 3.34 Wednesday, September 13, 2017 - 06:00 Download Notes Introducing Radar Radar provides analytic recommendations via cards which contains interesting, relevant, and actionable data about a specific service or the ecosystem as a whole. With four card types—Advice, Perspective, Events, and Celebrations—New Relic intelligently delivers insights to an individual, who can easily share the card with their team via a built-in integration with Slack. Radar continues to be rolled out to customers paying at the Pro level or higher. New features Added in support to display Radar within the app New Relic for iOS 3.33.0 Thursday, July 20, 2017 - 14:15 Download Improvements Updated tooltips on every chart Improved login flow for Touch ID Bug fixes Fixed a crash in the errors view. New Relic for iOS 3.32.2 Thursday, June 15, 2017 - 10:45 Download New features Added compare with yesterday and last week charts in the APM, Key Transaction & Browser sections. ** Toggle this from the time picker. At the top is a new 'Compare with yesterday and last week' button. Added tooltips on every chart ** Access this by long pressing on any chart, and then sliding your finger around. New Relic for iOS 3.32.1 Friday, May 26, 2017 - 15:00 Download Improvements Adds additional animations to Health Map Bug fixes Fixes a crash when viewing error traces from the Go language agents New Relic for iOS 3.32.0 Wednesday, May 24, 2017 - 00:00 Download Notes As enterprises adopt more scalable microservice architectures, it becomes more difficult to pinpoint performance issues within the application stack. New Relic’s new health map feature brings together insights on application and infrastructure performance into a single, prioritized view. This unified view enables operations and DevOps teams to quickly understand if the source of a performance issue is from the application code or in the infrastructure layer. New features Health Map support New Relic for iOS 3.31.2 Tuesday, May 16, 2017 - 15:00 Download Bug fixes Fixes a crash when viewing traced errors without stack traces Fixes a sharing issue when a warning violation does not have an associated incident. New Relic for iOS 3.31.1 Tuesday, May 9, 2017 - 15:00 Download New features Adds in a sharing option for Alert Incidents & Violations. Improve the UI in the Errors detail view. RBAC checks for acknowledging alerts & resolving crashes Bug fixes Fixes a UI coloring issue in the Transaction detail. Fixes a rare crash in the application detail view. Pages « first ‹ previous 1 2 3 4 5 6 7 8 9 next › last »",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 86.05467,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "sections": "New <em>features</em>",
        "body": "[RSS] Items per page 5 10 New Relic for iOS 3.36.0 Friday, December 22, 2017 - 12:00 Download New <em>features</em> Added the Hosts screen in the Infrastructure product, which replaces the older Compute Improvements Changed fonts to OpenSans Added FaceID support Bug fixes Fixed UI bug in instances screen"
      },
      "id": "5f24dd3264441f2c2075e7f5"
    },
    {
      "category_2": "Enable and configure",
      "nodeid": 17021,
      "sections": [
        "Distributed tracing",
        "Get started",
        "Enable and configure",
        "Infinite Tracing",
        "UI and data",
        "Trace API",
        "Troubleshooting",
        "Language agents: Enable distributed tracing",
        "Step 1. Prerequisites",
        "Step 2. Set up Infinite Tracing (optional)",
        "Step 3. Configure the agent",
        "Step 4. View traces",
        "Manual instrumentation (If automatic instrumentation doesn't work)",
        "For more help"
      ],
      "title": "Language agents: Enable distributed tracing",
      "category_0": "Understand dependencies",
      "type": "docs",
      "category_1": "Distributed tracing",
      "translation_ja_url": "https://docs.newrelic.co.jp/docs/understand-dependencies/distributed-tracing/enable-configure/language-agents-enable-distributed-tracing",
      "external_id": "92f81f3ba78006bec29baec46891cf6cfb1c9468",
      "image": "",
      "url": "https://docs.newrelic.com/docs/understand-dependencies/distributed-tracing/enable-configure/language-agents-enable-distributed-tracing",
      "published_at": "2021-02-22T15:09:15Z",
      "updated_at": "2021-02-15T14:13:55Z",
      "breadcrumb": "Contents / Understand dependencies / Distributed tracing / Enable and configure",
      "document_type": "page",
      "popularity": 1,
      "info": "How to enable distributed tracing or Infinite Tracing for APM agents.",
      "body": "Here's what you need to know for enabling either standard distributed tracing or Infinite Tracing with our language agents. If you want to get more background before getting started, check out these topics: How span sampling works explains distributed tracing options. Impacts to APM tells you what to expect if you are a current APM user. The process of enabling distributed tracing takes you through these steps: Meet the prerequisites (Infinite Tracing) Set up a trace observer Configure your agents View traces Step 1. Prerequisites Check the following sections to confirm that the distributed tracing options you want are available for your environment. Your main options are: Standard distributed tracing: Head-based sampling Infinite Tracing: Tail-based sampling Support for W3C Trace Context: Available in all Infinite Tracing agents and in standard distributed tracing agents as noted Once you find the agent version with the features you want, follow the links for help installing or updating your agent. For best results, update existing agents to the latest version. C SDK Install (compile) or update to the required C SDK version. For best results, update to the latest C SDK version. Option C SDK version Standard distributed tracing 1.1.0 or higher (W3C Trace Context not available) Infinite Tracing Not available Go Install or update to the required Go agent version. For best results, update to the latest Go agent version. Option Go agent version Standard distributed tracing 2.1.0 or higher With W3C Trace Context: 3.1.0 or higher Infinite Tracing v3.5.0 (includes W3C Trace Context) Supported environments: Go 1.9 or higher Java Install or update to the required Java agent version. For best results, update to the latest Java agent version. Your JVM's networkaddress.cache.ttl security setting must not be set to forever (i.e. -1). For more information about this networking property, please visit the Oracle Network Properties docs. Type Java agent version Standard distributed tracing 4.3.0 or higher With W3C Trace Context: 5.10 or higher Infinite Tracing 5.12.1 or higher (includes W3C Trace Context) Supported environments: Java 8: Update 252 or higher All versions of Java 9 or higher For special considerations, see Infinite Tracing: Configuring SSL for Java 7 and 8. .NET Install or update to the required .NET agent version. For best results, update to the latest .NET agent version. Option .NET agent version Standard distributed tracing 8.6.45.0 or higher With W3C Trace Context: 8.27.139.0 or higher Infinite Tracing 8.30.0 (includes W3C Trace Context) Supported environments: .NET Framework 4.5 or higher .NET Core 2.0 or higher Node.js Install or update to the required Node.js agent version. For best results, update to the latest Node.js agent version. Option Node.js agent version Standard distributed tracing 4.7.0 or higher With W3C Trace Context: 6.4 or higher Infinite Tracing 7.1.1 (includes W3C Trace Context) Supported environments: Node version 10.10.0 or higher PHP Install or update to the required PHP agent version. For best results, update to the latest PHP agent version. Option PHP agent version Standard distributed tracing 8.4 or higher With W3C Trace Context: 9.8 or higher Infinite Tracing 9.12.0.268 or higher Python Install or update to the required Python agent version. For best results, update to the latest Python agent version. Option Python agent version Standard distributed tracing 4.2.0.100 or higher With W3C Trace Context: 5.6 or higher Infinite Tracing 5.12.0.140 (includes W3C Trace Context) Supported environments: CPython only (pypy is unsupported) Ruby Install or update to the required Ruby agent version. For best results, update to the latest Ruby agent version. Also install the additional Ruby agent gem for Infinite Tracing. Option Ruby agent version Standard distributed tracing newrelic_rpm 5.3.0.346 or higher With W3C Trace Context: newrelic_rpm 6.9 or higher Infinite Tracing newrelic_rpm 6.11.0.365 or higher (includes W3C Trace Context) newrelic-infinite_tracing 6.11.0.375 or higher Step 2. Set up Infinite Tracing (optional) For all language agents except C SDK, you have the option of enabling Infinite Tracing. If you want to skip this and install standard distributed tracing, skip to Configure the agent. If you want to enable Infinite Tracing, see Set up trace observer. When you're done, return here to complete the next step of configuring the agent to send data to the trace observer. Step 3. Configure the agent Distributed tracing is enabled through configuration settings. Review the following agent-specific sections. If you're enabling Infinite Tracing, there are different configuration options for that. For more about agent configuration, see Configure the agent. Server-side configuration is not available for Infinite Tracing. C SDK Here's an overview of the settings. For more help with configuration, see Enable distributed tracing for your C applications. Type Required configuration Standard distributed tracing Configuration examples: newrelic_app_config_t structure: newrelic_app_config_t* config; config = newrelic_create_app_config(app_name, license_key); config->distributed_tracing.enabled = true; Infinite Tracing Not available Go Here's an overview of the settings. For more help with configuration, see Enable distributed tracing for your Go applications. Type Required configuration Standard distributed tracing Configuration examples: ConfigOption structure: newrelic.NewApplication( newrelic.ConfigAppName(\"Example App\"), newrelic.ConfigLicense(os.Getenv(\"NEW_RELIC_LICENSE_KEY\")), newrelic.ConfigDistributedTracerEnabled(true), ) Environment variable: NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true Infinite Tracing Configuration examples: newrelic.Config structure: app, err := newrelic.NewApplication( newrelic.ConfigAppName(YOUR_APP_NAME), newrelic.ConfigLicense(YOUR_LICENSE_KEY), func(cfg *newrelic.Config) { cfg.DistributedTracer.Enabled = true cfg.InfiniteTracing.TraceObserver.Host = YOUR_TRACE_OBSERVER_HOST }, ) Environment variables: NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_HOST=YOUR_TRACE_OBSERVER_HOST Java Here's an overview of the settings. For more help with configuration, see Java agent configuration: Config file. Type Required configuration Standard distributed tracing Configuration examples: Configuration file (newrelic.yml) (indented 2 spaces under the common stanza): distributed_tracing: enabled: true Java system property: -Dnewrelic.config.distributed_tracing.enabled=true Environment variable: NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true Infinite Tracing Configuration examples: Configuration file (newrelic.yml) (indented 2 spaces under the common stanza): distributed_tracing: enabled: true infinite_tracing: trace_observer: host: \"YOUR_TRACE_OBSERVER_HOST\" Java system property: -Dnewrelic.config.distributed_tracing.enabled=true -Dnewrelic.config.infinite_tracing.trace_observer.host=\"YOUR_TRACE_OBSERVER_HOST\" Environment variable: NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_HOST=\"YOUR_TRACE_OBSERVER_HOST\" .NET Here's an overview of the settings. For more help with configuration, see .NET agent configuration. Type Required configuration Standard distributed tracing Configuration examples: Configuration file (newrelic.config): <configuration . . . > <distributedTracing enabled=\"true\" /> </configuration> Environment variable: NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true Infinite Tracing Configuration examples: Configuration file (newrelic.config): <configuration . . . > <distributedTracing enabled=\"true\" /> <infiniteTracing> <trace_observer host=\"YOUR_TRACE_OBSERVER_HOST\" /> </infiniteTracing> </configuration> Environment variable: NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_HOST=\"YOUR_TRACE_OBSERVER_HOST\" Node.js Here's an overview of the settings. For more help with configuration, see Node.js agent configuration. Type Required configuration Standard distributed tracing Configuration examples: Configuration file (newrelic.js): distributed_tracing: { enabled: true } Environment variable: NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true Infinite Tracing Configuration examples: Configuration file (newrelic.js): distributed_tracing: { enabled: true } infinite_tracing: { trace_observer: { host: 'YOUR_TRACE_OBSERVER_HOST' } } Environment variable: NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_HOST=\"YOUR_TRACE_OBSERVER_HOST\" PHP Here's an overview of the settings. For more help with configuration, see Distributed tracing for the PHP agent Type Required configuration Standard distributed tracing Configuration examples: Configuration file (newrelic.ini): newrelic.distributed_tracing_enabled = true Infinite Tracing Configuration examples: Configuration file (newrelic.ini): newrelic.distributed_tracing_enabled = true newrelic.span_events_enabled = true newrelic.infinite_tracing.trace_observer.host= \"YOUR_TRACE_OBSERVER_HOST\" Python Here's an overview of the settings. For more help with configuration, see Python agent configuration Type Required configuration Standard distributed tracing Configuration file (newrelic.ini): distributed_tracing.enabled = true Environment variable: NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true Infinite Tracing Use the following installation command: pip install newrelic[infinite-tracing] Configuration file (newrelic.ini): distributed_tracing.enabled = true infinite_tracing.trace_observer_host= YOUR_TRACE_OBSERVER_HOST Environment variable: NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_HOST=\"YOUR_TRACE_OBSERVER_HOST\" Ruby Here's an overview of the settings. For more help with configuration, see Ruby agent configuration. Type Required configuration Standard distributed tracing Configuration examples: Configuration file (newrelic.yml): distributed_tracing: enabled: true Environment variable: NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true Infinite Tracing Configuration examples: Configuration file (newrelic.yml): distributed_tracing: enabled: true infinite_tracing: trace_observer: host: 'YOUR_TRACE_OBSERVER_HOST' Environment variable: NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_HOST=\"YOUR_TRACE_OBSERVER_HOST\" If you need help with proxy configuration, see Proxy support. Step 4. View traces After you configure your APM agents to send data to your trace observer, you're ready to view traces. Here are two alternatives: View traces that include a specific service The explorer helps you navigate to a specific service so you can see traces that include that service. Go to one.newrelic.com. Click Explorer in the top menu bar. Filter to the service you enabled for Infinite Tracing by typing the service name, and then press Enter. In the left navigation's Monitor section, click Distributed tracing. View traces across accounts This option allows you to search all traces across all New Relic accounts in your organization that you have access to. Go to one.newrelic.com. Click Apps in the top menu bar. Under Favorites click Distributed tracing. In the Find traces... search, type a search clause to find the service. For example, to query service.name or trace.id: service.name = YOUR_SERVICE_NAME trace.id = YOUR_TRACE_ID You can also run custom queries and create custom charts of your trace data. See Query trace data. Manual instrumentation (If automatic instrumentation doesn't work) Recommendation: Before performing any custom instrumentation, read: How distributed tracing works Troubleshoot missing data If a service is not passing the trace header to other services, you can use the distributed tracing payload APIs to instrument the calling service and the called service. The calling service uses an API call to generate a payload, which is accepted by the called service. Instrument the calling service To instrument the calling service: Ensure the version of the APM agent that monitors the calling service supports distributed tracing. Invoke the agent API call for generating a distributed trace payload: C SDK | Go | Java | .NET | Node.js | PHP | Python | Ruby. To maintain proper ordering of spans in a trace, ensure you generate the payload in the context of the span that sends it. Add that payload to the call made to the destination service (for example, in a header). (Optional) Identify the call as an external call: C SDK Go Java .NET: n/a Node.js PHP: n/a Python Ruby Instrument the called service To instrument the called service: Ensure the version of the APM agent that monitors the called service supports distributed tracing. If the New Relic agent on the called service does not identify a New Relic transaction, use the agent API to declare a transaction: C SDK One way to tell that a transaction is not in progress: when newrelic_create_distributed_trace_payload() is called, a NULL pointer is returned. To solve this problem, follow the procedures to create a transaction with the C SDK. Go One way to tell that a transaction is not in progress: when Transaction.InsertDistributedTraceHeaders(h http.Header) is called, no headers are inserted. To create a transaction, see Instrument Go transactions. Java One way to tell that a transaction is not in progress: when Transaction.insertDistributedTraceHeaders(Headers) is called, no headers are inserted (this API requires agent 6.4.0+). To create a transaction, see Java agent transaction-related APIs. .NET One way to tell that a transaction is not in progress: CreateDistributedTracePayload() returns an empty payload. To create a transaction, see Introduction to .NET custom instrumentation. Node.js One way to tell that a transaction is not in progress: the Node.js agent logs will report an error similar to this: No transaction found when calling Transaction.acceptDistributedTracePayload. Use startWebTransaction to create a web transaction or startBackgroundTransaction to capture a non-web transaction. PHP One way to tell that a transaction is not in progress: newrelic_insert_distributed_trace_headers() returns false. To create a transaction, see newrelic_start_transaction. Python To tell that a transaction is not in progress: when transaction = current_transaction() is run, transaction is None. Or, if result = accept_distributed_trace_payload(payload) is run, then the result is False. Use background_task to report a non-web transaction. For more on Python instrumentation, see Monitor transactions and segments. Ruby If you are using a Rack-based web framework and have enabled New Relic's Rack instrumentation, the Ruby agent will handle starting a transaction for you. For other use cases, see the add_transaction_tracer API method. Extract the payload from the call that you received (for example, in a header). Invoke the call for accepting the payload: C SDK | Go | Java | .NET | PHP | Node.js | Python | Ruby. For more help If you need more help, check out these support and learning resources: Browse the Explorers Hub to get help from the community and join in discussions. Find answers on our sites and learn how to use our support portal. Run New Relic Diagnostics, our troubleshooting tool for Linux, Windows, and macOS. Review New Relic's data security and licenses documentation.",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 81.27727,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "Language <em>agents</em>: Enable distributed tracing",
        "sections": "Language <em>agents</em>: Enable distributed tracing",
        "info": "How to enable distributed tracing or Infinite Tracing for APM <em>agents</em>.",
        "translation_ja_url": "https:&#x2F;&#x2F;docs.newrelic.co.jp&#x2F;docs&#x2F;understand-dependencies&#x2F;distributed-tracing&#x2F;enable-configure&#x2F;language-<em>agents</em>-enable-distributed-tracing",
        "body": " you find the <em>agent</em> version with the <em>features</em> you want, follow the links for help installing or updating your <em>agent</em>. For best results, update existing <em>agents</em> to the latest version. C SDK Install (compile) or update to the required C SDK version. For best results, update to the latest C SDK version"
      },
      "id": "5eb2c480e7b9d2bc7afa4921"
    },
    {
      "category_2": "Background jobs",
      "nodeid": 2911,
      "sections": [
        "Ruby agent",
        "Getting started",
        "Installation",
        "Configuration",
        "Features",
        "API guides",
        "Instrumented gems",
        "Background jobs",
        "Attributes",
        "Troubleshooting",
        "Monitor Ruby background processes",
        "Supported frameworks",
        "Monitor custom background jobs",
        "Monitor custom background methods",
        "Monitor short-lived processes",
        "Configure newrelic.yml for background processes",
        "Report to an alternate application name",
        "Ensure the agent starts",
        "Monitor scripts",
        "For more help"
      ],
      "title": "Monitor Ruby background processes",
      "category_0": "APM agents",
      "type": "docs",
      "category_1": "Ruby agent",
      "external_id": "cd5e6d055b95a8537279a6f4904bf7565418d6b4",
      "image": "",
      "url": "https://docs.newrelic.com/docs/agents/ruby-agent/background-jobs/monitor-ruby-background-processes",
      "published_at": "2021-02-22T22:10:08Z",
      "updated_at": "2021-01-31T10:23:46Z",
      "breadcrumb": "Contents / APM agents / Ruby agent / Background jobs",
      "document_type": "page",
      "popularity": 1,
      "info": "How to configure New Relic's Ruby agent to instrument background jobs.",
      "body": "Our Ruby agent automatically instruments several common background job frameworks. You can also customize it to trace any background tasks. Data from background jobs appears in the Transactions page in APM as Non-web transactions. Supported frameworks The following background job frameworks are supported by default in recent versions of the Ruby agent: Resque instrumentation (Ruby agent 3.4.0) Sidekiq instrumentation (Ruby agent 3.6.0) Delayed::Job instrumentation (Ruby agent 2.10) JRuby users may see issues with CPU metrics. If you are using these frameworks, monitoring background jobs typically doesn't require additional configuration. Monitor custom background jobs You can instrument custom background jobs to appear in the APM Transactions page as Non-web transactions. To monitor Non-web transactions while using an unsupported framework, you must add custom instrumentation. As an example, a background job periodically runs a task called SalesOrganization#find_new_leads. Add the ControllerInstrumentation module. Use the add_transaction_tracer directive below the method definition Add :category => :task to tell the agent this trace is a Non-web transaction. require 'newrelic_rpm' class SalesOrganization include ::NewRelic::Agent::Instrumentation::ControllerInstrumentation def find_new_leads ... end add_transaction_tracer :find_new_leads, :category => :task end You can pass a string to the :category, but values will only appear on the APM Transactions page if the string begins with OtherTransaction/. Monitor custom background methods Using the Ruby agent API, you can designate specific methods to trace the Non-web transactions. This gathers traces for slow running jobs and associates captured errors to transactions. To instrument a class method, use the class singleton. As an example, a background job periodically runs a task called SalesOrganization#find_new_leads. Add the ControllerInstrumentation module below the method definition. Use the add_transaction_tracer directive Add :category => :task to tell the agent this trace is a Non-web transaction. require 'newrelic_rpm' class SalesOrganization def self.find_new_leads ... end class << self include ::NewRelic::Agent::Instrumentation::ControllerInstrumentation add_transaction_tracer :find_new_leads, :category => :task end end For more information, see Ruby custom metrics. Monitor short-lived processes Make sure the process isn't running before the agent connects to the back-end servers. To do so, make the Ruby agent synchronously connect to New Relic, rather than the default asynchronous behavior. Use manual_start and pass in the :sync_startup => true option: require 'new_relic/agent' NewRelic::Agent.manual_start(:sync_startup => true) Using require 'new_relic/agent' will require the agent's code, and it will make sure the agent doesn't run until you manually start it. If the process is shorter than the agent harvest cycle, you need to manually shut down the agent with ::NewRelic::Agents.shutdown to ensure all queued data is sent. Configure newrelic.yml for background processes Configuring your newrelic.yml depends on the context of the background application. Non-Rails background application If your background app is non-Rails application already running the Ruby agent, copy your newrelic.yml file to the directory where you launch the background job or in the config subdirectory. Make sure it includes your license key. Background jobs that do not run in a Rails context will examine the NEW_RELIC_ENV environment variable to determine which section of the configuration file to read, falling back to the RUBY_ENV, RAILS_ENV, and RACK_ENV environment variables in sequence, and finally defaulting to development if none of these environment variables are set. Background job environment monitored by New Relic If your background job runs in the context of an existing web application that is already monitored with New Relic, the Ruby agent will automatically pick up your existing newrelic.yml file. Background jobs that boot your application's Rails environment will use the RAILS_ENV environment variable in order to determine which section of the newrelic.yml file to read. Report to an alternate application name You can make jobs that run in the context of an existing New Relic web application appear under a different application name in the APM UI. Begin before newrelic_rpm gets required by your worker code. Set the NEW_RELIC_APP_NAME environment variable to the application name to use for your background jobs when starting your background worker processes. This will override the app_name setting in your newrelic.yml. $ NEW_RELIC_APP_NAME=\"My Background Jobs\" ./bin/my_background_worker.rb Ensure the agent starts The Ruby agent will automatically start in most cases as soon as you require 'newrelic_rpm', unless the agent detects a blacklisted executable name, rake task name, or constant. This prevents it from starting during common rake tasks and interactive console sessions. Non-Rails standalone script Standalone scripts running without Rails generally will start the agent as soon as they require 'newrelic_rpm'. If you have a script that forks or daemonizes before it begins its main work, you may want to defer this require call until after the initial setup finishes. Background tasks with daemons gem If you use the daemons gem to start background tasks, the Ruby agent may fail to start and also not emit any logging. This happens because the daemons gem changes the working directory to / before executing your background code. The agent then attempts to resolve the paths to its configuration file and log file relative to the current working directory of the host process. To allow the agent to start in this situation, set environment variables with the locations of the agent configuration file and log file; for example: ENV['NRCONFIG'] ||= File.dirname(__FILE__) + '/../../config/newrelic.yml' ENV['NEW_RELIC_LOG'] ||= File.dirname(__FILE__) + '/../../log/newrelic_agent.log' For more information, see the documentation about controlling agent startup Monitor scripts The agent startup instructions apply when running background jobs in a daemon. If a script executes a single background task and exits, manually shut down the agent with ::NewRelic::Agents.shutdown when the script finishes. This ensures the New Relic collector receives the data. For example: require 'newrelic_rpm' class SalesOrganization include ::NewRelic::Agent::Instrumentation::ControllerInstrumentation def find_new_leads ... end add_transaction_tracer :find_new_leads, :category => :task end SalesOrganization.new.find_new_leads ::NewRelic::Agent.shutdown For more help Additional documentation resources include: Ruby custom metrics (method tracers, metric names, stats, examples Ruby agent API (public API methods for the New Relic Ruby agent) If you need more help, check out these support and learning resources: Browse the Explorers Hub to get help from the community and join in discussions. Find answers on our sites and learn how to use our support portal. Run New Relic Diagnostics, our troubleshooting tool for Linux, Windows, and macOS. Review New Relic's data security and licenses documentation.",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 78.0923,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "Monitor <em>Ruby</em> background processes",
        "sections": "<em>Ruby</em> <em>agent</em>",
        "info": "How to configure New Relic&#x27;s <em>Ruby</em> <em>agent</em> to instrument background jobs.",
        "category_0": "APM <em>agents</em>",
        "category_1": "<em>Ruby</em> <em>agent</em>",
        "body": "::<em>Agents</em>.shutdown to ensure all queued data is sent. Configure newrelic.yml for background processes Configuring your newrelic.yml depends on the context of the background application. Non-Rails background application If your background app is non-Rails application already running the <em>Ruby</em> <em>agent</em>, copy your",
        "breadcrumb": "Contents &#x2F; APM <em>agents</em> &#x2F; <em>Ruby</em> <em>agent</em> &#x2F; Background jobs"
      },
      "id": "58819a178e9c0f5677ab3947"
    }
  ],
  "/docs/integrations/kubernetes-integration/understand-use-data/kubernetes-cluster-explorer": [
    {
      "category_2": "Get started",
      "nodeid": 39376,
      "sections": [
        "Observe everything",
        "Get started",
        "Observability solutions",
        "Get started with Full-Stack Observability",
        "You’re in control because you understand your system",
        "All the answers in one place",
        "Start anywhere",
        "For more help"
      ],
      "title": "Get started with Full-Stack Observability",
      "category_0": "Full-Stack Observability",
      "type": "docs",
      "category_1": "Observe everything",
      "translation_ja_url": "https://docs.newrelic.co.jp/docs/full-stack-observability/observe-everything/get-started/get-started-full-stack-observability",
      "external_id": "c462cd451cb9f51722f1370c6b8df3932d38a4e3",
      "image": "",
      "url": "https://docs.newrelic.com/docs/full-stack-observability/observe-everything/get-started/get-started-full-stack-observability",
      "published_at": "2021-02-24T05:33:46Z",
      "updated_at": "2021-02-24T05:33:46Z",
      "breadcrumb": "Contents / Full-Stack Observability / Observe everything / Get started",
      "document_type": "page",
      "popularity": 1,
      "info": "New Relic can help you achieve full-stack observability throughout your estate. See all the possibilities.",
      "body": "Full-Stack Observability is the power of knowing what is happening in your digital system and why, at any time, whatever solution you’re using. It’s getting the whole picture of everything that enables your applications and devices to deliver value to your customers, from the container running a microservice in the cloud to a mobile website's shopping cart button. To use Full-Stack Observability and the rest of our observability platform, join the New Relic family! Sign up to create your free account in only a few seconds. Then ingest up to 100GB of data for free each month. Forever. You’re in control because you understand your system New Relic helps you cut through the layers of complexity surrounding your systems by bringing together and connecting data from any instrumented source and environment, without having to jump between tools. You can interrogate your data for patterns, discover them using our data platform, or get proactive results from our machine learning tools. New Relic provides answers to essential questions in one place. All the answers in one place As a full user you get access to our entire set of observability tools. All our tools are interconnected and accessible in New Relic One. All the data you bring to New Relic through agents and integrations are metrics, events, logs, and traces that feed our platform's analytics and monitoring capabilities. New Relic links your data in a meaningful way so that you can explore it, build dashboards, and set up alerts. Full-Stack Observability curated experiences allow to visualize, analyze, and troubleshoot your entire software stack in one unified platform. The New Relic Explorer consolidates all the entities in your system, and how they're connected, in a single place, so you can easily detect performance trends and issues. By automatically connecting infrastructure health with application performance and end-user behavior, you can cut through the noise to find the signal. Start anywhere Being fully-connected, New Relic allows you to start your observability journey from any element of your stack. For example, you can get to crucial infrastructure logs from traces of an application running on a problematic Kubernetes pod. &nbsp The more entities you instrument, the more data you'll bring in. The more data you've brought to New Relic, the more you'll understand your metrics, events, logs, and traces. You want to instrument Start with Keep exploring Front-end applications Mobile applications User behavior and flows New Relic Explorer Browser monitoring Mobile monitoring Synthetic monitoring Single page monitoring Scripted browsers Containerized minions Workloads Backend applications Serverless applications New Relic Explorer Application monitoring Serverless monitoring Learning about Apdex Distributed tracing Logs in context APM data to infrastructure Workloads Infrastructure hosts and services (on-premise, cloud, orchestrated) Container environments and orchestration tools (Kubernetes, ECS, etc.) Infrastructure monitoring Infrastructure integrations Kubernetes integration Docker integration ECS integration Log forwarding APM data to infrastructure Custom integrations Kubernetes cluster explorer Infrastructure alerts Workloads For more help If you need more help, check out these support and learning resources: Browse the Explorers Hub to get help from the community and join in discussions. Find answers on our sites and learn how to use our support portal. Run New Relic Diagnostics, our troubleshooting tool for Linux, Windows, and macOS. Review New Relic's data security and licenses documentation.",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 104.49754,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "sections": "You’re in control because you <em>understand</em> your system",
        "body": " (<em>Kubernetes</em>, ECS, etc.) Infrastructure monitoring Infrastructure <em>integrations</em> <em>Kubernetes</em> <em>integration</em> Docker <em>integration</em> ECS <em>integration</em> Log forwarding APM <em>data</em> to infrastructure Custom <em>integrations</em> <em>Kubernetes</em> cluster explorer Infrastructure alerts Workloads For more help If you need more help, check out"
      },
      "id": "6035e53ae7b9d20cf92a07d6"
    },
    {
      "category_2": "Installation",
      "nodeid": 14966,
      "sections": [
        "Kubernetes integration",
        "Get started",
        "Installation",
        "Understand and use data",
        "Link apps and services",
        "Kubernetes events",
        "Logs",
        "Troubleshooting",
        "Kubernetes integration: install and configure",
        "Use automated installer",
        "Installs for managed services and platforms",
        "Custom manifest",
        "Make sure New Relic pods can be scheduled",
        "Unprivileged installs of the Kubernetes integration",
        "Configure the integration",
        "Configure the infrastructure agent",
        "Update to the latest version",
        "Uninstall the Kubernetes integration",
        "For more help"
      ],
      "title": "Kubernetes integration: install and configure",
      "category_0": "Integrations",
      "type": "docs",
      "category_1": "Kubernetes integration",
      "translation_ja_url": "https://docs.newrelic.co.jp/docs/integrations/kubernetes-integration/installation/kubernetes-integration-install-configure",
      "external_id": "e2a0aea9a0c2461e833148e95859ee34f03bce95",
      "image": "https://docs.newrelic.com/sites/default/files/thumbnails/image/cke.jpeg",
      "url": "https://docs.newrelic.com/docs/integrations/kubernetes-integration/installation/kubernetes-integration-install-configure",
      "published_at": "2021-02-23T09:03:16Z",
      "updated_at": "2021-02-23T09:03:15Z",
      "breadcrumb": "Contents / Integrations / Kubernetes integration / Installation",
      "document_type": "page",
      "popularity": 1,
      "info": "New Relic's Kubernetes integration: How to install and activate the integration, and what data is reported.",
      "body": "The easiest way to install the Kubernetes integration is to use our automated installer to generate a manifest. It bundles not just the integration DaemonSets, but also other New Relic Kubernetes configurations, like Kubernetes events, Prometheus OpenMetrics, and New Relic log monitoring. To use Kubernetes integrations and infrastructure monitoring, as well as the rest of our observability platform, join the New Relic family! Sign up to create your free account in only a few seconds. Then ingest up to 100GB of data for free each month. Forever. Use automated installer You can use the automated installer for servers, VMs, and unprivileged environments. The installer can also help you with managed services or platforms after you review a few preliminary notes. We also have separate instructions if you need a custom manifest or prefer to do a manual unprivileged installation. Start the installer If your New Relic account is in the EU region, access the installer from one.eu.newrelic.com. Installs for managed services and platforms Before starting our automated installer, check out these notes for your managed services or platforms: Amazon EKS The Kubernetes integration monitors worker nodes. In Amazon EKS, master nodes are managed by Amazon and abstracted from the Kubernetes platforms. Before starting our automated installer to deploy the Kubernetes integration in Amazon EKS, make sure you are using the version of kubectl provided by AWS. Google Kubernetes Engine (GKE) The Kubernetes integration monitors worker nodes. In GKE, master nodes are managed by Google and abstracted from the Kubernetes platforms. Before starting our automated installer to deploy the Kubernetes integration on GKE, ensure you have sufficient permissions: Go to https://console.cloud.google.com/iam-admin/iam and find your username. Click edit. Ensure you have permissions to create Roles and ClusterRoles: If you are not sure, add the Kubernetes Engine Cluster Admin role. If you cannot edit your user role, ask the owner of the GCP project to give you the necessary permissions. Ensure you have a RoleBinding that grants you the same permissions to create Roles and ClusterRoles: kubectl create clusterrolebinding YOUR_USERNAME-cluster-admin-binding --clusterrole=cluster-admin --user=YOUR_GCP_EMAIL Creating a RoleBinding is necessary because of a known RBAC issue in Kubernetes and Kubernetes Engine versions 1.6 or higher. For more information, see Google Cloud's documentation on defining permissions in a role. OpenShift container platform To deploy the Kubernetes integration with OpenShift: Add the <release_name>-newrelic-infrastructure service account to your privileged Security Context Constraints: oc adm policy add-scc-to-user privileged \\ system:serviceaccount: <namespace> :<release_name>-newrelic-infrastructure The default <release_name> provided by the installer is nri-bundle. Complete the steps in our automated installer. If you're using signed certificates, make sure they are properly configured by using the following variables in the DaemonSet portion of your manifest to set the .pem file: - name: NRIA_CA_BUNDLE_DIR value: YOUR_CA_BUNDLE_DIR - name: NRIA_CA_BUNDLE_FILE value: YOUR_CA_BUNDLE_NAME YAML key path: spec.template.spec.containers.name.env Save your changes. Azure Kubernetes Service (AKS) The Kubernetes integration monitors worker nodes. In Azure Kubernetes Service, master nodes are managed by Azure and abstracted from the Kubernetes platforms. To deploy in Azure Kubernetes Service (AKS), complete the steps in our automated installer. Pivotal Container Service (PKS / VMware Tanzu) To deploy in PKS, we recommend that you use the automated installer, or you can follow the manual instructions provided in Install the Kubernetes integration using Helm. Custom manifest If the Kubernetes automated installer doesn't provide the settings you need, you can download our manifest template and install the integration manually. To activate the Kubernetes integration, you must deploy the newrelic-infra agent onto a Kubernetes cluster as a DaemonSet: Install kube-state-metrics and get it running on the cluster. For example: curl -L -o kube-state-metrics- 1.9.5 .zip https://github.com/kubernetes/kube-state-metrics/archive/v 1.9.5 .zip && unzip kube-state-metrics- 1.9.5 .zip && kubectl apply -f kube-state-metrics- 1.9.5 /examples/standard Download the manifest file: curl -O https://download.newrelic.com/infrastructure_agent/integrations/kubernetes/newrelic-infrastructure-k8s-latest.yaml In the DaemonSet portion of your manifest, add your New Relic license key and a cluster name to identify your Kubernetes cluster. Both values are required. Recommendation: Do not change the NRIA_PASSTHROUGH_ENVIRONMENT or NRIA_DISPLAY_NAME value in your manifest. YOUR_CLUSTER_NAME is your cluster’s id in New Relic’s entity explorer. It doesn’t need to match the name of the cluster running in your environment. YAML key path: spec.template.spec.containers.name.env env: - name: NRIA_LICENSE_KEY value: YOUR_LICENSE_KEY - name: CLUSTER_NAME value: YOUR_CLUSTER_NAME If you need to adapt the manifest to fit your environment, review the configure section in this doc. Confirm that kube-state-metrics is installed. kubectl get pods --all-namespaces | grep kube-state-metrics Create the DaemonSet: kubectl create -f newrelic-infrastructure-k8s-latest.yaml Confirm that the DaemonSet has been created successfully by looking for newrelic-infra in the results generated by this command: kubectl get daemonsets To confirm that the integration is working: wait a few minutes, then look for data in the New Relic Kubernetes cluster explorer. If you don't see data, review the configuration procedures again, then follow the troubleshooting procedures. In the future, the number of labels collected on Kubernetes objects will be limited per object type (containers, pods, nodes, etc.). If objects have labels above the limit, you will be able to configure important labels that should always be sent to New Relic. When the limitation is in place, this documentation will be updated. Make sure New Relic pods can be scheduled Some of the New Relic pods are set up as DaemonSet in the manifest file so that they can run on every host. These include newrelic-infrastructure and newrelic-logging. In rare circumstances, other pods may be scheduled first and starve the New Relic pods of resources. Since each of these pods have to run on a specific host, they will stay in pending status until that host has enough resources, even if there are other hosts available. This could end up occurring for long periods of time and result in reporting gaps. To prevent this scenario, you can configure the Kubernetes scheduler to give New Relic pods a higher priority. Using the default scheduler: Ensure kube-scheduler flag disablePreemption is not set to true (by default it is false). Create a PriorityClass for the New Relic DaemonSet pods: Set the appropriate priority value, which should generally be higher than your other pods. preemptionPolicy is set to PreemptLowerPriority by default. This allows New Relic pods assigned this priority class to remove lower-priority pods that are taking up resources. Edit the manifest file to add priorityClassName to any DaemonSet specs. In the example below, the highlighted line sets the priority class for newrelic-infrastructure: apiVersion: apps/v1 kind: DaemonSet metadata: namespace: default labels: app: newrelic-infrastructure chart: newrelic-infrastructure-1.0.0 release: nri-bundle mode: privileged name: nri-bundle-newrelic-infrastructure spec: priorityClassName: your-priority-class ... If you have already deployed the New Relic pods, re-deploy them and confirm they have been created: kubectl delete -f newrelic-infrastructure-k8s-latest.yaml kubectl create -f newrelic-infrastructure-k8s-latest.yaml kubectl get daemonsets Unprivileged installs of the Kubernetes integration For platforms that have stringent security requirements, we provide an unprivileged version of the Kubernetes integration. Changes from the standard Kubernetes integration are: Runs the infrastructure agent and the Kubernetes integration as a standard user instead of root No access to the underlying host filesystem No access to /var/run/docker.sock Container's root filesystem mounted as read-only allowPrivilegeEscalation is set to false hostnetwork is set to false The tradeoff is that the solution will only collect metrics from Kubernetes, but it will not collect any metric from the underlying hosts directly. Kubernetes provides some data (metrics and metadata) about its nodes (hosts). Optional: To collect the underlying host metrics, the non-containerized infrastructure agent can be deployed on the underlying host. The infrastructure agent already supports running as non-root. The combination of the Kubernetes integration in its unprivileged version and the agent running on the host will report all the metrics that our standard solution for monitoring Kubernetes receives. Steps to complete an unprivileged install Install kube-state-metrics and get it running on the cluster. For example: curl -L -o kube-state-metrics- 1.9.5 .zip https://github.com/kubernetes/kube-state-metrics/archive/v 1.9.5 .zip && unzip kube-state-metrics- 1.9.5 .zip && kubectl apply -f kube-state-metrics- 1.9.5 /examples/standard Download the integration manifest: curl -O https://download.newrelic.com/infrastructure_agent/integrations/kubernetes/newrelic-infrastructure-k8s-unprivileged-latest.yaml In the manifest, add your New Relic license key and a cluster name to identify your Kubernetes cluster. Both values are required. YOUR_CLUSTER_NAME is your cluster’s id in New Relic’s entity explorer. It doesn’t need to match the name of the cluster running in your environment. env: - name: NRIA_LICENSE_KEY value: YOUR_LICENSE_KEY - name: CLUSTER_NAME value: YOUR_CLUSTER_NAME YAML key path: spec.template.spec.containers.name.env Confirm that kube-state-metrics is installed. kubectl get pods --all-namespaces | grep kube-state-metrics Create the DaemonSet: kubectl create -f newrelic-infrastructure-k8s-unprivileged-latest.yaml Confirm that the DaemonSet has been created successfully by looking for newrelic-infra in the results generated by this command: kubectl get daemonsets To confirm that the integration has been configured correctly, wait a few minutes, then run this NRQL query to see if data has been reported: SELECT * FROM K8sPodSample since 5 minutes ago Configure the integration The Kubernetes integration comes with a default configuration that should work in most environments. To change the configuration, modify the manifest file: Select which processes should send their data to New Relic By default, data about the processes running on your pods is not sent to New Relic. You can enable it by setting enable_process_metrics to true. To choose what metric data you want to send to New Relic, configure the include_matching_metrics environment variable in your manifest. Specify the Kubernetes API host and port This is necessary when you are using SSL and not using the default FQDN. The Kubernetes API FQDN needs to match the FQDN of the SSL certificate. You do not need to specify both variables. For example, if you only specify the HOST, the default PORT will be used. - name: \"KUBERNETES_SERVICE_HOST\" value: \"KUBERNETES_API_HOST\" - name: \"KUBERNETES_SERVICE_PORT\" value: \"KUBERNETES_API_TCP_PORT\" Kubernetes versions 1.6 to 1.7.5: Edit manifest file For Kubernetes versions 1.6 to 1.7.5, uncomment these two lines in the manifest file: - name: \"CADVISOR_PORT\" # Enable direct connection to cAdvisor by specifying the port. Needed for Kubernetes versions prior to 1.7.6. value: \"4194\" Use environment variables Use environment variables that can be passed to the Kubernetes integration if you use a proxy to configure its URL. Disable kube-state-metrics parsing You can disable kube-state-metrics parsing for the DaemonSet by using the following configuration: - name: \"DISABLE_KUBE_STATE_METRICS\" value: \"true\" Disabling kube-state-metrics also disables data collection for the following: ReplicaSets DaemonSets StatefulSets Namespaces Deployments Services Endpoints Pods (that are pending) Additionally, disabling this affects the Kubernetes Cluster Explorer in the following ways: No pending pods are shown. No filters based on services. Specify the kube-state-metrics URL If several instances of kube-state-metrics are present in the cluster, uncomment and configure the following lines to specify which one to use: - name: \"KUBE_STATE_METRICS_URL\" value: \"http://KUBE_STATE_METRICS_IP_OR_FQDN:PORT\" Even though a KUBE_STATE_METRICS_URL is defined, the KSM service should contain one of the following labels for the auto-discovery process: k8s-app=kube-state-metrics OR app=kube-state-metrics OR ​​app.kubernetes.io/name=kube-state-metrics This configuration option overrides KUBE_STATE_METRICS_POD_LABEL. If you have both defined, KUBE_STATE_METRICS_POD_LABEL has no effect. Discover kube-state-metrics pods using a label If several instances of kube-state-metrics are present in the cluster, another option to easily target one of these instances with the Kubernetes integration is to use label-based discovery. - name: \"KUBE_STATE_METRICS_POD_LABEL\" value: \"LABEL_NAME\" When a KUBE_STATE_METRICS_POD_LABEL is defined, the label should have a value equal to true. For example, if the label name is my-ksm, ensure that my-ksm=true. This configuration option is incompatible with KUBE_STATE_METRICS_URL. If you have both defined, KUBE_STATE_METRICS_URL is used. Query kube-state-metrics behind RBAC If your instance of kube-state-metrics is behind kube-rbac-proxy, the integration can be configured in a compatible way using the combination of the label-based discovery and two other environment variables: - name: \"KUBE_STATE_METRICS_SCHEME\" value: \"https\" - name: \"KUBE_STATE_METRICS_PORT\" value: \"KSM_RBAC_PROXY_PORT\" To confirm which port should be used as the value of KUBE_STATE_METRICS_PORT, we recommend running a describe command on the kube-state-metrics pod and look for the port exposed by the container named kube-rbac-proxy-main. These two configuration options only work when using the KUBE_STATE_METRICS_POD_LABEL ​configuration described above. kube-state-metrics timeout: Increase the client timeout To increase the client timeout of kube-state-metrics, add a new environment variable, TIMEOUT, to the manifest file: env: - name: TIMEOUT value: 5000 # The default client timeout when calling kube-state-metrics, in milliseconds Then, add this new environment variable to the NRIA_PASSTHROUGH_ENVIRONMENT Non-default namespace deployments: Edit config file If you want to deploy in a different namespace from default, change all values of namespace in the manifest. Set the TTL for the Kubernetes API responses cache By default, the integration will cache any retrieved information from the Kubernetes API for 5 minutes. Use the API_SERVER_CACHE_TTL environment variable to set a custom cache duration for responses from the API server. Valid time unit values are: ns, us, ms, s, m, and h. To disable caching, set to 0s. env: - name: API_SERVER_CACHE_TTL value: \"1m\" Specify base URLs for control plane component endpoints Use the following environment variables if any of the Kubernetes control plane components export metrics on base URLs that are different from the defaults. This is necessary for environments such as OpenShift when a control plane component metrics endpoint is using SSL or an alternate port. Values of these environment variables must be base URLs of the form [scheme]://[host]:[port]. URLs should not include a path component. For example: - name: \"SCHEDULER_ENDPOINT_URL\" value: \"https://localhost:10259\" - name: \"ETCD_ENDPOINT_URL\" value: \"https://localhost:9979\" - name: \"CONTROLLER_MANAGER_ENDPOINT_URL\" value: \"https://localhost:10257\" - name: \"API_SERVER_ENDPOINT_URL\" value: \"https://localhost:6443\" The /metrics path segment is added automatically. In addition, if the https scheme is used, authentication to the control plane component pod(s) is accomplished via service accounts. If a FQDN (fully qualified domain name) is used in a multi-master cluster, inconsistent results may be returned. Therefore, it is recommended to use localhost only. Even though a custom base URL is defined for a given control plane component, the control plane component pod(s) must contain one of the labels supported by the auto-discovery process. Even though a custom ETCD_ENDPOINT_URL can be defined, ETCD will always require https and mTLS authentication to be configured. Here are some additional configurations to consider: Do more configuration for control plane monitoring Link New Relic APM to the Kubernetes integration Monitor services that run on Kubernetes Configure the infrastructure agent The Kubernetes integration image comes with a default configurations for the agent that can be modified if needed. When installing with the manifest, you can modify the infrastructure agent configuration by editing the manifest and adding any needed configuration option of the agent as environment variables of the newrelic-infrastructure DaemonSet. When installing with Helm, you can specify the needed infrastructure agent configuration options in the values.yaml as shown in the example in GitHub. The config object is used to populate the configMap that is mounted automatically in the location of the infrastructure agent configuration file in the pods created by the newrelic-infrastructure DaemonSet. Update to the latest version If you are already running the Kubernetes integration and want to update the newrelic-infra agent to the latest agent version: Run this NRQL query to check which version you are currently running (this will return the image name by cluster): SELECT latest(containerImage) FROM K8sContainerSample WHERE containerImage LIKE '%newrelic/infrastructure%' FACET clusterName SINCE 1 day ago If you've set a name other than newrelic/infrastructure for the integration's container image, the above query won't yield results: to make it work, edit the name in the query. Download the integration manifest file: curl -O https://download.newrelic.com/infrastructure_agent/integrations/kubernetes/newrelic-infrastructure-k8s-latest.yaml Copy the changes you made to the manifest. At a minimum, include CLUSTER_NAME and NRIA_LICENSE_KEY, and paste your changes in the manifest you downloaded. Install the latest DaemonSet with the following command (Kubernetes will automatically do a rollout upgrade for the integration's pods): kubectl apply -f newrelic-infrastructure-k8s-latest.yaml Uninstall the Kubernetes integration To uninstall the Kubernetes integration: Verify that newrelic-infrastructure-k8s-latest.yaml corresponds to the filename of the manifest as you have saved it. Example: If you are using the unprivileged version of the integration, the default filename will be newrelic-infrastructure-k8s-unprivileged-latest.yaml. After you verify the filename, use the following command: kubectl delete -f newrelic-infrastructure-k8s-latest.yaml You only need to execute this command once, regardless of the number of nodes in your cluster. For more help If you need more help, check out these support and learning resources: Browse the Explorers Hub to get help from the community and join in discussions. Find answers on our sites and learn how to use our support portal. Run New Relic Diagnostics, our troubleshooting tool for Linux, Windows, and macOS. Review New Relic's data security and licenses documentation.",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 103.14933,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "<em>Kubernetes</em> <em>integration</em>: install <em>and</em> configure",
        "sections": "<em>Kubernetes</em> <em>integration</em>: install <em>and</em> configure",
        "info": "New Relic&#x27;s <em>Kubernetes</em> <em>integration</em>: How to install <em>and</em> activate the <em>integration</em>, <em>and</em> what <em>data</em> is reported.",
        "category_0": "<em>Integrations</em>",
        "category_1": "<em>Kubernetes</em> <em>integration</em>",
        "translation_ja_url": "https:&#x2F;&#x2F;docs.newrelic.co.jp&#x2F;docs&#x2F;<em>integrations</em>&#x2F;<em>kubernetes</em>-<em>integration</em>&#x2F;installation&#x2F;<em>kubernetes</em>-<em>integration</em>-install-configure",
        "body": " <em>Kubernetes</em> <em>integrations</em> and infrastructure monitoring, as well as the rest of our observability platform, join the New Relic family! Sign up to create your free account in only a few seconds. Then ingest up to 100GB of <em>data</em> for free each month. Forever. <em>Use</em> automated installer You can <em>use</em>",
        "breadcrumb": "Contents &#x2F; <em>Integrations</em> &#x2F; <em>Kubernetes</em> <em>integration</em> &#x2F; Installation"
      },
      "id": "5efd3b2e64441fd60f5f7e49"
    },
    {
      "category_2": "Kubernetes integration release notes",
      "nodeid": 42606,
      "sections": [
        "Infrastructure agent release notes",
        "Cloud integration release notes",
        "Kubernetes integration release notes",
        "Deprecation notice: Kubernetes v1.7 or lower",
        "Background",
        "What is happening?",
        "What do you need to do?",
        "What happens if you don’t make any changes to your account?"
      ],
      "title": "Deprecation notice: Kubernetes v1.7 or lower",
      "category_0": "Release notes",
      "type": "docs",
      "category_1": "Infrastructure agent release notes",
      "external_id": "fb62db029b2eded23abb1230392a3aa6860d497c",
      "image": "",
      "url": "https://docs.newrelic.com/docs/release-notes/infrastructure-release-notes/kubernetes-integration-release-notes/deprecation-notice-kubernetes-v17-or-lower",
      "published_at": "2021-02-23T07:46:06Z",
      "updated_at": "2021-02-15T17:30:23Z",
      "breadcrumb": "Contents / Release notes / Infrastructure agent release notes / Kubernetes integration release notes",
      "document_type": "release_notes",
      "popularity": -2,
      "body": "[RSS] Released on:  Friday, May 15, 2020 - 16:03 Effective Wednesday, 12 August 2020, Kubernetes integration v1.7 or lower will be deprecated. To avoid losing data, upgrade to the latest version. For more information, read this note or contact your account team. Background In order to provide the best possible experience for monitoring Kubernetes, we are merging the Kubernetes Cluster Explorer into New Relic One, where you’ll enjoy all the latest features. What is happening? We will support Kubernetes integrations v1.7 or lower until Wednesday, 12 August 2020. Starting on July 1st the Kubernetes Cluster Explorer will only be available at one.newrelic.com > Kubernetes Cluster Explorer. The Kubernetes Cluster Explorer will only be compatible with Kubernetes integrations v.1.8 and newer from Wednesday, August 12th. Therefore in order to enjoy the latest features and to be fully compatible with the New Relic One Kubernetes Cluster Explorer, you must upgrade your Kubernetes integration to the latest version. What do you need to do? Follow the instructions here to upgrade to the latest version of the Kubernetes integration. What happens if you don’t make any changes to your account? The Kubernetes integration will still send data to the New Relic platform, though the Kubernetes Cluster Explorer in New Relic One will not work for Clusters running Kubernetes integration versions v1.7 or older after Wednesday, 12 August. In other words, the integration will still send data, however you will be unable to view that data in the Cluster Explorer.",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 97.795395,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "Deprecation notice: <em>Kubernetes</em> v1.7 or lower",
        "sections": "<em>Kubernetes</em> <em>integration</em> release notes",
        "category_2": "<em>Kubernetes</em> <em>integration</em> release notes",
        "body": "[RSS] Released on:  Friday, May 15, 2020 - 16:03 Effective Wednesday, 12 August 2020, <em>Kubernetes</em> <em>integration</em> v1.7 or lower will be deprecated. To avoid losing <em>data</em>, upgrade to the latest version. For more information, read this note or contact your account team. Background In order to provide",
        "breadcrumb": "Contents &#x2F; Release notes &#x2F; Infrastructure agent release notes &#x2F; <em>Kubernetes</em> <em>integration</em> release notes"
      },
      "id": "602aafaf196a67232a405a7c"
    },
    {
      "nodeid": 9921,
      "sections": [
        "Install and configure the infrastructure agent",
        "Get started",
        "Linux installation",
        "Windows installation",
        "Config management tools",
        "Configuration",
        "Update or uninstall",
        "Manage your agent",
        "Requirements for the infrastructure agent",
        "Processor architectures",
        "Operating systems",
        "Unique hostname",
        "Permissions",
        "Libraries",
        "Network access",
        "Container software",
        "CPU, memory, and disk usage",
        "Configuration management tools",
        "For more help"
      ],
      "title": "Requirements for the infrastructure agent",
      "category_0": "Infrastructure monitoring",
      "type": "docs",
      "category_1": "Install and configure the infrastructure agent",
      "translation_ja_url": "https://docs.newrelic.co.jp/docs/infrastructure/install-infrastructure-agent/get-started/requirements-infrastructure-agent",
      "external_id": "71d7349826202468aec8827527896e9bd07d0b2b",
      "image": "https://docs.newrelic.com/sites/default/files/thumbnails/image/amazon%20linux.png",
      "url": "https://docs.newrelic.com/docs/infrastructure/install-infrastructure-agent/get-started/requirements-infrastructure-agent",
      "published_at": "2021-02-23T09:31:50Z",
      "updated_at": "2021-02-23T09:31:50Z",
      "breadcrumb": "Contents / Infrastructure monitoring / Install and configure the infrastructure agent / Get started",
      "document_type": "page",
      "popularity": 1,
      "info": "Compatibility information for infrastructure monitoring, including supported Linux and Windows versions.",
      "body": "Before installing our infrastructure agent, make sure your system and any on-host integrations you configure meet the requirements. Processor architectures The infrastructure agent supports only x86 processor architectures: Linux: 64-bit architecture (also requires 64-bit package manager and dependencies) Windows: both 32 and 64-bit architectures ARM: AWS Graviton 2 processor (using the tarball setup instructions). Support is limited to infrastructure monitoring. Integrations, such as log forwarding, may not work as expected. Operating systems The infrastructure agent supports these operating systems: Operating system Supported by the infrastructure agent Amazon Linux All versions CentOS Version 7 or higher Debian Version 8 (\"Jessie\") or higher Docker Docker 1.12 Kubernetes Tested with versions 1.10 to 1.16 Red Hat Enterprise Linux (RHEL) Version 6 or higher SUSE Linux Enterprise Server (SLES) Versions 11.4, 12.1, 12.2, 12.3, and 12.4 Ubuntu LTS versions 14.04.x, 16.04.x, 18.04.x, 20.04.x Windows Windows Server 2012, 2016, and 2019, and their service packs. Windows 10 (only the infrastructure agent is supported). Operating systems are not supported beyond end-of-life. You can monitor Amazon BottleRocket workloads: When running EC2 instances, use the containerized agent. On EKS, install the Kubernetes integration. For ECS clusters, deploy the ECS integration. Unique hostname The infrastructure agent uses the hostname to uniquely identify each server. To avoid inaccurate metrics from combining multiple servers under a single hostname, make sure that each monitored server has a unique hostname. You can use the optional display_name setting to override the default hostname. Servers named localhost are not reported: it's a default name and inherently non-unique. Permissions The infrastructure agent requires these permissions: Linux: By default, the agent runs and installs as root. You can also select privileged or unprivileged run modes. Windows: The agent must be installed from an Administrator account and requires Administrator privileges to run. Libraries For agent versions 1.1.19 or higher, you need the libcap library in order to install Infrastructure. It's available in the official repositories of your distribution. Network access In order to report data to New Relic, our infrastructure agent must have outbound access to certain domains and ports. If your system needs a proxy to connect to these domains, use the proxy setting. Container software The infrastructure agent instruments Docker containers when installed on the host server. We support Docker versions 1.12 or higher. CPU, memory, and disk usage The infrastructure agent is fairly lightweight. For typical CPU, memory, and disk usage, see our page on agent performance overhead. For more information on supported file systems, see Storage sample attributes. Configuration management tools The infrastructure agent can be deployed programmatically using several config management and deploy tools: Ansible Chef Elastic Beanstalk Puppet For more help If you need more help, check out these support and learning resources: Browse the Explorers Hub to get help from the community and join in discussions. Find answers on our sites and learn how to use our support portal. Run New Relic Diagnostics, our troubleshooting tool for Linux, Windows, and macOS. Review New Relic's data security and licenses documentation.",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 91.59802,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "sections": "Install <em>and</em> configure the infrastructure agent",
        "info": "Compatibility information for infrastructure monitoring, including supported Linux <em>and</em> Windows versions.",
        "category_1": "Install <em>and</em> configure the infrastructure agent",
        "body": " monitor Amazon BottleRocket workloads: When running EC2 instances, <em>use</em> the containerized agent. On EKS, install the <em>Kubernetes</em> <em>integration</em>. For ECS clusters, deploy the ECS <em>integration</em>. Unique hostname The infrastructure agent uses the hostname to uniquely identify each server. To avoid inaccurate"
      },
      "id": "5f57ecf0e7b9d21d5facfd7b"
    },
    {
      "category_2": "Specifications",
      "nodeid": 36771,
      "sections": [
        "Infrastructure Integrations SDK",
        "Get started",
        "Specifications",
        "Troubleshooting",
        "On-host integration configuration overview",
        "Overview of how configuration works",
        "Configuration file location",
        "Configuration formats",
        "For more help"
      ],
      "title": "On-host integration configuration overview",
      "category_0": "Create integrations",
      "type": "docs",
      "category_1": "Infrastructure Integrations SDK",
      "external_id": "4b1d37e1ea3294fafb8fe4986882cca145a4982d",
      "image": "",
      "url": "https://docs.newrelic.com/docs/create-integrations/infrastructure-integrations-sdk/specifications/host-integration-configuration-overview",
      "published_at": "2021-02-23T02:57:52Z",
      "updated_at": "2021-02-16T01:04:30Z",
      "breadcrumb": "Contents / Create integrations / Infrastructure Integrations SDK / Specifications",
      "document_type": "page",
      "popularity": 1,
      "info": "Configuration overview of New Relic's on-host integrations.",
      "body": "New Relic's on-host integrations send data to the infrastructure agent, which in turn sends that data to New Relic. How integrations interact with the agent is controlled by each integration's config. Understanding more about configuration can help you troubleshoot issues with your on-host integration. Overview of how configuration works New Relic's on-host integrations are external programs executed by the infrastructure agent. Each integration monitors a specific service. An integration has, at minimum, these files: An executable that exports various types of data in a JSON format expected by the agent One or more YAML-format config files (for example, the Apache integration configuration). (We recommend linting YAML config files before use to avoid formatting issues.) Note that in addition to the specific on-host integration's configuration, you can also edit the infrastructure agent's configuration. Configuration file location With standard on-host integration installations, the configuration is located in the infrastructure agent's directory. The agent determines this config location by a setting in its own configuration file. For some implementations, the integration's configuration will be located elsewhere. For example: Services running on Kubernetes: The configuration is located in the Kubernetes integration config file. Services running on Amazon ECS: The configuration is placed in the AWS console. Configuration formats On-host integrations use two configuration formats: Standard: This is the format used by most on-host integrations. This configuration uses two files: a definition file and a configuration file. For more details, see Standard configuration. Newer: Starting December 2019, infrastructure agent version 1.8.0 began supporting a new format used by some integrations. This format uses a single configuration file and provides other improvements. For more details, see Newer configuration. For more help",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 90.220955,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "On-host <em>integration</em> configuration overview",
        "sections": "Infrastructure <em>Integrations</em> SDK",
        "info": "Configuration overview of New Relic&#x27;s on-host <em>integrations</em>.",
        "category_0": "Create <em>integrations</em>",
        "category_1": "Infrastructure <em>Integrations</em> SDK",
        "body": "&#x27;s configuration will be located elsewhere. For example: Services running on <em>Kubernetes</em>: The configuration is located in the <em>Kubernetes</em> <em>integration</em> config file. Services running on Amazon ECS: The configuration is placed in the AWS console. Configuration formats On-host <em>integrations</em> <em>use</em> two configuration",
        "breadcrumb": "Contents &#x2F; Create <em>integrations</em> &#x2F; Infrastructure <em>Integrations</em> SDK &#x2F; Specifications"
      },
      "id": "5f2b10cee7b9d2db70bf4a30"
    }
  ],
  "/docs/apm/new-relic-apm/apdex/change-your-apdex-settings": [
    {
      "image": "https://newrelic.com/themes/custom/curio/assets/images/metadata/NROG_Image.png",
      "url": "https://newrelic.com/press-releases/20090715",
      "sections": [
        "Apdex Alliance Certifies New Relic’s Application Management Solution",
        "About The Apdex Alliance",
        "About New Relic",
        "Media Contact",
        "Investor Contact"
      ],
      "published_at": "2021-02-22T14:47:05Z",
      "title": "Apdex Alliance Certifies New Relic’s Application Management Solution | New Relic",
      "updated_at": "2021-02-22T14:47:04Z",
      "type": "",
      "external_id": "adc5c31dc3f37100905ce5ebe75790b9004d4cb3",
      "popularity": 1,
      "body": "Skip to main content New Relic logo Search Submit Products Products New Relic One Platform Overview Telemetry Data Platform Full-Stack Observability Applied Intelligence Pricing Solutions Solutions By Topic DevOps Cloud Adoption Cloud Native Digital Customer Experience Tool Consolidation Open Source By Industry E-commerce and Retail Media Public Sector By Technology Amazon Web Services Pivotal Cloud Foundry Microsoft Azure Google Cloud Platform Kubernetes Help Center Help Center Learn Docs Build on New Relic Explore open source projects Training The Relicans Get help Community forum Global technical support Expert services About About Our Customers Over 17,000 customers love New Relic, from Fortune 500 enterprises to small businesses around the globe. Our Blog The latest news, tips, and insights from the world of New Relic and digital intelligence. Our Company About Us Leadership Meetups and Events Resources Social Impact Investor Relations Newsroom Partner Program Contact Us New Relic for iOS or Android New Relic Insights App for iOS Search toggle Log in Sign up Main navigation menu, 5 items Newsroom Press Release Apdex Alliance Certifies New Relic’s Application Management Solution RPM offers Apdex reporting and measurement to help improve application and business performance Share on Facebook Share on Twitter Share on LinkedIn San Francisco - July 15, 2009 New Relic, Inc., a leading provider of application performance management solutions, today announced that its RPM product has been certified as an Apdex compliant product by the Apdex Alliance. RPM provides Apdex metrics in application status dashboards and in detailed reports, making it easier to ensure applications are meeting end-user expectations and application performance goals. Developed by an alliance of companies concerned with helping application providers ensure end-user satisfaction, Apdex (Application Performance Index) is an open standard that defines a method for reporting, benchmarking, and tracking user satisfaction with application performance. By specifying a uniform way to measure and report user experiences, the Apdex standard helps companies assure that their applications are meeting customer needs as well as business objectives. \"We are very pleased to add New Relic RPM to the growing list of products in our certification program,\" said Peter Sevcik, Apdex Alliance executive director. \"RPM extends Apdex with capabilities that make it easier for application managers to understand when and why applications are not performing. As a member of the Apdex Alliance, New Relic shares our commitment to ensuring that enterprises can improve application and IT infrastructure performance, and better align business with IT.\" RPM is a subscription-based performance management solution that enables IT operations and developers to quickly and cost-effectively monitor, troubleshoot, and tune performance in real time. The metrics provided by RPM allow rapid discovery and analysis of performance bottlenecks and their root causes. In addition, RPM uses the Apdex performance index to continuously score applications based on the end user’s experience. With RPM’s Apdex scoring, developers and application owners can agree upon the response time goals for each application and use a simple metric to measure whether they are achieving those goals. Furthermore, with this information, managers can quickly see which applications need improvement or investment. \"The Apdex standard provides a great way to prioritize which parts of your application should be optimized first,\" said Bill Harding, founder of Bonanzle, a leading online marketplace, and New Relic customer. \"New Relic’s application performance management solution makes Apdex measurement practicable by providing a very coherent and readable graphical interface that lets you rapidly determine when a production application needs to be optimized. This way, you eliminate time spent creating subjective criteria and time spent measuring which parts of the app aren’t meeting that criteria.\" \"This standard is an important part of effective application management, and New Relic customers around the world benefit tremendously from RPM’s Apdex reporting and measurement,\" said Lew Cirne, CEO of New Relic. \"RPM provides valuable, real-time insight into application uptime, performance, and end-user response times. The certification by the Apdex Alliance provides validation that RPM offers essential capabilities for consistently improving business performance and end-user satisfaction.\" About The Apdex Alliance The Apdex Alliance is a group of companies collaborating to define and promote an application performance metric called Apdex, a numerical measure of user satisfaction with the performance of enterprise applications, and reflects the effectiveness of IT investments in contributing to business objectives. Founded in 2004 by Peter Sevcik of NetForecast, Apdex is available to any organization seeking insight into their IT investments. Visit www.Apdex.org for more information. Back to press releases About New Relic The world’s best engineering teams rely on New Relic to visualize, analyze and troubleshoot their software. New Relic One is the most powerful cloud-based observability platform built to help companies create more perfect software. Learn why customers trust New Relic for improved uptime and performance, greater scale and efficiency, and accelerated time to market at newrelic.com. New Relic is a registered trademark of New Relic, Inc. All product and company names herein may be trademarks of their registered owners. New Relic on Facebook New Relic on Twitter New Relic on LinkedIn New Relic on YouTube Media Contact Andrew Schmitt 415-869-7109 PR@newrelic.com Investor Contact Peter Goldmacher 503-336-9280 IR@newrelic.com Company Careers and Culture Partner Program Investor Relations NewRelic.org Suppliers Portal Connect Contact Us Request Demo Events International 日本語 Français Deutsch 한국어 Facebook Twitter LinkedIn YouTube Instagram Terms of Service DMCA Policy Privacy Policy Cookie Policy UK Slavery Act of 2015 ©2008-21 New Relic, Inc. All rights reserved",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 93.440834,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "<em>Apdex</em> Alliance Certifies <em>New</em> <em>Relic’s</em> Application Management Solution | <em>New</em> <em>Relic</em>",
        "sections": "<em>Apdex</em> Alliance Certifies <em>New</em> <em>Relic’s</em> Application Management Solution",
        "body": " Meetups and Events Resources Social Impact Investor Relations Newsroom Partner Program Contact Us <em>New</em> <em>Relic</em> for iOS or Android <em>New</em> <em>Relic</em> Insights App for iOS Search toggle Log in Sign up Main navigation menu, 5 items Newsroom Press Release <em>Apdex</em> Alliance Certifies <em>New</em> <em>Relic</em>’s Application Management"
      },
      "id": "575f8b790755233594057b70"
    },
    {
      "image": "https://newrelic.com/themes/custom/curio/assets/images/metadata/NROG_Image.png",
      "url": "https://newrelic.com/press-releases/20090303",
      "sections": [
        "New Relic Joins Apdex Alliance",
        "About Apdex",
        "About New Relic",
        "Media Contact",
        "Investor Contact"
      ],
      "published_at": "2021-02-22T14:46:39Z",
      "title": "New Relic Joins Apdex Alliance | New Relic",
      "updated_at": "2021-02-22T14:46:39Z",
      "type": "",
      "external_id": "b707ee9031ed57f66e704caadea49b5f7d6e84d8",
      "popularity": 1,
      "body": "Skip to main content New Relic logo Search Submit Products Products New Relic One Platform Overview Telemetry Data Platform Full-Stack Observability Applied Intelligence Pricing Solutions Solutions By Topic DevOps Cloud Adoption Cloud Native Digital Customer Experience Tool Consolidation Open Source By Industry E-commerce and Retail Media Public Sector By Technology Amazon Web Services Pivotal Cloud Foundry Microsoft Azure Google Cloud Platform Kubernetes Help Center Help Center Learn Docs Build on New Relic Explore open source projects Training The Relicans Get help Community forum Global technical support Expert services About About Our Customers Over 17,000 customers love New Relic, from Fortune 500 enterprises to small businesses around the globe. Our Blog The latest news, tips, and insights from the world of New Relic and digital intelligence. Our Company About Us Leadership Meetups and Events Resources Social Impact Investor Relations Newsroom Partner Program Contact Us New Relic for iOS or Android New Relic Insights App for iOS Search toggle Log in Sign up Main navigation menu, 5 items Newsroom Press Release New Relic Joins Apdex Alliance As a Member, New Relic supports the Apdex open standard — an objective method of reporting, benchmarking, and tracking application performance Share on Facebook Share on Twitter Share on LinkedIn San Francisco - March 3, 2009 New Relic, Inc., the leading provider of Ruby on Rails application performance management solutions, today announced that that it has become a contributing member of the Apdex Alliance. The Alliance seeks to define and promote Apdex, an open standard for measuring application user satisfaction using a consistent and objective scoring approach. \"We see Apdex as an important emerging standard in application performance,\" said Lew Cirne, founder and CEO of New Relic. \"Application developers are often confronted by the businesspeople in their companies with vague complaints about application performance. A scoring methodology like Apdex takes the fuzziness out of measuring and communicating user satisfaction. We are happy to support the adoption of the standard by joining the Apdex Alliance.\" \"As one of the leading providers of application performance management tools, New Relic is certainly an ideal member of the Alliance,\" said Peter Sevcik, founder and executive director of the Apdex Alliance. \"We are very pleased they have joined to promote adoption of this valuable methodology.\" About Apdex Apdex is the first user experience metric that is comparable across all transactional applications. Thus, an operations manager has a single measurement to compare performance across applications. Managers can quickly see which applications need improvement or investment, those that have a low Apdex value but are important to the business. Apdex also lets developers measure the effectiveness of performance improvement investments. An Apdex value should improve with a performance-driven upgrade. More information can be found at www.apdex.org. Back to press releases About New Relic The world’s best engineering teams rely on New Relic to visualize, analyze and troubleshoot their software. New Relic One is the most powerful cloud-based observability platform built to help companies create more perfect software. Learn why customers trust New Relic for improved uptime and performance, greater scale and efficiency, and accelerated time to market at newrelic.com. New Relic is a registered trademark of New Relic, Inc. All product and company names herein may be trademarks of their registered owners. New Relic on Facebook New Relic on Twitter New Relic on LinkedIn New Relic on YouTube Media Contact Andrew Schmitt 415-869-7109 PR@newrelic.com Investor Contact Peter Goldmacher 503-336-9280 IR@newrelic.com Company Careers and Culture Partner Program Investor Relations NewRelic.org Suppliers Portal Connect Contact Us Request Demo Events International 日本語 Français Deutsch 한국어 Facebook Twitter LinkedIn YouTube Instagram Terms of Service DMCA Policy Privacy Policy Cookie Policy UK Slavery Act of 2015 ©2008-21 New Relic, Inc. All rights reserved",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 93.155624,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "<em>New</em> <em>Relic</em> Joins <em>Apdex</em> Alliance | <em>New</em> <em>Relic</em>",
        "sections": "<em>New</em> <em>Relic</em> Joins <em>Apdex</em> Alliance",
        "body": " Meetups and Events Resources Social Impact Investor Relations Newsroom Partner Program Contact Us <em>New</em> <em>Relic</em> for iOS or Android <em>New</em> <em>Relic</em> Insights App for iOS Search toggle Log in Sign up Main navigation menu, 5 items Newsroom Press Release <em>New</em> <em>Relic</em> Joins <em>Apdex</em> Alliance As a Member, <em>New</em> <em>Relic</em> supports"
      },
      "id": "575f8b81c75d0754f7c392b2"
    },
    {
      "category_2": "iOS app release notes",
      "nodeid": 8411,
      "sections": [
        "Mobile apps release notes",
        "Android app release notes",
        "iOS app release notes",
        "Insights for Android release notes",
        "Insights for iOS release notes",
        "Insights for tvOS release notes",
        "New Relic for iOS 3.20.3",
        "New Relic for iOS 3.52.1",
        "Notes",
        "New features",
        "Improvements",
        "New Relic for iOS 3.51.1",
        "New Relic for iOS 3.50.0",
        "New Relic for iOS 3.49.0",
        "Bug fixes",
        "New Relic for iOS 3.48.0",
        "New Relic for iOS 3.47.0",
        "New Relic for iOS 3.46.1",
        "New Relic for iOS 3.46.0",
        "New Relic for iOS 3.45.0",
        "Pages"
      ],
      "title": "New Relic for iOS 3.20.3",
      "category_0": "Release notes",
      "type": "docs",
      "category_1": "Mobile apps release notes",
      "external_id": "9669033863e7160d64a91d6de37637bd8e50e0f6",
      "image": "",
      "url": "https://docs.newrelic.com/docs/release-notes/mobile-apps-release-notes/new-relic-ios-3203?page=0%2C2",
      "published_at": "2021-02-24T14:12:18Z",
      "updated_at": "2021-02-24T14:12:17Z",
      "breadcrumb": "Contents / Release notes / Mobile apps release notes / iOS app release notes",
      "document_type": "release_notes",
      "popularity": -2,
      "body": "[RSS] Items per page 5 10 New Relic for iOS 3.52.1 Tuesday, November 12, 2019 - 09:00 Download Notes Support for iOS 13 dark mode!!! New features Dark mode support for iOS 13 New crashes tab in Mobile APM, with improved grouping, searching and filtering Added in Synthetics monitors to the iPad Improvements Fix for showing a retry login popup when we shouldn't be Enable auto resizing of the y axis in charts, to scale to the visible time window Update APM app error rate to reflect the web New Relic for iOS 3.51.1 Friday, September 13, 2019 - 14:30 Download Notes The New Relic app is even better with an improved home screen, displaying all your favorite services, hosts, mobile and browser apps, key transactions, and more. This enhanced landing page also allows you to search across services, apps and hosts! New features Added new home screen with favorite APM, Mobile, and Browser apps, Infrastructure hosts, key transactions, and plugin instances. Added search to the home screen, to quickly search across APM, Mobile, Browser apps, hosts and key transactions. Improvements Updated Infrastructure, when viewing a filter set, to show all hosts in the charts (up to 20) by default. New Relic for iOS 3.50.0 Wednesday, July 31, 2019 - 12:00 Download Notes Improved and redesigned Browser product within the app! New features New Browser single page app (SPA) overview charts Added support to display in progress Browser violations and recent events Added support to display Browser page views Added support to display Browser JS errors Improvements Improved real agents call in APM Added link in app to license documentation New Relic for iOS 3.49.0 Wednesday, May 15, 2019 - 10:00 Download Notes Synchronizes app favorites with New Relic One for a consistent way to get access to those APM apps, Browser apps, Mobile apps, and Synthetics monitors wherever you might be. Improvements Uses the same data source for favorites as New Relic One Merges any iPhone / iPad specific favorites into your New Relic One favorites Updates Apdex charts to zoom in on the y axis to better show smaller variations Update Transaction trace bar to closer match the web in some edge cases Bug fixes Fixed an issue where searching in the APM Error attributes or stack traces would result in strange behavior Fixes an issue in the host / instance popup where the web response time was off by an order of magnitude New Relic for iOS 3.48.0 Thursday, April 11, 2019 - 09:00 Download New features Additional information for Java instances and Elixir hosts in the APM application detail section. New host / instance drop down for APM applications showing summary information, and allowing you to filter the APM page to a specific host or instance. Improvements Update to the Mobile APM summary page to allow the view to load for more customers New Relic for iOS 3.48.0 Thursday, April 11, 2019 - 09:00 Download Notes Our new APM memory / threads section now works with Java & Elixir agents! Improvements Additional information for Java instances and Elixir hosts in the APM application detail section. New host / instance drop down for APM applications showing summary information, and allowing you to filter the APM page to a specific host or instance. Update to the Mobile APM summary page, so that some edge cases will now load. New Relic for iOS 3.47.0 Monday, March 18, 2019 - 09:00 Download New features Additional information for hosts of Ruby, Node.js, and Go APM applications. Bug fixes Fixed a crash when tapping logout on the iPad Fixed for some Synthetics monitors not loading Fixed a few other infrequent crashes New Relic for iOS 3.46.1 Monday, February 11, 2019 - 09:00 Download Bug fixes Fixed the problem with muting, and enabling / disabling Synthetics monitors New Relic for iOS 3.46.0 Tuesday, January 29, 2019 - 14:15 Download Improvements Updated account settings screen enables seamless transition between users and accounts Bug fixes Fixed rare crash when saml users return from authenticating New Relic for iOS 3.45.0 Thursday, January 3, 2019 - 14:15 Download Notes This version contains enhanced notifications, with support for selecting unique sounds for different types of notifications, along with showing a chart image for incidents. New features Select different notification sounds for push notifications to the app. Shows incident open / closed chart image in the notification. Bug fixes Fix for filtering apmApplicationIds and apmApplicationNames properly in Infrastructure. Fixed a crash when trying to search through plugin components. Fixed a crash in Radar. Pages « first ‹ previous 1 2 3 4 5 6 7 8 9 next › last »",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 87.74814,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "<em>New</em> <em>Relic</em> for iOS 3.20.3",
        "sections": "<em>New</em> <em>Relic</em> for iOS 3.20.3",
        "body": "[RSS] Items per page 5 10 <em>New</em> <em>Relic</em> for iOS 3.52.1 Tuesday, November 12, 2019 - 09:00 Download Notes Support for iOS 13 dark mode!!! <em>New</em> features Dark mode support for iOS 13 <em>New</em> crashes tab in Mobile <em>APM</em>, with improved grouping, searching and filtering Added in Synthetics monitors to the iPad"
      },
      "id": "5b6b681ab5b9e13ebbb11a80"
    },
    {
      "image": "https://newrelic.com/themes/custom/curio/assets/images/metadata/NROG_Image.png",
      "url": "https://newrelic.com/press-releases/20090505",
      "sections": [
        "New Relic Releases New Version of its RPM Rails Performance Management Solution",
        "Application Capacity Management",
        "Apdex Support",
        "Custom Dashboard Creation Tools",
        "About New Relic",
        "Media Contact",
        "Investor Contact"
      ],
      "published_at": "2021-02-22T14:45:58Z",
      "title": "New Relic Releases New Version of its RPM Rails Performance Management Solution | New Relic",
      "updated_at": "2021-02-22T14:45:58Z",
      "type": "",
      "external_id": "33b9b02e5e771174c7f4a96a0bbf8efd569ed725",
      "popularity": 1,
      "body": "Skip to main content New Relic logo Search Submit Products Products New Relic One Platform Overview Telemetry Data Platform Full-Stack Observability Applied Intelligence Pricing Solutions Solutions By Topic DevOps Cloud Adoption Cloud Native Digital Customer Experience Tool Consolidation Open Source By Industry E-commerce and Retail Media Public Sector By Technology Amazon Web Services Pivotal Cloud Foundry Microsoft Azure Google Cloud Platform Kubernetes Help Center Help Center Learn Docs Build on New Relic Explore open source projects Training The Relicans Get help Community forum Global technical support Expert services About About Our Customers Over 17,000 customers love New Relic, from Fortune 500 enterprises to small businesses around the globe. Our Blog The latest news, tips, and insights from the world of New Relic and digital intelligence. Our Company About Us Leadership Meetups and Events Resources Social Impact Investor Relations Newsroom Partner Program Contact Us New Relic for iOS or Android New Relic Insights App for iOS Search toggle Log in Sign up Main navigation menu, 5 items Newsroom Press Release New Relic Releases New Version of its RPM Rails Performance Management Solution Leading SaaS provider adds Apdex support, business monitoring dashboards and cloud capacity management tool Share on Facebook Share on Twitter Share on LinkedIn Las Vegas -- RailsConf - May 5, 2009 New Relic, Inc., the leading provider of Ruby on Rails application performance management solutions, today announced that it has released Version 1.3 of RPM™, the most widely-used tool for managing Ruby on Rails web applications. Attendees at RailsConf, the largest conference dedicated to Ruby on Rails, being held this week in Las Vegas, can see the new version at the New Relic booth in the exhibit hall. \"This version brings very important new capabilities for RPM,\" said Lewis Cirne, founder and CEO of New Relic. \"With this release we have enabled developers to have a closer working relationship with their peers on the management side of the business. Apdex and custom dashboards will allow developers to communicate important business metrics to the managers of their companies. We have also added a just-in-time capacity management function that allows application managers to know exactly how much capacity they are using, how much they need, and to get notified exactly when they need to deploy more. This makes cloud’s promise of dynamic capacity a reality.\" Updates to RPM include the following: Application Capacity Management Each instance of an application consumes server capacity. Many applications require multiple processes to be deployed to handle the anticipated user traffic. Whether the application is deployed in a cloud infrastructure with highly dynamic management functions or deployed in a fixed number of servers at a hosting service, more application instance processes will result in higher hosting costs. RPM now allows continuous assessment of capacity utilization and enables RPM customers to right-size each application to the needed capacity. Application management teams can react more quickly to add or reduce capacity and find the balance between cost efficiency and high performance. Apdex Support RPM continuously scores applications or individual transaction types based on the end user’s experience using the Apdex performance index. Apdex is the first user experience metric that is comparable across all transactional applications. Using the Apdex score, developers and application owners can agree upon the response time goals for each application and have a simple metric which tells them whether they are achieving those goals. Additionally, an operations manager has a single measurement to compare performance across applications. Managers can quickly see which applications need improvement or investment, namely those that have a low Apdex value but are important to the business. RPM now includes the Apdex score in the application status dashboards and in more detailed reports. More information about Apdex or the Apdex Alliance can be found at www.apdex.org. Custom Dashboard Creation Tools With its unique visibility inside the running web application, RPM can provide continuous real-time monitoring of both application performance and transaction-level business performance. RPM customers can now quickly create their own dashboards with their preferred look and feel and include technical data and/or real time business information. For example, an e-commerce site can track numbers of new customer accounts, numbers of purchase transactions, returns, and cancellations and compare today’s data with same time last week or last month. All this can be done without any special new programs or databases. With real-time monitoring, business management can react quickly to changing customer behavior. Back to press releases About New Relic The world’s best engineering teams rely on New Relic to visualize, analyze and troubleshoot their software. New Relic One is the most powerful cloud-based observability platform built to help companies create more perfect software. Learn why customers trust New Relic for improved uptime and performance, greater scale and efficiency, and accelerated time to market at newrelic.com. New Relic is a registered trademark of New Relic, Inc. All product and company names herein may be trademarks of their registered owners. New Relic on Facebook New Relic on Twitter New Relic on LinkedIn New Relic on YouTube Media Contact Andrew Schmitt 415-869-7109 PR@newrelic.com Investor Contact Peter Goldmacher 503-336-9280 IR@newrelic.com Company Careers and Culture Partner Program Investor Relations NewRelic.org Suppliers Portal Connect Contact Us Request Demo Events International 日本語 Français Deutsch 한국어 Facebook Twitter LinkedIn YouTube Instagram Terms of Service DMCA Policy Privacy Policy Cookie Policy UK Slavery Act of 2015 ©2008-21 New Relic, Inc. All rights reserved",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 85.80513,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "<em>New</em> <em>Relic</em> Releases <em>New</em> Version of its RPM Rails Performance Management Solution | <em>New</em> <em>Relic</em>",
        "sections": "<em>New</em> <em>Relic</em> Releases <em>New</em> Version of its RPM Rails Performance Management Solution",
        "body": " Management Solution Leading SaaS provider adds <em>Apdex</em> support, business monitoring dashboards and cloud capacity management tool Share on Facebook Share on Twitter Share on LinkedIn Las Vegas -- RailsConf - May 5, 2009 <em>New</em> <em>Relic</em>, Inc., the leading provider of Ruby on Rails application performance"
      },
      "id": "575f8b7c0cc37f04e3aad6de"
    },
    {
      "image": "https://cc.sj-cdn.net/instructor/1h7ahmdd447dx-new-relic/themes/3c4jawy1asa1h/header-logo.1595599299.png",
      "url": "https://learn.newrelic.com/page/programmability",
      "sections": [],
      "published_at": "2021-02-26T01:40:50Z",
      "title": "Programmability",
      "updated_at": "2021-02-26T01:40:49Z",
      "type": "",
      "external_id": "b7fa2a066dbf9b6f8c542a86a1b833e88ea77ddb",
      "popularity": 1,
      "body": "Back Sign In Searching... Plans Courses Lessons Reset Live Learncast: New Relic One Programmability Join us for this exclusive 90-minute introduction to the fundamentals of New Relic One Programmability. This training will introduce you to the key concepts and walk you through developing New Relic Applications. FREE GraphQL APIAPIUpcoming WebcastsNew Relic OneNew Relic APIs What’s New - The New Relic Data Exploration Experience Exploring your data in New Relic is now more intuitive than ever. In this session we’ll take a look at what’s changed with our latest Data Exploration release and how it makes your life easier. FREE New Relic APIs Learn how to use a variety of New Relic APIs, including the GraphQL API, the Insights Insert API, and the APM Agent API. FREE IntroductoryCustomize DataAdvancedTutorialGraphQL APIAPINew Relic APIs Navigating APM Learn how to navigate New Relic APM UI and interpret chart data so you can improve your application's performance and troubleshoot complex applications faster. FREE Go Deeper: Advanced Alerting & NRQL Alerts Delve deeper into Alerts and move beyond the basics to implement an effective alerting strategy in this FREE 2 hour workshop. With scenario based labs, you’ll create specific policies and conditions for typical use cases, leverage powerful NRQL alerts, and manage alerts for downtime or maintenance scenarios. FREE New Relic Infrastructure Fundamentals In this course, you'll learn how New Relic Infrastructure provides deep visibility into cloud and on-premises environments. New Relic Infrastructure connects the health and performance of infrastructure to the richest metrics, events, logs, and traces to provide context for supporting our customers’ applications. FREE Performance Monitoring Fundamentals In this course, you’ll learn how you can use the New Relic Digital Intelligence Platform to get end-to-end visibility into the performance of your websites and apps, the customer experiences they deliver, and their effect on your business. FREE APMTutorialBrowserself-serveNew Relic InsightsNew Relic InfrastructureNew Relic FundamentalsPerformance Monitoring Fundamentals APM for Power Users Level up your digital intelligence and become an APM Power User. In this course, you learn to use advanced performance monitoring features. FREE Become a power userAPMPower UserAdvancedTutorialAPM for Power Users New Relic APM Fundamentals In this course, you'll learn how to use New Relic APM to see what's happening in your application, understand where the problems are, discover opportunities for optimizing your entire application ecosystem, and make sure you never miss an issue that needs attention. FREE New Relic APM Fundamentals New Relic Insights + APM Fundamentals In this course, you'll learn how to create an Insights dashboard in the UI and from a JSON template, add APM charts, and edit your Dashboard. This course culminates in a live virtual training where you'll learn how to analyze your APM data in Insights. FREE New Relic Insights + APM FundamentalsNew Relic APM Fundamentalsabracadabra New Relic Alerts Fundamentals (Legacy) Learn how to use the New Relic platform Alerts tool to monitor performance and know when leading performance indicators spike or drop so you can catch problems before they reach your end user. Enable team members to get the alerts they need faster and achieve lower response times. FREE New Relic Alerts Fundamentals New Relic One Overview New Relic One is the industry’s largest and most comprehensive cloud-based observability platform built to help customers create more perfect software. In the pursuit of our vision, we have enhanced New Relic One to provide a simplified and frictionless experience for customers. FREE Get Started with APM Let's get started together. We're going to take you through the basics to manage your application and services. FREE Get StartedGet CertifiedIntroductoryAPMTutorialGetting-Startedself-serveGet Started with APMNew Relic APM Getting started with Dashboards & NRQL Learn to use the Data Explorer and Query Builder Basic Mode to create charts and dashboards without any knowledge of NRQL. Progress to working directly with NRQL to create a wider range of charts and visualizations. FREE New Relic Distributed Tracing: Tracking Across Your Application Stacks In this practical session you’ll find out about how New Relic Distributed Tracing can extend your transaction tracing capabilities for distributed systems, and understand how Distributed Tracing works and can be configured for different environments. FREE Maximizing Observability with New Relic Logs This workshop is a comprehensive introduction to understanding and working with Logs in New Relic. Get hands-on with your data. Practice importing logs and then parsing, filtering, dropping, and alerting on log data in New Relic One. FREE Getting Started with Synthetics Learn how to use Synthetics to test your app from different global locations, simulate user flows and interactions, check the performance of individual page components, and fix problems before they affect the end-user's experience. FREE Get StartedMonitor PerformancePower UserTutorialSyntheticsNew Relic Synthetics Getting Started with Insights Learn how to use New Relic Insights to analyze and present custom, real-time data visualizations. FREE Get StartedIntroductoryInsightsTutorialNew Relic Insights Getting Started with Infrastructure Learn New Relic Infrastructure fundamentals to get a precise picture of your dynamically changing systems. New Relic Infrastructure delivers real-time health metrics correlated with recent configuration changes, so you can quickly resolve issues, scale rapidly, and deploy intelligently. FREE Get StartedInfrastructureMonitor PerformancePower UserTutorialNew Relic Infrastructure New Relic Alerts Fundamentals In this engaging FREE 2 hour workshop is an introduction to understanding and working with Alerts in New Relic. It will enable you to set up a range of Alert policies, understand how different conditions operate, and learn how to work with incidents when issues arise. FREE Custom Data with Insights Learn how to take your application performance analysis to the next level. Add context and get more detailed results with custom attributes, or by importing additional datasets. This course will show you how to import JSON data to the Insights API endpoint, alongside default data captured natively. FREE Power UserInsightsCustomize DataAdvancedTutorialCustom Data with Insights Insights Dashboards and Data Apps Learn how to use Insights Dashboards and Data Apps to analyze any data type from across all New Relic products in real-time and present a variety of metrics and visualizations in a meeting or on the go, embed charts into your own application, or create self-service dashboards for other teams. FREE Get StartedMonitor PerformanceGet CertifiedPower UserInsightsTutorialInsights DashboardsDashboards and Data Apps Writing NRQL Queries Learn how to ask questions about your data using NRQL, New Relic's SQL-flavored query language, and create beautiful visualizations for analyzing your data in real-time. FREE Get StartedBecome a power userGet CertifiedIntroductoryInsightsTutorialCloud AdoptionApplication Baselineself-serveWriting NRQL Queries New Relic Alerts Learn how to use the New Relic platform Alerts tool to monitor performance and know when leading performance indicators spike or drop so you can catch problems before they reach your end user. Enable team members to get the alerts they need faster and achieve lower response times. FREE AlertsGet StartedIntroductoryAPMPower UserTutorialNew Relic Alerts Performance Monitoring with New Relic In this course, you’ll learn how you can use the New Relic Digital Intelligence Platform to get end-to-end visibility into the performance of your websites and apps, the customer experiences they deliver, and their effect on your business. FREE AlertsGet StartedInfrastructureIntroductoryAPMInsightsTutorialSyntheticsBrowserMobile monitoringself-servePerformance Monitoring with New Relic Part of: © 2021 powered by",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 83.23994,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "body": " it makes your life easier. FREE <em>New</em> <em>Relic</em> APIs Learn how to use a variety of <em>New</em> <em>Relic</em> APIs, including the GraphQL API, the Insights Insert API, and the <em>APM</em> Agent API. FREE IntroductoryCustomize DataAdvancedTutorialGraphQL APIAPINew <em>Relic</em> APIs Navigating <em>APM</em> Learn how to navigate <em>New</em> <em>Relic</em> <em>APM</em> UI"
      },
      "id": "5f22778128ccbca80432c20c"
    }
  ],
  "/docs/accounts/install-new-relic/account-setup/use-multiple-accounts": [
    {
      "sections": [
        "Account ID"
      ],
      "title": "Account ID",
      "type": "docs",
      "tags": [
        "Accounts",
        "Accounts and billing",
        "Account setup"
      ],
      "external_id": "d6628feaab128caac7a8e8240cca1985951e0042",
      "image": "",
      "url": "https://docs.newrelic.com/docs/accounts/accounts-billing/account-setup/account-id/",
      "published_at": "2021-04-05T07:55:44Z",
      "updated_at": "2021-03-30T15:13:41Z",
      "document_type": "page",
      "popularity": 1,
      "body": "Some New Relic functions require use of your account ID. Your account ID is the ID number we assign to your New Relic account. Note that some New Relic organizations will have multiple accounts with a master/sub-account structure. Options for finding an account ID: If you have a single account: From one.newrelic.com, click the account dropdown and then select Account settings. Next, select API keys located on the left-hand side. The account ID is displayed on the API keys page. If your organization has multiple accounts: From one.newrelic.com, select Explorer and use the account selector dropdown near the top of the page. For more on how account access works, see Factors affecting access.",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 241.11823,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "<em>Account</em> ID",
        "sections": "<em>Account</em> ID",
        "tags": "<em>Accounts</em> <em>and</em> <em>billing</em>",
        "body": "Some New Relic functions require use of your <em>account</em> ID. Your <em>account</em> ID is the ID number we assign to your New Relic <em>account</em>. Note that some New Relic organizations will have multiple <em>accounts</em> with a master&#x2F;sub-<em>account</em> <em>structure</em>. Options for finding an <em>account</em> ID: If you have a single <em>account</em>"
      },
      "id": "6043c79964441f2c34378ef5"
    },
    {
      "sections": [
        "New Relicアカウントの構成",
        "その他のヘルプ"
      ],
      "title": "New Relicアカウントの構成",
      "type": "docs-jp",
      "tags": [
        "Accounts",
        "Accounts and billing",
        "Account structure"
      ],
      "external_id": "a11a103866efa32983d8557461a88166fd311c57",
      "image": "",
      "url": "https://docs.newrelic.com/jp/docs/accounts/accounts-billing/new-relic-one-pricing-users/new-relic-account-structure/",
      "published_at": "2021-04-05T08:15:25Z",
      "updated_at": "2021-03-17T23:06:10Z",
      "document_type": "page",
      "popularity": 1,
      "body": "New Relicアカウント/ユーザー構成を理解するためのヒント： New Relicのアカウント階層の最上位レベルに位置するのは「組織」です。New Relic 顧客の関連アカウントのグループは、単一の「NewRelic組織」内にあると見なされます。 New Relic One価格設定が適用されるアカウント 標準の価格ティアを、組織ごとの単一のアカウントに使用できます。ProとEnterpriseの価格ティアでは、組織内でマスター/サブアカウント構成を使用できます。 New Relicを使用して、同じ組織内のアカウントからのデータを表示できます。詳細については、アカウントアクセスをご覧ください。 複数の電子メールアドレスが関連付けられた、複数のNew Relicアカウントにアクセスできる場合があります。この状況に関する問題の詳細は、アカウントへのアクセスをご覧ください。 組織によっては、マスター/サブアカウント構成が可能です。 請求関連の使用量は、組織のレベルで計算されます。つまり、サブアカウントレベルで表示する場合、使用量データでは組織レベルの使用量は表示できません。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 223.54695,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "tags": "<em>Accounts</em> <em>and</em> <em>billing</em>"
      },
      "id": "60528b6228ccbcd422c2fd19"
    },
    {
      "sections": [
        "機能とデータへのアクセスに影響を与える要因",
        "アカウントアクセス",
        "ユーザー許可",
        "価格プランまたはティア",
        "モニターしているエンティティ",
        "データ保持期間",
        "その他のヘルプ"
      ],
      "title": "機能とデータへのアクセスに影響を与える要因",
      "type": "docs-jp",
      "tags": [
        "Accounts",
        "Accounts and billing",
        "Account structure"
      ],
      "external_id": "02944d2dce5e4372318bf82b62ccfcfe3f03da91",
      "image": "",
      "url": "https://docs.newrelic.com/jp/docs/accounts/accounts-billing/general-account-settings/factors-affecting-access-features-data/",
      "published_at": "2021-04-05T08:39:30Z",
      "updated_at": "2021-03-17T23:05:00Z",
      "document_type": "page",
      "popularity": 1,
      "body": "New Relicの機能やNew Relicのデータに影響を与える要因としては、次のものがあります。 アカウントアクセス ユーザー許可 価格プラン/ティア モニターされたエンティティ データ保持期間 アカウントアクセス New Relic Oneを使用して、同じ組織内のアカウントからのデータを、アカウントをまたいで表示できますが、アカウント間に境界があり、一部のデータが難読化する場合もあります。たとえば、マスター/サブアカウント構成では、サブアカウントのユーザーには、マスターアカウントまたは難読化された別のサブアカウントからのデータが表示されます。 一部のNew Relicユーザーには、複数のNew Relicアカウントに関連する電子メールがあります。これにより場合によっては、「間違った」アカウントに入り、存在しないデータを検索することになります。 アカウント切り替えのオプション： ログアウトし、別のアカウントに再びログインします。古いアカウントにアクセスできない場合は、この複数アカウントのアクセスに関するExplorers Hubの投稿をご覧ください。 New Relic UIの上部にあるアカウントスイッチャーを使用して、別のアカウントに切り替えます。 関連ドキュメント： アカウント構造 ログインとパスワードのトラブルシューティング 誤って作成したアカウントを削除する ユーザー許可 ユーザー許可は、どの機能やデータにアクセスするかに影響を与える場合があります。たとえば、管理者である場合、管理者以外のユーザーにはない管理や設定の機能にアクセスできます。 当社には2つの異なる価格プランがあり、各プランには独自のユーザーモデルと権限があります。詳細について： New Relic One価格設定が適用されるアカウントのユーザー 元の製品を基にした価格設定が適用されるアカウントのユーザー 価格プランまたはティア 当社では2つの価格プランをご用意しており、このプランが機能の可用性に影響を与える場合があります。価格プラン： 元の製品に基づく価格プラン: このプランは、製品ごとに分かれています。このプランの対象の場合、一部の機能にアクセスできるかどうかは、支払を行っている製品により異なります。 New Relic One価格プラン: この新たな価格プランでは、プラットフォーム間のアクセスが増えています。アクセスに影響を与える主な要因は、価格ティアとユーザータイプです。 価格プランの変更の詳細を表示する。 モニターしているエンティティ 一部のソリューションでは、次のような、一部のユーザーが利用できない機能が有効になります： 追加のUIコンポーネントおよび クエリを行えるデータ たとえば、ディストリビューティッド（分散）トレーシングを有効にすると、UIにトレースデータが表示され、トレースデータのクエリを行えるようになります。 表示されるはずのデータがない場合、欠損データをご覧ください。 データ保持期間 New Relicデータのタイプが異なると、データ保持期間も異なります。データが所定のデータ保持期間を超えると、削除するか、さらに長期間保存するため集計することができます。詳しくは、データ保持期間を参照してください。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 223.54504,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "tags": "<em>Accounts</em> <em>and</em> <em>billing</em>"
      },
      "id": "60528b1c64441f828c5321b4"
    },
    {
      "sections": [
        "Master/sub-account structure",
        "重要",
        "Master and sub-account hierarchy",
        "ヒント",
        "License keys for sub-accounts",
        "Create sub-accounts",
        "Set up accounts with SAML SSO",
        "Add sub-account users",
        "Update sub-account applications",
        "Update sub-account email settings"
      ],
      "title": "Master/sub-account structure",
      "type": "docs-jp",
      "tags": [
        "Accounts",
        "Accounts and billing",
        "Account structure"
      ],
      "external_id": "04759a591d401639e2a0c309d080df1427e9df5b",
      "image": "https://docs.newrelic.com/static/39bb3897a2634f9871309411872ac7b5/d7abb/Master-Sub_Hierarchy.png",
      "url": "https://docs.newrelic.com/jp/docs/accounts/accounts-billing/account-structure/mastersub-account-structure/",
      "published_at": "2021-04-05T08:39:32Z",
      "updated_at": "2021-03-17T23:04:07Z",
      "document_type": "page",
      "popularity": 1,
      "body": "Some New Relic accounts are able to create a more complex account structure with master accounts and sub-accounts. 重要 Access to this feature depends on your subscription level. Master and sub-account hierarchy Each sub-account is attached to a single master account and can have multiple apps reporting to it. The master account may also have applications reporting to it, but not all data sent from sub-account applications rolls-up into the master account data. To switch between accounts in the UI, see Account access. To understand how sub-accounts and master accounts scale with EU region accounts, see EU region account hierarchy. ヒント If you have a partnership account structure, see Partnership accounts. Master accounts can have their own apps reporting data. However, an app reporting to a sub-account may not report data to a master account. License keys for sub-accounts Your main New Relic account serves as the master account with its own license key. Each sub-account has their own individual license keys (and their own API keys). Each application can use only one license key, so each application can report to only one account. Create sub-accounts Requirements: Pro or Enterprise pricing tier. Your must be on our original user model (if you're on our New Relic One user model, you need assistance from New Relic). If you're able to create sub-accounts, you can do that with these instructions: Go to: account dropdown > Account settings > Account > Summary. From Sub-accounts, select Add account. Type the sub-account name, then select Add this account. Continue with the procedures to add sub-account users. If any sub-accounts have already been created, the first account on the Sub-accounts list is the master account. To manage a sub-account, select its name. Set up accounts with SAML SSO If you set up SAML SSO at the master account level, your sub-account users will also be able to sign in using SSO. For more information, see Configuring SAML with multiple accounts. 重要 If you do not set SAML SSO at the master level, you can set it at the sub-account level. However, do not set SAML SSO at both levels. Add sub-account users Requirements: Pro or Enterprise pricing tier. Your must be on our original user model (if you're on our New Relic One user model, you need assistance from New Relic). In general, permissions for a user on a master account are automatically inherited for that user on sub-accounts. However, in order to receive alert notifications or weekly email reports, or to hide specific applications from a sub-account, they must be explicitly added to the sub-account. When the Owner first adds a sub-account, the Users list is automatically populated with the admin who created the sub-account. To add, edit, or delete individuals for the sub-account later, go to the sub-account's Summary, or start from the master account's Summary: Go to: account dropdown > Account settings > Account > Summary. From the master account's Sub-accounts list, select the sub-account's link. From the sub-account's Active users section, select Add user, fill in the user's email, name, role, and title as appropriate, and then select Add this user. Optional: Change the Owner or Admin roles for the sub-account as appropriate. Update sub-account applications Requirements: Pro or Enterprise pricing tier. Your must be on our original user model (if you're on our New Relic One user model, you need assistance from New Relic). Must be Owner or Admin. When you change the app's config file to move it from one account to another, New Relic treats it as a new app in the new sub-account. New Relic does not move any historical data for the app. To install a new app for your sub-account: Make sure you have selected the master account: From the account dropdown, select Switch account > (master account). Follow standard procedures to install new applications. OR Change the license key in the existing application's configuration file to move it to another sub-account. Update sub-account email settings Anyone who uses the sub-account can update their own settings for alert notifications or weekly emails for the sub-account's applications: Go to: account dropdown > Switch account > (select a sub-account). Go to one.newrelic.com > APM. From the sub-account's Applications index, select the app's gear icon, then select Manage alert policy. If you need more help, check out these support and learning resources: Browse the Explorers Hub to get help from the community and join in discussions. Find answers on our sites and learn how to use our support portal. Run New Relic Diagnostics, our troubleshooting tool for Linux, Windows, and macOS. Review New Relic's data security and licenses documentation.",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 223.5436,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "Master&#x2F;sub-<em>account</em> <em>structure</em>",
        "sections": "Master&#x2F;sub-<em>account</em> <em>structure</em>",
        "tags": "<em>Accounts</em> <em>and</em> <em>billing</em>",
        "body": "Some New Relic <em>accounts</em> are able to create a more complex <em>account</em> <em>structure</em> with master <em>accounts</em> and sub-<em>accounts</em>. 重要 Access to this feature depends on your subscription level. Master and sub-<em>account</em> hierarchy Each sub-<em>account</em> is attached to a single master <em>account</em> and can have multiple apps"
      },
      "id": "60528ae764441fc3315321b1"
    },
    {
      "sections": [
        "Use multiple accounts",
        "Create multiple accounts",
        "重要",
        "ヒント",
        "Switch accounts"
      ],
      "title": "Use multiple accounts",
      "type": "docs-jp",
      "tags": [
        "Accounts",
        "Accounts and billing",
        "Account structure"
      ],
      "external_id": "c1e10f9673bb4083c74fffc7f8cc101aa19789fa",
      "image": "",
      "url": "https://docs.newrelic.com/jp/docs/accounts/install-new-relic/account-setup/use-multiple-accounts/",
      "published_at": "2021-04-05T10:04:11Z",
      "updated_at": "2021-03-17T17:22:53Z",
      "document_type": "page",
      "popularity": 1,
      "body": "A New Relic organization (set of related accounts under same billing) can have only one subscription level: you cannot mix subscription levels within an organization. However, you can create multiple accounts with different subscription levels. Create multiple accounts 重要 For organizations on the New Relic One pricing plan, only the Pro and Enterprise pricing tier allows multiple accounts with master/sub-account structures. When creating multiple New Relic accounts, we recommend you use the same license key for applications on the same host. This enables New Relic to link together those applications. To create additional accounts with the same email address: Use the same email address and password to sign up for one or more accounts. Create an account for each subscription level you want to use. Configure your mission-critical hosts to use the master account's license key. Use license keys from your inexpensive or free accounts for your remaining hosts. ヒント Note for Ruby: you can configure the Ruby APM agent to apply different keys to different application environments. In the newrelic.yml file, edit the Application environment sections. For example, set the production license_key property to use the paid subscription key, and use a different key for any dev, test, or staging environments. Switch accounts To learn about switching between multiple accounts, see Account access. If you need more help, check out these support and learning resources: Browse the Explorers Hub to get help from the community and join in discussions. Find answers on our sites and learn how to use our support portal. Run New Relic Diagnostics, our troubleshooting tool for Linux, Windows, and macOS. Review New Relic's data security and licenses documentation.",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 222.99002,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "Use multiple <em>accounts</em>",
        "sections": "Use multiple <em>accounts</em>",
        "tags": "<em>Accounts</em> <em>and</em> <em>billing</em>",
        "body": "A New Relic organization (set of related <em>accounts</em> under same <em>billing</em>) can have only one subscription level: you cannot mix subscription levels within an organization. However, you can create multiple <em>accounts</em> with different subscription levels. Create multiple <em>accounts</em> 重要 For organizations"
      },
      "id": "60523aed196a67097c2d1653"
    }
  ],
  "/docs/accounts/accounts-billing/account-structure/mastersub-account-structure": [
    {
      "sections": [
        "Account ID"
      ],
      "title": "Account ID",
      "type": "docs",
      "tags": [
        "Accounts",
        "Accounts and billing",
        "Account setup"
      ],
      "external_id": "d6628feaab128caac7a8e8240cca1985951e0042",
      "image": "",
      "url": "https://docs.newrelic.com/docs/accounts/accounts-billing/account-setup/account-id/",
      "published_at": "2021-04-05T07:55:44Z",
      "updated_at": "2021-03-30T15:13:41Z",
      "document_type": "page",
      "popularity": 1,
      "body": "Some New Relic functions require use of your account ID. Your account ID is the ID number we assign to your New Relic account. Note that some New Relic organizations will have multiple accounts with a master/sub-account structure. Options for finding an account ID: If you have a single account: From one.newrelic.com, click the account dropdown and then select Account settings. Next, select API keys located on the left-hand side. The account ID is displayed on the API keys page. If your organization has multiple accounts: From one.newrelic.com, select Explorer and use the account selector dropdown near the top of the page. For more on how account access works, see Factors affecting access.",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 241.11823,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "<em>Account</em> ID",
        "sections": "<em>Account</em> ID",
        "tags": "<em>Accounts</em> <em>and</em> <em>billing</em>",
        "body": "Some New Relic functions require use of your <em>account</em> ID. Your <em>account</em> ID is the ID number we assign to your New Relic <em>account</em>. Note that some New Relic organizations will have multiple <em>accounts</em> with a master&#x2F;sub-<em>account</em> <em>structure</em>. Options for finding an <em>account</em> ID: If you have a single <em>account</em>"
      },
      "id": "6043c79964441f2c34378ef5"
    },
    {
      "sections": [
        "New Relicアカウントの構成",
        "その他のヘルプ"
      ],
      "title": "New Relicアカウントの構成",
      "type": "docs-jp",
      "tags": [
        "Accounts",
        "Accounts and billing",
        "Account structure"
      ],
      "external_id": "a11a103866efa32983d8557461a88166fd311c57",
      "image": "",
      "url": "https://docs.newrelic.com/jp/docs/accounts/accounts-billing/new-relic-one-pricing-users/new-relic-account-structure/",
      "published_at": "2021-04-05T08:15:25Z",
      "updated_at": "2021-03-17T23:06:10Z",
      "document_type": "page",
      "popularity": 1,
      "body": "New Relicアカウント/ユーザー構成を理解するためのヒント： New Relicのアカウント階層の最上位レベルに位置するのは「組織」です。New Relic 顧客の関連アカウントのグループは、単一の「NewRelic組織」内にあると見なされます。 New Relic One価格設定が適用されるアカウント 標準の価格ティアを、組織ごとの単一のアカウントに使用できます。ProとEnterpriseの価格ティアでは、組織内でマスター/サブアカウント構成を使用できます。 New Relicを使用して、同じ組織内のアカウントからのデータを表示できます。詳細については、アカウントアクセスをご覧ください。 複数の電子メールアドレスが関連付けられた、複数のNew Relicアカウントにアクセスできる場合があります。この状況に関する問題の詳細は、アカウントへのアクセスをご覧ください。 組織によっては、マスター/サブアカウント構成が可能です。 請求関連の使用量は、組織のレベルで計算されます。つまり、サブアカウントレベルで表示する場合、使用量データでは組織レベルの使用量は表示できません。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 223.54695,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "tags": "<em>Accounts</em> <em>and</em> <em>billing</em>"
      },
      "id": "60528b6228ccbcd422c2fd19"
    },
    {
      "sections": [
        "機能とデータへのアクセスに影響を与える要因",
        "アカウントアクセス",
        "ユーザー許可",
        "価格プランまたはティア",
        "モニターしているエンティティ",
        "データ保持期間",
        "その他のヘルプ"
      ],
      "title": "機能とデータへのアクセスに影響を与える要因",
      "type": "docs-jp",
      "tags": [
        "Accounts",
        "Accounts and billing",
        "Account structure"
      ],
      "external_id": "02944d2dce5e4372318bf82b62ccfcfe3f03da91",
      "image": "",
      "url": "https://docs.newrelic.com/jp/docs/accounts/accounts-billing/general-account-settings/factors-affecting-access-features-data/",
      "published_at": "2021-04-05T08:39:30Z",
      "updated_at": "2021-03-17T23:05:00Z",
      "document_type": "page",
      "popularity": 1,
      "body": "New Relicの機能やNew Relicのデータに影響を与える要因としては、次のものがあります。 アカウントアクセス ユーザー許可 価格プラン/ティア モニターされたエンティティ データ保持期間 アカウントアクセス New Relic Oneを使用して、同じ組織内のアカウントからのデータを、アカウントをまたいで表示できますが、アカウント間に境界があり、一部のデータが難読化する場合もあります。たとえば、マスター/サブアカウント構成では、サブアカウントのユーザーには、マスターアカウントまたは難読化された別のサブアカウントからのデータが表示されます。 一部のNew Relicユーザーには、複数のNew Relicアカウントに関連する電子メールがあります。これにより場合によっては、「間違った」アカウントに入り、存在しないデータを検索することになります。 アカウント切り替えのオプション： ログアウトし、別のアカウントに再びログインします。古いアカウントにアクセスできない場合は、この複数アカウントのアクセスに関するExplorers Hubの投稿をご覧ください。 New Relic UIの上部にあるアカウントスイッチャーを使用して、別のアカウントに切り替えます。 関連ドキュメント： アカウント構造 ログインとパスワードのトラブルシューティング 誤って作成したアカウントを削除する ユーザー許可 ユーザー許可は、どの機能やデータにアクセスするかに影響を与える場合があります。たとえば、管理者である場合、管理者以外のユーザーにはない管理や設定の機能にアクセスできます。 当社には2つの異なる価格プランがあり、各プランには独自のユーザーモデルと権限があります。詳細について： New Relic One価格設定が適用されるアカウントのユーザー 元の製品を基にした価格設定が適用されるアカウントのユーザー 価格プランまたはティア 当社では2つの価格プランをご用意しており、このプランが機能の可用性に影響を与える場合があります。価格プラン： 元の製品に基づく価格プラン: このプランは、製品ごとに分かれています。このプランの対象の場合、一部の機能にアクセスできるかどうかは、支払を行っている製品により異なります。 New Relic One価格プラン: この新たな価格プランでは、プラットフォーム間のアクセスが増えています。アクセスに影響を与える主な要因は、価格ティアとユーザータイプです。 価格プランの変更の詳細を表示する。 モニターしているエンティティ 一部のソリューションでは、次のような、一部のユーザーが利用できない機能が有効になります： 追加のUIコンポーネントおよび クエリを行えるデータ たとえば、ディストリビューティッド（分散）トレーシングを有効にすると、UIにトレースデータが表示され、トレースデータのクエリを行えるようになります。 表示されるはずのデータがない場合、欠損データをご覧ください。 データ保持期間 New Relicデータのタイプが異なると、データ保持期間も異なります。データが所定のデータ保持期間を超えると、削除するか、さらに長期間保存するため集計することができます。詳しくは、データ保持期間を参照してください。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 223.54504,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "tags": "<em>Accounts</em> <em>and</em> <em>billing</em>"
      },
      "id": "60528b1c64441f828c5321b4"
    },
    {
      "sections": [
        "Master/sub-account structure",
        "重要",
        "Master and sub-account hierarchy",
        "ヒント",
        "License keys for sub-accounts",
        "Create sub-accounts",
        "Set up accounts with SAML SSO",
        "Add sub-account users",
        "Update sub-account applications",
        "Update sub-account email settings"
      ],
      "title": "Master/sub-account structure",
      "type": "docs-jp",
      "tags": [
        "Accounts",
        "Accounts and billing",
        "Account structure"
      ],
      "external_id": "04759a591d401639e2a0c309d080df1427e9df5b",
      "image": "https://docs.newrelic.com/static/39bb3897a2634f9871309411872ac7b5/d7abb/Master-Sub_Hierarchy.png",
      "url": "https://docs.newrelic.com/jp/docs/accounts/accounts-billing/account-structure/mastersub-account-structure/",
      "published_at": "2021-04-05T08:39:32Z",
      "updated_at": "2021-03-17T23:04:07Z",
      "document_type": "page",
      "popularity": 1,
      "body": "Some New Relic accounts are able to create a more complex account structure with master accounts and sub-accounts. 重要 Access to this feature depends on your subscription level. Master and sub-account hierarchy Each sub-account is attached to a single master account and can have multiple apps reporting to it. The master account may also have applications reporting to it, but not all data sent from sub-account applications rolls-up into the master account data. To switch between accounts in the UI, see Account access. To understand how sub-accounts and master accounts scale with EU region accounts, see EU region account hierarchy. ヒント If you have a partnership account structure, see Partnership accounts. Master accounts can have their own apps reporting data. However, an app reporting to a sub-account may not report data to a master account. License keys for sub-accounts Your main New Relic account serves as the master account with its own license key. Each sub-account has their own individual license keys (and their own API keys). Each application can use only one license key, so each application can report to only one account. Create sub-accounts Requirements: Pro or Enterprise pricing tier. Your must be on our original user model (if you're on our New Relic One user model, you need assistance from New Relic). If you're able to create sub-accounts, you can do that with these instructions: Go to: account dropdown > Account settings > Account > Summary. From Sub-accounts, select Add account. Type the sub-account name, then select Add this account. Continue with the procedures to add sub-account users. If any sub-accounts have already been created, the first account on the Sub-accounts list is the master account. To manage a sub-account, select its name. Set up accounts with SAML SSO If you set up SAML SSO at the master account level, your sub-account users will also be able to sign in using SSO. For more information, see Configuring SAML with multiple accounts. 重要 If you do not set SAML SSO at the master level, you can set it at the sub-account level. However, do not set SAML SSO at both levels. Add sub-account users Requirements: Pro or Enterprise pricing tier. Your must be on our original user model (if you're on our New Relic One user model, you need assistance from New Relic). In general, permissions for a user on a master account are automatically inherited for that user on sub-accounts. However, in order to receive alert notifications or weekly email reports, or to hide specific applications from a sub-account, they must be explicitly added to the sub-account. When the Owner first adds a sub-account, the Users list is automatically populated with the admin who created the sub-account. To add, edit, or delete individuals for the sub-account later, go to the sub-account's Summary, or start from the master account's Summary: Go to: account dropdown > Account settings > Account > Summary. From the master account's Sub-accounts list, select the sub-account's link. From the sub-account's Active users section, select Add user, fill in the user's email, name, role, and title as appropriate, and then select Add this user. Optional: Change the Owner or Admin roles for the sub-account as appropriate. Update sub-account applications Requirements: Pro or Enterprise pricing tier. Your must be on our original user model (if you're on our New Relic One user model, you need assistance from New Relic). Must be Owner or Admin. When you change the app's config file to move it from one account to another, New Relic treats it as a new app in the new sub-account. New Relic does not move any historical data for the app. To install a new app for your sub-account: Make sure you have selected the master account: From the account dropdown, select Switch account > (master account). Follow standard procedures to install new applications. OR Change the license key in the existing application's configuration file to move it to another sub-account. Update sub-account email settings Anyone who uses the sub-account can update their own settings for alert notifications or weekly emails for the sub-account's applications: Go to: account dropdown > Switch account > (select a sub-account). Go to one.newrelic.com > APM. From the sub-account's Applications index, select the app's gear icon, then select Manage alert policy. If you need more help, check out these support and learning resources: Browse the Explorers Hub to get help from the community and join in discussions. Find answers on our sites and learn how to use our support portal. Run New Relic Diagnostics, our troubleshooting tool for Linux, Windows, and macOS. Review New Relic's data security and licenses documentation.",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 223.5436,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "Master&#x2F;sub-<em>account</em> <em>structure</em>",
        "sections": "Master&#x2F;sub-<em>account</em> <em>structure</em>",
        "tags": "<em>Accounts</em> <em>and</em> <em>billing</em>",
        "body": "Some New Relic <em>accounts</em> are able to create a more complex <em>account</em> <em>structure</em> with master <em>accounts</em> and sub-<em>accounts</em>. 重要 Access to this feature depends on your subscription level. Master and sub-<em>account</em> hierarchy Each sub-<em>account</em> is attached to a single master <em>account</em> and can have multiple apps"
      },
      "id": "60528ae764441fc3315321b1"
    },
    {
      "sections": [
        "Use multiple accounts",
        "Create multiple accounts",
        "重要",
        "ヒント",
        "Switch accounts"
      ],
      "title": "Use multiple accounts",
      "type": "docs-jp",
      "tags": [
        "Accounts",
        "Accounts and billing",
        "Account structure"
      ],
      "external_id": "c1e10f9673bb4083c74fffc7f8cc101aa19789fa",
      "image": "",
      "url": "https://docs.newrelic.com/jp/docs/accounts/install-new-relic/account-setup/use-multiple-accounts/",
      "published_at": "2021-04-05T10:04:11Z",
      "updated_at": "2021-03-17T17:22:53Z",
      "document_type": "page",
      "popularity": 1,
      "body": "A New Relic organization (set of related accounts under same billing) can have only one subscription level: you cannot mix subscription levels within an organization. However, you can create multiple accounts with different subscription levels. Create multiple accounts 重要 For organizations on the New Relic One pricing plan, only the Pro and Enterprise pricing tier allows multiple accounts with master/sub-account structures. When creating multiple New Relic accounts, we recommend you use the same license key for applications on the same host. This enables New Relic to link together those applications. To create additional accounts with the same email address: Use the same email address and password to sign up for one or more accounts. Create an account for each subscription level you want to use. Configure your mission-critical hosts to use the master account's license key. Use license keys from your inexpensive or free accounts for your remaining hosts. ヒント Note for Ruby: you can configure the Ruby APM agent to apply different keys to different application environments. In the newrelic.yml file, edit the Application environment sections. For example, set the production license_key property to use the paid subscription key, and use a different key for any dev, test, or staging environments. Switch accounts To learn about switching between multiple accounts, see Account access. If you need more help, check out these support and learning resources: Browse the Explorers Hub to get help from the community and join in discussions. Find answers on our sites and learn how to use our support portal. Run New Relic Diagnostics, our troubleshooting tool for Linux, Windows, and macOS. Review New Relic's data security and licenses documentation.",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 222.99002,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "Use multiple <em>accounts</em>",
        "sections": "Use multiple <em>accounts</em>",
        "tags": "<em>Accounts</em> <em>and</em> <em>billing</em>",
        "body": "A New Relic organization (set of related <em>accounts</em> under same <em>billing</em>) can have only one subscription level: you cannot mix subscription levels within an organization. However, you can create multiple <em>accounts</em> with different subscription levels. Create multiple <em>accounts</em> 重要 For organizations"
      },
      "id": "60523aed196a67097c2d1653"
    }
  ],
  "/docs/alerts-applied-intelligence/new-relic-alerts/alert-policies/specify-when-alerts-create-incidents": [
    {
      "sections": [
        "Notification channels: Control where to send alerts",
        "Tip",
        "View notification channels",
        "Add or remove notification channels",
        "Instructions for specific notification channels",
        "User",
        "Email",
        "OpsGenie",
        "PagerDuty",
        "Slack",
        "VictorOps",
        "Webhook",
        "Important",
        "Caution",
        "xMatters",
        "Receive mobile push notifications",
        "Acknowledge alert notifications"
      ],
      "title": "Notification channels: Control where to send alerts",
      "type": "docs",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "Alert notifications"
      ],
      "external_id": "8600dc86e59fad5da1e4a2b4170d2b86df78ee2f",
      "image": "",
      "url": "https://docs.newrelic.com/docs/alerts-applied-intelligence/new-relic-alerts/alert-notifications/notification-channels-control-where-send-alerts/",
      "published_at": "2021-04-06T07:43:52Z",
      "updated_at": "2021-04-06T07:43:52Z",
      "document_type": "page",
      "popularity": 1,
      "body": "You can use alerts to set up notification channels, and attach those channels to policies. Your selected channels provide fast and consistent ways for the right personnel to be notified about incidents. For example, notifications allow you to include charts about the incident to provide context and share them with your team. Alerts offers several notification channels, including webhooks, Slack rooms, email, and more. You'll be notified by your notification channels when incidents are opened, acknowledged, or closed. This document explains the available notification channels and how to set them up. Tip This document is about alerts notifications. For general information about unsubscribing from other New Relic emails, including marketing emails, weekly reports, and announcements, see Unsubscribe from New Relic emails. View notification channels To see all notification channels in your account: Go to one.newrelic.com, in the top nav click Alerts & AI, then click Notification channels. Add or remove notification channels To set up a new notification channel: On the Notification channels, click New notification channel. Select the type of channel and complete other required steps for it. To add or remove a notification policy or channel: Select a specific notification channel, select Alert policies, and add or remove a policy. OR Select a specific policy, select Notification channels, and add or remove a channel. Instructions for specific notification channels These are the available notification channel types. User Requirements: This feature is not available for users on the New Relic One user model, only to users on the original user model (learn about user model differences). As a workaround, you can use the email notification channel. Use the User notification channel to select existing account team members and admins. To view the Users list or to add users to alert policies: Go to one.newrelic.com, in the top nav click Alerts & AI, then click Notification channels. If a user has configured the New Relic mobile app, the user notification channel also sends push notifications to any of the user's registered mobile devices. If your account has one or more sub-accounts, the notification channel includes only users for the currently selected master or sub-account. Email We automatically add every individual and their email address on the selected account to the User notification channel and you can select them there. You don't need to add existing New Relic accounts to the Email channel. To add an email channel for other users, follow these guidelines: Field Description Email (required) In general, use the Email notification channel to identify user emails or email aliases that are not already on the selected account. For example, if you have a dev-ops@company.com email alias for your DevOps team, add the email alias to the Email channel. Otherwise, use the User notification channel to select specific users on your DevOps team. For easier maintenance, add a single non-user email address or alias to a single alert notification channel. If you want to use the email channel for more than one email, create an email group or alias outside your account. These email addresses can be the same as or different from email addresses already on your account. Users can unsubscribe from general (non-alerts-related) emails, but they cannot unsubscribe from alerts email notifications. Instead, the account Owner, Admin, or add-on manager must remove users from the policy's email notification channel. Include JSON attachment (optional) To include a JSON attachment with the email notification, select this checkbox. OpsGenie You must have an existing OpsGenie account integrated with New Relic in order to provide the following information: Field Description Channel name (required) A meaningful name for the OpsGenie notification channel (maximum 64 characters). API key (required) The API key generated from your OpsGenie integration used to authenticate API requests. Teams (optional) List of team names that are responsible for the alert. OpsGenie runs team escalation policies to calculate which users will receive notifications. Tags (optional) A comma-separated list of labels attached to the alert. Tip To overwrite the OpsGenie Quiet Hours setting for urgent alerts, add an OverwriteQuietHours tag. Recipients (optional) One or more names of users, groups, on-call schedules, escalation policies, etc., that OpsGenie uses to calculate where to send notifications. PagerDuty You must have an existing PagerDuty account in order to provide the following information: Field Description Service name (required) The name of your service integrating with PagerDuty for notifications. Integration key (required) The unique service identifier used by PagerDuty's Integration API to trigger, acknowledge, and resolve incidents for the service. Slack Before adding Slack notifications, you must create a unique webhook integration using Slack's New Relic integration. If you want web, transaction, server, and mobile alerts to be posted in separate channels, you must set up separate integrations for each one. Field Description Channel name (required) A meaningful name for the Slack notification channel (maximum 64 characters); for example, Network Ops Center. URL (required) Copy and paste the New Relic webhook integration URL that you've set up with Slack. For example: https://hooks.slack.com/services/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 Be sure to include https:// in the URL. Do not use http://. Team channel (optional) If used, include # before the name of the Slack channel where alert notifications are sent; for example, #NOC. VictorOps You must have an existing VictorOps account in order to provide the following required information: Field Description Channel name (required) A meaningful name for this notification channel (maximum 64 characters). For example, if the VictorOps Route key is for your Technical Support team, you could name this channel Tech Support - VictorOps. Key (required) VictorOps generates a unique key for each account. It maps the VictorOps account to its associated integrations. Route key (optional) This key maps the alert or incident to a specific team. Webhook Webhooks are HTTP POST messages containing JSON documents delivered to a destination URL. When an incident is opened, acknowledged, or closed, our webhook feature sends a message to your URL with any relevant information, such as a description of the event and a link back to New Relic. You also have the option to customize the payload in the POST message for further integration into your system. Important If your endpoint does not acknowledge the POST request within 10 seconds, the Alerts UI may indicate a failed notification event for the related incident. Before adding webhook notifications, you must have an endpoint set up to respond with a status code between 200 and 206 after receiving the following required information: Field Description Channel name (required) A meaningful name for the webhook (maximum 64 characters). Base url (required) The endpoint that will receive the POST message and trigger customized behaviors in your system. Caution If you want to include a port number in the webhook URL, make sure the port is available for requests. Otherwise the webhook will not work. Basic auth (optional) To require basic authentication for the webhook, select Add basic auth, and provide the user name and password to authenticate the webhook. Custom headers (optional) To include headers with webhooks, select Add custom headers, and provide the name and value for each header. Use custom payload (optional) To use the default values, leave blank. To view and edit the default values, select Add custom payload. Payload (for custom payloads only) Your customized POST message code. This field includes: A list of variables you can use Syntax highlighting, based on payload type Payload type (for custom payloads only) Specify the message format: JSON (default) or Form. xMatters You must have an existing xMatters account in order to provide the following information: Field Description Channel name (required) Name your channel so you can identify it easily when associating it with a policy. Integration url (required) The unique integration url provided by xMatters pointing to your xMatters account. Receive mobile push notifications Important In order to receive mobile push notifications, your device must be registered and listed in (account) > User preferences. If the device is not listed in User preferences, log out of the app, log back in, and check again to see if it is listed. To receive mobile push notifications: Log in to your New Relic account via the mobile app at least once to ensure the device is registered. Add the user channel to the alert policy. Switch push notifications On for the device. Acknowledge alert notifications Anyone in your account can acknowledge notifications through the user interface or email notification. Acknowledging an incident in New Relic also acknowledges any associated incident in PagerDuty.",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 297.53415,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "Notification channels: Control where to send <em>alerts</em>",
        "sections": "Notification channels: Control where to send <em>alerts</em>",
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": " to select existing account team members and admins. To view the Users list or to add users to <em>alert</em> <em>policies</em>: Go to one.newrelic.com, in the top nav click <em>Alerts</em> &amp; AI, then click Notification channels. If a user has configured the <em>New</em> <em>Relic</em> mobile app, the user notification channel also sends push"
      },
      "id": "603ecfbf64441f4ee54e885f"
    },
    {
      "sections": [
        "REST API calls for alerts",
        "Important",
        "Available data and functions via API",
        "Conditions excluded from the REST API",
        "Alert policies",
        "Create new policies",
        "Update policies",
        "Delete existing policies",
        "List existing policies",
        "Notification channels",
        "Create new notification channels",
        "Email channel",
        "OpsGenie channel",
        "Slack channel",
        "VictorOps channel",
        "PagerDuty channel",
        "Webhook (json) channel",
        "Webhook (x-www-form-urlencoded) channel",
        "Delete existing notification channels",
        "List existing notification channels",
        "Update notification channels associated with policies",
        "Delete notification channels associated with policies",
        "Conditions for APM, Browser, Mobile",
        "Create conditions for policies",
        "Update conditions for policies",
        "Delete conditions from policies",
        "List existing conditions for policies",
        "Conditions for NRQL",
        "Create NRQL conditions for policies",
        "Update NRQL conditions for policies",
        "Delete NRQL conditions for policies",
        "List existing NRQL conditions for policies",
        "Conditions for external services",
        "External services: Create conditions for policies",
        "External services: Update conditions for policies",
        "External services: Delete conditions from policies",
        "External services: List existing conditions for policies",
        "Conditions for Synthetic monitoring",
        "Synthetics: Create conditions for policies",
        "Synthetic monitoring: Update conditions for policies",
        "Synthetic monitoring: Delete conditions from policies",
        "Synthetic monitoring: List existing conditions for policies",
        "Conditions for plugins",
        "Plugins: Create conditions for policies",
        "Plugins: Update conditions for policies",
        "Plugins: Delete conditions from policies",
        "Plugins: List existing conditions for policies",
        "Alert activity: Events, violations, incidents",
        "List Events",
        "List Violations",
        "Tip",
        "List Incidents",
        "Show Incident",
        "Acknowledge Incident",
        "Close Incident",
        "Alert entity conditions",
        "List condition by entity",
        "Add an entity to a condition",
        "Remove an entity from a condition"
      ],
      "title": "REST API calls for alerts",
      "type": "docs",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "REST API alerts"
      ],
      "external_id": "7e36876e5725bfa63cbd6aadd543e98060f5e118",
      "image": "",
      "url": "https://docs.newrelic.com/docs/alerts-applied-intelligence/new-relic-alerts/rest-api-alerts/rest-api-calls-alerts/",
      "published_at": "2021-04-05T23:18:37Z",
      "updated_at": "2021-04-05T23:18:37Z",
      "document_type": "page",
      "popularity": 1,
      "body": "Our REST API (v2) allows you to configure settings for alerts. The API Explorer also includes the curl request format, available parameters, potential response status codes, and JSON response structure for each of the available API calls. You can also create alert conditions in the UI. Important For infrastructure alerting, see REST API for infrastructure monitoring alerts. Available data and functions via API REST API functions Comments View account data In general, any role can use a user key or REST API key with GET > List functions to view alerts data. The account Owner and Admins may use their API key. List output will be paginated. Available functions include: Alert policies Notification channels Conditions for APM, Browser, and Mobile (Some limitations apply.) Conditions for external services Conditions for Synthetic monitoring Conditions for Plugins Conditions for NRQL (Some limitations apply.) Events Violations Incidents Maintain account data You may have an Owner or Admin role in your account and a user key or have a custom role that grants permissions to manage Alerts and a user key in order to use any maintenance function, including POST > Create, PUT > Add, PUT > Update, and DELETE. Conditions excluded from the REST API These types of conditions do not have available endpoints in the API: APM: Web transaction percentiles, conditions targeting labels, and baselines NRQL: Baselines Alert policies These API functions include links to the API Explorer, where you can create, delete, or list policies. Important If your account hosts data in the EU data center, ensure you're using the proper API endpoints for EU region accounts. Create new policies To add new policies, use your user key and include these two values in the API call: Required values Definition Incident incident_preference Determines how Alerts will create incidents and group violations. This must be one of the following: PER_POLICY (default): Roll up by policy. PER_CONDITION: Roll up by condition. PER_CONDITION_AND_TARGET: Roll up by target and condition. Policy name The policy name is required. Leaving it unchanged will create a policy called string. API Explorer: Alerts Policies > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_policies.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"policy\": { \"incident_preference\": \"string\", \"name\": \"string\" } }' Copy Update policies Use this API to update an existing policy's name and incident_preference. You'll need your user key. Required values Definition id Required. To find a policy's ID, use either of these options: From the UI: On a policy's UI page, find the ID under the policy name. With the API: Use the List policies API. Incident incident_preference Determines how alerts will create incidents and group violations. Must be one of the following: PER_POLICY (default): Roll up by policy. PER_CONDITION: Roll up by condition. PER_CONDITION_AND_TARGET: Roll up by target and condition. Policy name Required. If you do not change the name, it defaults to a policy called string. To find a policy's exact name, use the List policies API. API Explorer: Alerts Policies > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_policies/{id}.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"policy\": { \"incident_preference\": \"string\", \"name\": \"string\" } }' Copy Delete existing policies To delete an existing policy, use your user key, and include the policy_id (available from API Explorer: Alerts Policies > GET > List) in the API call: API Explorer: Alerts Policies > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy List existing policies To view a list of existing policies for your account, use your user key, and include these optional values in the API call: Optional policy name filter Optional pagination value API Explorer: Alerts Policies > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_policies.json' \\ -H 'Api-Key:$API_KEY' -i Copy Notification channels These API functions include links to the API Explorer, where you can create, delete, or list Alerts notification channels. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. Create new notification channels To add new notification channels, use your user key and include these values in the API call: New channel's name Type of channel Configuration values The API Explorer shows the format for required configuration values for each type of notification channel. API Explorer: Alerts Channels > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_channels.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"channel\": { \"name\": \"string\", \"type\": \"string\", \"configuration\": \"hash\" } }' Copy The \"hash\" place holder in this example must be replaced by one of the following JSON blocks with the appropriate values substituted: Email channel { \"recipients\" : \"test@google.com\", \"include_json_attachment\" : true } Copy OpsGenie channel { \"api_key\": \"abc123\", \"teams\": \"team1\", \"tags\": \"tag1\", \"recipients\": \"me@me.com\" } Copy Slack channel { \"url\": \"http://test.com\", \"channel\": \"channel1\" } Copy VictorOps channel { \"key\": \"mykey\", \"route_key\": \"theroute\" } Copy PagerDuty channel { \"service_key\": \"myservicekey\" } Copy Webhook (json) channel This example shows the default payload inserted. (The payload attribute is optional.) The payload can be customized to have different keys than the ones shown and will be sent with the $ prefixed attributes interpolated prior to delivery. Important The condition_id is deprecated. Instead, use condition_family_id. { \"base_url\": \"http://test.com\", \"auth_username\": \"username\", \"auth_password\": \"password\", \"payload_type\": \"application/json\", \"headers\": { \"header1\": \"test\", \"header2\": \"test\" } \"payload\": { \"account_id\": \"$ACCOUNT_ID\", \"account_name\": \"$ACCOUNT_NAME\", \"closed_violations_count_critical\": \"$CLOSED_VIOLATIONS_COUNT_CRITICAL\", \"closed_violations_count_warning\": \"$CLOSED_VIOLATIONS_COUNT_WARNING\", \"condition_family_id\": \"$CONDITION_FAMILY_ID\", \"condition_id\": \"$CONDITION_ID\", \"condition_name\": \"$CONDITION_NAME\", \"current_state\": \"$EVENT_STATE\", \"details\": \"$EVENT_DETAILS\", \"duration\": \"$DURATION\", \"event_type\": \"$EVENT_TYPE\", \"incident_acknowledge_url\": \"$INCIDENT_ACKNOWLEDGE_URL\", \"incident_id\": \"$INCIDENT_ID\", \"incident_url\": \"$INCIDENT_URL\", \"open_violations_count_critical\": \"$OPEN_VIOLATIONS_COUNT_CRITICAL\", \"open_violations_count_warning\": \"$OPEN_VIOLATIONS_COUNT_WARNING\", \"owner\": \"$EVENT_OWNER\", \"policy_name\": \"$POLICY_NAME\", \"policy_url\": \"$POLICY_URL\", \"runbook_url\": \"$RUNBOOK_URL\", \"severity\": \"$SEVERITY\", \"targets\": \"$TARGETS\", \"timestamp\": \"$TIMESTAMP\", \"violation_callback_url\": \"$VIOLATION_CALLBACK_URL\", \"violation_chart_url\": \"$VIOLATION_CHART_URL\" } } Copy Webhook (x-www-form-urlencoded) channel This example shows the default payload inserted. (The payload attribute is optional.) The payload can be customized to have different keys than the ones shown and will be sent with the $ prefixed attributes interpolated prior to delivery. Important The condition_id is deprecated. Instead, use condition_family_id. { \"base_url\": \"http://test.com\", \"auth_username\": \"username\", \"auth_password\": \"password\", \"payload_type\": \"application/x-www-form-urlencoded\", \"headers\": { \"header1\": \"test\", \"header2\": \"test\" }, \"payload\": { \"account_id\": \"$ACCOUNT_ID\", \"account_name\": \"$ACCOUNT_NAME\", \"closed_violations_count_critical\": \"$CLOSED_VIOLATIONS_COUNT_CRITICAL\", \"closed_violations_count_warning\": \"$CLOSED_VIOLATIONS_COUNT_WARNING\", \"condition_family_id\": \"$CONDITION_FAMILY_ID\", \"condition_id\": \"$CONDITION_ID\", \"condition_name\": \"$CONDITION_NAME\", \"current_state\": \"$EVENT_STATE\", \"details\": \"$EVENT_DETAILS\", \"duration\": \"$DURATION\", \"event_type\": \"$EVENT_TYPE\", \"incident_acknowledge_url\": \"$INCIDENT_ACKNOWLEDGE_URL\", \"incident_id\": \"$INCIDENT_ID\", \"incident_url\": \"$INCIDENT_URL\", \"open_violations_count_critical\": \"$OPEN_VIOLATIONS_COUNT_CRITICAL\", \"open_violations_count_warning\": \"$OPEN_VIOLATIONS_COUNT_WARNING\", \"owner\": \"$EVENT_OWNER\", \"policy_name\": \"$POLICY_NAME\", \"policy_url\": \"$POLICY_URL\", \"runbook_url\": \"$RUNBOOK_URL\", \"severity\": \"$SEVERITY\", \"targets\": \"$TARGETS\", \"timestamp\": \"$TIMESTAMP\", \"violation_callback_url\": \"$VIOLATION_CALLBACK_URL\", \"violation_chart_url\": \"$VIOLATION_CHART_URL\" } } Copy Delete existing notification channels To delete an existing notification channels, use your user key, and include the channel_id (available from API Explorer: Alerts Channels > GET > List) in the API call: API Explorer: Alerts Channels > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_channels/{channel_id}.json' \\ -H 'Api-Key:$API_KEY' -i Copy List existing notification channels To view a list of existing notification channels for your account, use your user key and an optional pagination value in the API call. API Explorer: Alerts Channels > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_channels.json' \\ -H 'Api-Key:$API_KEY' -i Copy Update notification channels associated with policies You can associate a policy with one or more notification channels. You can also associate a notification channel with one or more policies. To add notification channels to policies, use your user key and these values in the API call: A policy_id value (available from API Explorer: Alerts Policies > GET > List) One or more channel_id values in an array, separated by commas or a new line (available from API Explorer: Alerts Channels > GET > List) API Explorer: Alerts Policy Channels > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_policy_channels.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -G -d 'policy_id=$POLICY_ID&channel_ids=channel_id' Copy Delete notification channels associated with policies You can associate a policy with one or more notification channels. You can also associate a notification channel with one or more alert policies. To remove a policy from a channel, or to remove a channel from a policy, use your user key and these values in the API call: The policy_id (available from API Explorer: Alerts Policies > GET > List) The channel_id (available from API Explorer: Alerts Channels > GET > List) API Explorer: Alerts Policy Channels > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_policy_channels.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'channel_id=CHANNEL_ID&policy_id=POLICY_ID' Copy Conditions for APM, Browser, Mobile These API functions include links to the API Explorer, where you can create, update, delete, or list policy conditions. These calls are for conditions with these types of entities: APM: Apps and key transactions Browser: Apps and key transactions Mobile: Mobile apps Exception: The following APM conditions are not available from this API endpoint: Conditions targeting labels (dynamic targeting) Web transaction percentile conditions Baseline conditions Important The API Explorer provides information about other types of conditions using separate endpoints, including external services (APM and Mobile), plugins, and Synthetic monitoring. Consider all types of alert conditions when searching or updating. If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. Create conditions for policies To add conditions to policies, include these values in the API call: Your user key The policy_id (available from API Explorer: Alerts Policies > GET > List) The required condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Conditions > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"condition\": { \"type\": \"string\", \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"metric\": \"string\", \"gc_metric\": \"string\", \"condition_scope\": \"string\", \"violation_close_timer\": integer, \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"user_defined\": { \"metric\": \"string\", \"value_function\": \"string\" } } }' Copy The JSON response returns a condition id, which you will need to update or delete the condition. You can also view the condition id from API Explorer: Alerts Conditions > GET > List. Update conditions for policies To update conditions for policies, include these values in the API call: Your user key The condition's id (available from API Explorer: Alerts Conditions > GET > List) The required condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"condition\": { \"type\": \"string\", \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"metric\": \"string\", \"metric\": \"string\", \"gc_metric\": \"string\", \"condition_scope\": \"string\", \"violation_close_timer\": integer, \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"user_defined\": { \"metric\": \"string\", \"value_function\": \"string\" } } }' Copy Delete conditions from policies To delete conditions from policies, include these values in the API call: Your user key The condition_id (available from API Explorer: Alerts Conditions > GET > List) API Explorer: Alerts Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy List existing conditions for policies To view a list of existing conditions for your policy, use your REST API key or user key, and the associated policy_id in the API call. API Explorer: Alerts Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Conditions for NRQL These API functions include links to the API Explorer, where you can create, update, delete, or list NRQL conditions for your policies. Exception: NRQL baseline conditions are not available from this endpoint. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. Create NRQL conditions for policies Recommendation: Due to the way NRQL data is aggregated, set the nrql[since_value] to 3 or higher to prevent false positives. This equates to the Evaluation Offset value in the Alerts Condition UI. API Explorer: Alerts Nrql Conditions > POST > Create To create NRQL conditions for policies: curl -X POST 'https://api.newrelic.com/v2/alerts_nrql_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"nrql_condition\": { \"type\": \"string\", \"name\": \"string\", \"runbook_url\": \"string\", \"enabled\": boolean, \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"value_function\": \"string\", \"nrql\": { \"query\": \"string\", \"since_value\": \"string\" }, \"signal\": { \"aggregation_window\": \"string\", \"evaluation_offset\": \"string\", \"fill_option\": \"string\", \"fill_value\": \"string\" }, \"expiration\": { \"expiration_duration\": \"string\", \"open_violation_on_expiration\": boolean, \"close_violations_on_expiration\": boolean } } }' Copy If you set nrql[since_value] to 3 and nrql[query] to SELECT count FROM myEvent, New Relic evaluates the following query against the terms[threshold] value once per minute: SELECT count FROM myEvent SINCE 3 minutes ago UNTIL 2 minutes ago Copy If you set type as outlier, you can omit the value_function. However, two additional fields are required: expected_groups and ignore_overlap. For more information, see Alerts Conditions API field names. If you omit type or set it as static, it will default to standard NRQL alerting. Update NRQL conditions for policies Recommendation: Due to the way NRQL data is aggregated, set the nrql[since_value] to 3 or higher to prevent false positives. This allows three minutes to aggregate data, and equates to the Evaluation Offset value in the Alerts Condition UI. To update NRQL conditions for policies, include these values in the API call: Your user key The condition's id (available from API Explorer: Alerts Nrql Conditions > GET > List) The required condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Nrql Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"nrql_condition\": { \"name\": \"string\", \"runbook_url\": \"string\", \"enabled\": boolean, \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"value_function\": \"string\", \"nrql\": { \"query\": \"string\", \"since_value\": \"string\" } } }' Copy Delete NRQL conditions for policies To delete NRQL conditions from policies, include these values in the API call: Your user key The condition's id (available from API Explorer: Alerts Nrql Conditions > GET > List) API Explorer: Alerts Nrql Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy List existing NRQL conditions for policies To view a list of existing conditions for your alert policy, use your user key or REST API key, and the associated policy_id in the API call. API Explorer: Alerts Nrql Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_nrql_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Conditions for external services These API functions include links to the API Explorer, where you can create, update, delete, or list policy conditions. These calls are for conditions for external services. The API calls can be used with APM and Mobile apps. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. External services: Create conditions for policies To add conditions for external services to policies that have APM or Mobile apps, include these values in the API call: Your user key The policy_id (available from API Explorer: Alerts Policies > GET > List) The required external_service_condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts External Service Conditions > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_external_service_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"external_service_condition\": { \"type\": \"string\", \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"external_service_url\": \"string\", \"metric\": \"string\", \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ] } }' Copy The JSON response returns a condition id, which you will need to update or delete the condition. You can also view the condition id from API Explorer: Alerts External Service Conditions > GET > List. External services: Update conditions for policies To update conditions for external services to policies that have APM or Mobile apps, include these values in the API call: Your user key The external service condition's id (available from API Explorer: Alerts External Service Conditions > GET > List) The required external_service_condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts External Service Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"external_service_condition\": { \"type\": \"string\", \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"external_service_url\": \"string\", \"metric\": \"string\", \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ] } }' Copy External services: Delete conditions from policies To delete conditions for external services from policies with APM or Mobile apps, include these values in the API call: Your user key The condition_id (available from API Explorer: Alerts External Service Conditions > GET > List) API Explorer: Alerts External Service Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy External services: List existing conditions for policies To view a list of existing conditions for policies with external service apps (APM or Mobile), use your user key or REST API key and the associated policy_id in the API call. API Explorer: Alerts External Service Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_external_service_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Conditions for Synthetic monitoring These API functions include links to the API Explorer, where you can create, update, delete, or list conditions for your alert policies. The API calls can be used with Synthetic monitoring. Synthetics: Create conditions for policies To add conditions to policies for Synthetic monitoring, include these values in the API call: Your user key The policy_id (available from API Explorer: Alerts Policies > GET > List) The required synthetics_condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Synthetics Conditions > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_synthetics_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"synthetics_condition\": { \"name\": \"string\", \"monitor_id\": \"string\", \"runbook_url\": \"string\", \"enabled\": boolean } }' Copy The JSON response returns a condition id, which you will need to update or delete the condition. You can also view the condition id from API Explorer: Alerts Synthetics Conditions > GET > List. Synthetic monitoring: Update conditions for policies To update policy conditions for Synthetic monitoring, include these values in the API call: Your user key The condition id (available from API Explorer: Alerts Synthetics Conditions > GET > List) The required synthetics_condition values in the API call (described in the API Explorer page to create alert conditions for Synthetics and in the Alerts conditions API glossary) API Explorer: Alerts Synthetics Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_synthetics_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"synthetics_condition\": { \"name\": \"string\", \"monitor_id\": \"string\", \"runbook_url\": \"string\", \"enabled\": boolean } }' Copy Synthetic monitoring: Delete conditions from policies To delete policy conditions for Synthetic monitoring, include these values in the API call: Your user key The condition_id (available from API Explorer: Alerts Synthetics Conditions > GET > List) API Explorer: Alerts Synthetics Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_synthetics_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy Synthetic monitoring: List existing conditions for policies To view a list of existing policy conditions for Synthetic monitoring, use your user key or REST API key, and the associated policy_id in the API call. API Explorer: Alerts Synthetics Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_synthetics_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Conditions for plugins These API functions include links to the API Explorer, where you can create, update, delete, or list conditions for your alert policies. The API calls can be used with plugins from New Relic's Plugin Central. Plugins: Create conditions for policies To add conditions to policies for plugin components or instances, include these values in the API call: Your user key The policy_id (available from API Explorer: Alerts Policies > GET > List) The required plugins_condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Plugins Conditions > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_plugins_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"plugins_condition\": { \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"metric_description\": \"string\", \"metric\": \"string\", \"value_function\": \"string\", \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"plugin\": { \"id\": \"string\", \"guid\": \"string\" } } }' Copy The JSON response returns a condition id, which you will need to update or delete the condition. You can also view the condition id from API Explorer: Alerts Plugins Conditions > GET > List. Plugins: Update conditions for policies To update policy conditions for plugin components or instances, include these values in the API call: Your user key The condition id (available from API Explorer: Alerts Plugins Conditions > GET > List) The required plugins_condition values in the API call (described in the API Explorer page to create alert conditions for plugins and in the Alerts conditions API glossary) API Explorer: Alerts Plugins Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_plugins_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"plugins_condition\": { \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"metric_description\": \"string\", \"metric\": \"string\", \"value_function\": \"string\", \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"plugin\": { \"id\": \"string\", \"guid\": \"string\" } } }' Copy Plugins: Delete conditions from policies To delete conditions from policies for plugin components or instances, include these values in the API call: Your user key The condition id (available from API Explorer: Alerts Plugins Conditions > GET > List) API Explorer: Alerts Plugins Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_plugins_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy Plugins: List existing conditions for policies To view a list of existing conditions for policies with plugin components or instances, use your user key or REST API key, and the associated policy_id in the API call. API Explorer: Alerts Plugins Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_plugins_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Alert activity: Events, violations, incidents These API functions include links to the API Explorer, where you can view information about events, violations, and incidents for your alert policies. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. List Events To view events for entities monitored by APM, Browser, Mobile, Plugins, Synthetic monitoring, and Alerts, include these values in the API call: Your user key or REST API key Other optional values to use as filters (described in the API Explorer page) that depend on the type of product (browser monitoring, mobile monitoring, etc.), entity (as apps or key transactions for APM, synthetic monitoring, etc.), and type of event (notification, deployment, instrumentation, etc.) An optional pagination value API Explorer: Alerts Events > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_events.json' \\ -H 'Api-Key:$API_KEY' -i Copy List Violations To view violations for any entity monitored for your account, include these values in the API call: Your user key or REST API key An optional flag to show only those violations that are currently open An optional pagination value API Explorer: Alerts Violations > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_violations.json' \\ -H 'Api-Key:$API_KEY' -i Copy Tip To find policy, condition, and incident information: take the IDs found in the links section in the violations property and place them into the URLs contained in the outer links property of the payload. List Incidents To view incidents for any entity monitored for your account, include these values in the API call: Your user key or REST API key An optional flag to show only those incidents that are currently open An optional flag to exclude violation data from response An optional pagination value API Explorer: Alerts Incidents > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_incidents.json' \\ -H 'Api-Key:$API_KEY' -i Copy Show Incident To show a single incident associated with your account, include these values in the API call: Your user key or REST API key An incident ID API Explorer: Alerts Incidents > GET > Show curl -X GET 'https://api.newrelic.com/v2/alerts_incidents/{id}.json' \\ -H 'Api-Key:$API_KEY' -i Copy Acknowledge Incident To acknowledge an incident associated with your account, include these values in the API call: Your user key An incident ID API Explorer: Alerts Incidents > PUT > Acknowledge curl -X PUT 'https://api.newrelic.com/v2/alerts_incidents/{id}/acknowledge.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' Copy Close Incident To close an incident associated with your account, include these values in the API call: Your user key An incident ID API Explorer: Alerts Incidents > PUT > Close curl -X PUT 'https://api.newrelic.com/v2/alerts_incidents/{id}/close.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' Copy Alert entity conditions These API functions include links to the API Explorer, where you can list, add and remove entities in the conditions for your alert policies. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. List condition by entity To view the conditions an entity is part of for APM, Browser, Mobile, key transactions, and Plugins, include these values in the API call: Your user key or REST API key The entity_id This is the specific entity (alert target) to be monitored. The entity_type, which must be one of the following: Application BrowserApplication MobileApplication KeyTransaction Plugin API Explorer: Alerts Entity Conditions > GET > list curl -X GET 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -G -d 'entity_type=$ENTITY_TYPE' Copy Add an entity to a condition To add an entity to a condition, include these values in the API call: Your user key The entity_id This is the entity (alert target) to be monitored. It is the numeric ID for the APM application, browser app, plugin, key transaction, or mobile app. The condition_id (available from API Explorer: Alerts Conditions > GET > List) The entity_type, which must be one of the following: Application BrowserApplication MobileApplication KeyTransaction Plugin API Explorer: Alerts Entity Conditions > PUT > Add curl -X PUT 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -G -d 'entity_type=$ENTITY_TYPE&condition_id=$CONDITION_ID' Copy Remove an entity from a condition To remove an entity being monitored from a condition, include these values in the API call: Your user key The entity_id This is the specific monitored entity (alert target) to be removed. It is the numeric ID for the APM application, browser app, plugin, key transaction, or mobile app. The condition_id (available from API Explorer: Alerts Conditions > GET > List) The entity_type, which must be one of the following: Application BrowserApplication MobileApplication KeyTransaction Plugin API Explorer: Alerts Entity Conditions > DELETE > Remove curl -X DELETE 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -G -d 'entity_type=$ENTITY_ID&condition_id=$CONDITION_ID' Copy",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 288.2893,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "REST API calls for <em>alerts</em>",
        "sections": "<em>Alert</em> <em>policies</em>",
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": "&#x2F;<em>alerts</em>_synthetics_conditions.json&#x27; \\ -H &#x27;Api-Key:$API_KEY&#x27; -i \\ -d &#x27;policy_id=$POLICY_ID&#x27; Copy Conditions for plugins These API functions include links to the API Explorer, where you can create, update, delete, or list conditions for your <em>alert</em> <em>policies</em>. The API calls can be used with plugins from <em>New</em>"
      },
      "id": "603ec3d064441f50e94e8847"
    },
    {
      "sections": [
        "アラート条件を作成する",
        "条件の作成",
        "重要",
        "条件のタイプ",
        "NRQLクエリ条件",
        "APMメトリックアラート条件",
        "ベースライン条件",
        "外れ値検出条件",
        "複数の場所におけるSyntheticsモニタリングの条件",
        "キートランザクションメトリクス条件",
        "Javaインスタンス条件",
        "JVM健全性メトリクス条件（Javaアプリ）",
        "ウェブトランザクションのパーセンタイル条件",
        "ヒント",
        "アプリのラベルを使用した動的ターゲティング",
        "インフラストラクチャの条件",
        "Apdexとレスポンスタイムの条件",
        "条件の名前を変更",
        "ポリシーと条件を管理する",
        "既存の条件を表示する",
        "その他のヘルプ"
      ],
      "title": "アラート条件を作成する",
      "type": "docs-jp",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "Alert conditions"
      ],
      "external_id": "2bbd04fc373c311b184fd7a08718611882e3191f",
      "image": "",
      "url": "https://docs.newrelic.com/jp/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-alert-conditions/",
      "published_at": "2021-04-06T05:23:41Z",
      "updated_at": "2021-04-06T05:23:41Z",
      "document_type": "page",
      "popularity": 1,
      "body": "条件では、監視されたデータソース、そして違反と見なされるデータソースの行動を定義する閾値が含まれます。本ドキュメントでは、利用可能な条件の種類、条件の作成方法、そして既存条件の確認方法について解説しています。 関連ドキュメント： 基本コンセプトとワークフロー 最小/最大限度（1つのポリシーあたりの最大条件数など） REST APIでアラート設定をリスト化または編集する NRQL Condition NerdGraph APIにより、NerdGraph経由でNRQLアラート条件を管理します。 条件の作成 条件を作成するには： ポリシーを作成すると、条件を追加するよう自動的にプロンプトが表示されます。 または 既存のポリシーのページから、Create/add a conditionを選択します。 次のものを含む、UIのプロンプトに従います。 製品/データソースの選択 条件タイプの選択 閾値の定義 オプション：条件の作成が終わったら、その条件をコピーし、その他のポリシーに追加します。 重要 数値の入力フィールドがある条件は、小数第2位までの数値を受け入れます。たとえば、0.01が最小限の値です。 条件のタイプ 条件のさまざまなタイプの説明は次のとおりです。 NRQLクエリ条件 UIまたはNerd-Graph APIを使用して、数値を返すベーシックなNRQLクエリに対するNRQL条件を作成することができます。 APMメトリックアラート条件 NRQLを使用してのAPM条件の作成に関するヒントについては、APMメトリックアラート条件をご覧ください。 ベースライン条件 ベースラインアラートでは、週ごと、または季節ごとのパターンなど、変化するデータとトレンドに動的に適応する条件を作成できます。この機能は、APMおよびBrowserアプリケーションのほか、NRQLクエリでも利用できます。 外れ値検出条件 外れ値検出は、データ内のグループの検索を試み、これらのグループからの外れ値である値を探します。外れ値検出は、NRQLアラート用にしか利用できません。 複数の場所におけるSyntheticsモニタリングの条件 複数の場所におけるSyntheticsモニタリングの条件を使用して、モニターを設定し、特定の数の場所で同時に障害が発生している場合に通知を受けられます。 キートランザクションメトリクス条件 APMでは、キートランザクションの条件を設定できます。 Javaインスタンス条件 閾値は、Javaアプリインスタンスのメトリックがその閾値を超えた場合に違反をオープンするように設定できます。 閾値を特定のインスタンスにスコープすることで、潜在的な問題がどこで発生しているかをより迅速に突き止めることができます。例えば、アプリのインスタンスのサブセットのみで発生している異常を検出する場合に便利です。膨大な数のインスタンスにわたってメトリックスを集計するアプリの場合、このタイプの異常は容易に見過ごされてしまいます。 JVM健全性メトリクス条件（Javaアプリ） APMによって監視されるJavaアプリケーションの場合、単一のJVMのヒープサイズまたはスレッド数が予想される動作範囲外にある場合に違反をオープンする閾値を設定できます。 アプリの選択したインスタンスのそれぞれに対して、個別にアラートの閾値の違反を計算します。条件を作成する際、Javaアプリのアラートポリシーに対する条件タイプとしてJVM health metricを選択し、いずれかの利用可能な閾値を選択してください。 スレッドのデッドロック ヒープメモリの使用 CPU利用時間 ガベージコレクションのCPU時間 違反は、閾値の逆数が満たされると自動的に閉じますが、UIを使用すると、JVM稼働メトリックに関する違反が強制終了する時間も変更できます。デフォルトは24時間です。 ウェブトランザクションのパーセンタイル条件 条件には閾値としてパーセンタイルを定義するオプションが含まれます。この条件は、ウェブアプリのレスポンスタイムがこの値を上回る、下回る、または等しい場合として設定します。このオプションは、例えば、運用スタッフがウェブの平均レスポンスタイムでなく、アプリケーションサーバーの全体的なウェブトランザクションのパーセンタイルについてアラートを発生させる場合に便利です。 ヒント ウェブアプリケーション以外のトランザクションに対して、条件内に任意の閾値を設定する場合、NRQLクエリ機能を使用してください。 パーセンタイル閾値を定義するには： APMアプリの条件に対する条件タイプとして、Web transactions percentilesを選択し、1つのアプリを選択します。（複数のアプリにアラートを作成するには、各アプリに個別にWeb transactions percentiles条件を作成してください。） 違反をオープンする閾値を定義するには、Percentile nthレスポンスタイム値を入力し、その頻度（この値より大きい、小さい、または等しい）を選択します。 ユーザーインタフェースにはクリティカルと警告の値が秒単位で表示されますが、New Relicにはトランザクションタイムがミリ秒で保存されます。ミリ秒で定義する場合は、値に小数点を含めます。 アプリのラベルを使用した動的ターゲティング アプリケーションにラベルを適用することで、条件にこれらのエンティティを自動的にリンクさせることができます。これにより、すべてのアプリケーションを動的環境内で簡単に管理できます。エンティティラベルを最適な状態で管理するため、エージェントの設定ファイルを使用するようお勧めします。 1つのラベルを使用して、関連のあるすべてのエンティティ（最大10,000エンティティ）を識別できます。複数のラベルは、選択されたラベルをすべて共有するエンティティのみ識別します。 条件と合わせてダイナミックターゲティングを利用するには、違反クローズタイマーを設定する必要もあります。 1つの条件に対して最高で10個のラベルを追加、編集、削除するには： 製品タイプとして、APM > Application metricを選択します。 エンティティを識別するには、 Labelsタブを選択します。ラベルを名前で検索するか、カテゴリーのリストからラベルを選択します。 Infrastructureを使用して、監視対象の条件を直接作成することもできます。 インフラストラクチャの条件 Infrastructureから直接、リソースに対する条件を作成できます。 たとえば、Infrastructureエージェントからデータが受信されなくなったときに通知を受信するには、host not reportingの条件タイプを使用します。これにより、フィルタリングされたホストグループに対してアラートを動的に送信し、5〜60分の時間枠を設定できるようになります。 Apdexとレスポンスタイムの条件 レスポンスタイムに対する違反をオープンし、通知を送信できます。ただし、ほとんどの場合、Apdexスコアは有用性がより高く、アプリケーションパフォーマンスをより正確に反映します。例えば、異常値が存在する場合、平均応答時間は結果に歪みが生じることがありますが、Apdexスコアはユーザーの許容レスポンスタイムをより正確に評価します。 条件の名前を変更 デフォルトの条件の名前を変更する場合は、分かりやすい短い名前を使用してください。電子メールの件名の行、オンラインチャットなど、文字制限のある通知メッセージには有益な情報を提供してください。 キャメルケースまたはドット付き10進表記を使用します。 何に違反しているのか簡潔に説明します。 既存の条件の名前を変更するには： one.newrelic.com のトップナビゲーションで、Alerts & AIをクリックし、Alert policiesをクリックしてから（ポリシーを選択をクリックします。 条件の名前をクリックして編集してから、条件に見合う名前を入力します。 条件に関連付けられている製品と条件タイプは、編集できません。代わりに、条件を削除して別の製品および条件タイプで新たに作成してください。 ポリシーと条件を管理する 条件を保存すると、現在選択されているポリシーに、その条件に適用されるすべてのアラート条件がリストされます。ここから、以下の操作を行えます。 ポリシーにさらなる条件を追加するステップを繰り返す。 ポリシーのセットアッププロセスに、1つまたは複数の通知チャネルを追加することで、このプロセスを続ける。 条件名、その条件名の適用範囲内のエンティティ、またはクリティカル（赤）と警告（黄）の閾値を変更する。 条件をコピーし、選択したアカウントにおける他のアラートポリシーにその条件を追加する。 ポリシーの名前を変更する。 ポリシー内の一切の条件を無効化するか、ポリシーもしくはその条件のいずれかを削除する。 また、Nerd-GraphポリシーAPI経由でポリシーを管理することもできます。 既存の条件を表示する ポリシーの索引で、アルファベット順に条件が一覧表示されます。既存の条件を表示するか検索するには： one.newrelic.com のトップナビゲーションで、Alerts & AIをクリックしてから、Alert policiesをクリックします。 検索ボックスを使用して、列をソートするかリストをスクロールして、ポリシー名を選択して条件を表示します。 特定のエンティティのポリシーと条件情報を表示するには：そのエンティティの製品UIから、Settingsを選択し、 Alert conditionsをクリックします。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 260.4577,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": "トップナビゲーションで、<em>Alerts</em> &amp; AIをクリックしてから、<em>Alert</em> <em>policies</em>をクリックします。 検索ボックスを使用して、列をソートするかリストをスクロールして、ポリシー名を選択して条件を表示します。 特定のエンティティのポリシーと条件情報を表示するには：そのエンティティの製品UIから、Settingsを選択し、 <em>Alert</em> conditionsをクリックします。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールである<em>New</em> <em>Relic</em> Diagnosticsを実行します。 <em>New</em> <em>Relic</em>のデータセキュリティとライセンスドキュメントを見直してください。"
      },
      "id": "60526c24196a677b8e2d1628"
    },
    {
      "sections": [
        "webhookペイロードのカスタマイズ",
        "Webhookを定義する",
        "Webhookの値",
        "ターゲット値",
        "Webhookの書式の例",
        "JSON Webhookの例",
        "重要",
        "フォームWebhookの例",
        "テキスト形式出力",
        "その他のヘルプ"
      ],
      "title": "webhookペイロードのカスタマイズ",
      "type": "docs-jp",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "Alert notifications"
      ],
      "external_id": "e7a046be0a08e5db6c6ee8110b1ae6c927ec9460",
      "image": "",
      "url": "https://docs.newrelic.com/jp/docs/alerts-applied-intelligence/new-relic-alerts/alert-notifications/customize-your-webhook-payload/",
      "published_at": "2021-04-06T07:42:17Z",
      "updated_at": "2021-04-06T07:42:16Z",
      "document_type": "page",
      "popularity": 1,
      "body": "Webhookをアラート通知チャネルとして使用する場合は、デフォルト値を使用できます。POSTメッセージのペイロードをカスタマイズして、システムインテグレーションをさらに高めることもできます。 Webhookを定義する JSON Webhookを定義する場合は、\"name\":\"value\",の書式を使用します。例えば： \"current_state\":\"acknowledged\", コピー フォームペイロードで静的なWebhookを定義する場合は、name=\"value\"の形式を使用します。例えば： current_state=\"acknowledged\" コピー Webhookに自己署名したカスタムのSSL証明書は含めないでください。当社エージェントでは、デフォルトでSSLが有効になります。当社のセキュリティポリシーにより、カスタムSSL証明書は当社Trustストアにインポートされません。 Webhookの値 当社は、以下のデフォルトの動的なwebhookの値に対応しています。利便性を考慮して、値はアルファベット順に表示されていますが、Webhookの値は順不同で定義できます。独自のキーの値のペアを用いて、カスタム変数を追加することもできます。 キー 変数 \"account_id\" $ACCOUNT_ID 設定可能な値： New RelicアカウントのID（文字列） \"account_name\" $ACCOUNT_NAME 設定可能な値： New Relicアカウントの名前（文字列） \"closed_violations_count_critical\" $CLOSED_VIOLATIONS_COUNT_CRITICAL \"closed_violations_count_warning\" $CLOSED_VIOLATIONS_COUNT_WARNING \"condition_id\" $CONDITION_ID \"condition_description\" $DESCRIPTION これには、アラート条件の説明フィールドが含まれます（存在する場合）。 \"condition_name\" $CONDITION_NAME 設定可能な値： （ユーザー定義文字列） \"current_state\" $EVENT_STATE 設定可能な値： [open|acknowledged|closed] \"details\" $EVENT_DETAILS \"duration\" $DURATION \"event_type\" $EVENT_TYPE 許容数値: [INCIDENT] \"incident_acknowledge_url\" $INCIDENT_ACKNOWLEDGE_URL \"incident_id\" $INCIDENT_ID \"incident_url\" $INCIDENT_URL \"metadata\" $METADATA 現在、Syntheticモニタリングの複数の場所における障害条件でのみ使用されています \"open_violations_count_critical\" $OPEN_VIOLATIONS_COUNT_CRITICAL \"open_violations_count_warning\" $OPEN_VIOLATIONS_COUNT_WARNING \"owner\" $EVENT_OWNER \"policy_name\" $POLICY_NAME 設定可能な値： （ユーザー定義文字列） \"policy_url\" $POLICY_URL \"runbook_url\" $RUNBOOK_URL \"severity\" $SEVERITY 設定可能な値： [CRITICAL] \"targets\" $TARGETS $TARGETS変数はFORMデータとともに使用できませんが、JSONデータと互換性があります。 静的なNRQLファセット型アラートの場合は、アラートをトリガーしたファセット名がターゲットの名前フィールドに自動入力されます。 使用可能なフィールドの説明については、ターゲット値を参照してください。 \"timestamp\" $TIMESTAMP \"timestamp_utc_string\" $TIMESTAMP_UTC_STRING YYYY-MM-DD, HH:MM UTC形式の人間が判読できるタイムスタンプ。 \"version\" $VERSION \"violation_callback_url\" $VIOLATION_CALLBACK_URL \"violation_chart_url\" $VIOLATION_CHART_URL ターゲット値 このセクションでは、Webhookの$TARGETSフィールドについて説明します。このデータはカスタマイズ不能で、参照用にここに提供されています。$TARGETSには、0 個以上のターゲット（エンティティ）のリストが含まれています。各ターゲットは、次のフィールドを含む JSON オブジェクトによって説明されます。 キー 変数 \"id\" ターゲットまたはエンティティの ID \"name\" ターゲットまたはエンティティの名前 \"labels\" 条件の評価から派生したエンティティタグと NRQL ファセットの組み合わせ、および使用可能なエンティティタグ。 \"link\" このターゲットまたはエンティティへのURLリンク。 \"product\" このターゲットまたはエンティティの製品タイプ（例：APM） \"type\" 製品に含まれるこのターゲットまたはエンティティの製品タイプ（例：アプリケーション） Webhookの書式の例 以下の例は、デフォルトの動的変数とカスタム変数の両方を使用したWebhookペイロードを示したものです。独自のペイロードを定義するにあたっては、動的変数の全てもしくは一部、並びに任意のカスタム変数を使用できます。 JSON Webhookの例 重要 以下のWebhookの例には、読みやすくするために余分なスペースと改行が挿入されています。実際のWebhookの応答は、連続した1行のテキストとして配信されます。\"team\": \"DevOps\"行は、カスタム変数の例です。 { \"account_id\": \"$ACCOUNT_ID\", \"account_name\": \"$ACCOUNT_NAME\", \"closed_violations_count_critical\": \"$CLOSED_VIOLATIONS_COUNT_CRITICAL\", \"closed_violations_count_warning\": \"$CLOSED_VIOLATIONS_COUNT_WARNING\", \"condition_family_id\": \"$CONDITION_FAMILY_ID\", \"condition_id\": \"$CONDITION_ID\", \"condition_name\": \"$CONDITION_NAME\", \"current_state\": \"$EVENT_STATE\", \"details\": \"$EVENT_DETAILS\", \"duration\": \"$DURATION\", \"event_type\": \"$EVENT_TYPE\", \"incident_acknowledge_url\": \"$INCIDENT_ACKNOWLEDGE_URL\", \"incident_id\": \"$INCIDENT_ID\", \"incident_url\": \"$INCIDENT_URL\", \"open_violations_count_critical\": \"$OPEN_VIOLATIONS_COUNT_CRITICAL\", \"open_violations_count_warning\": \"$OPEN_VIOLATIONS_COUNT_WARNING\", \"owner\": \"$EVENT_OWNER\", \"policy_name\": \"$POLICY_NAME\", \"policy_url\": \"$POLICY_URL\", \"runbook_url\": \"$RUNBOOK_URL\", \"severity\": \"$SEVERITY\", \"targets\": \"$TARGETS\", \"timestamp\": \"$TIMESTAMP\", \"timestamp_utc_string\": \"$TIMESTAMP_UTC_STRING\", \"violation_callback_url\": \"$VIOLATION_CALLBACK_URL\", \"violation_chart_url\": \"$VIOLATION_CHART_URL\", \"team\": \"DevOps\" } コピー フォームWebhookの例 重要 以下のWebhookの例には、読みやすくするために余分なスペースと改行が挿入されています。実際のWebhookの応答は、連続した1行のテキストとして配信されます。 account_id=$ACCOUNT_ID account_name=$ACCOUNT_NAME closed_violations_count_critical=$CLOSED_VIOLATIONS_COUNT_CRITICAL closed_violations_count_warning=$CLOSED_VIOLATIONS_COUNT_WARNING condition_family_id=$CONDITION_FAMILY_ID condition_id=$CONDITION_ID condition_name=$CONDITION_NAME current_state=$EVENT_STATE details=$EVENT_DETAILS duration=$DURATION event_type=$EVENT_TYPE incident_acknowledge_url=$INCIDENT_ACKNOWLEDGE_URL incident_id=$INCIDENT_ID incident_url=$INCIDENT_URL open_violations_count_critical=$OPEN_VIOLATIONS_COUNT_CRITICAL open_violations_count_warning=$OPEN_VIOLATIONS_COUNT_WARNING owner=$EVENT_OWNER policy_name=$POLICY_NAME policy_url=$POLICY_URL runbook_url=$RUNBOOK_URL severity=$SEVERITY timestamp=$TIMESTAMP timestamp_utc_string=$TIMESTAMP_UTC_STRING violation_callback_url=$VIOLATION_CALLBACK_URL violation_chart_url=$VIOLATION_CHART_URL team=\"DevOps\" <--[example of custom variable] コピー テキスト形式出力 New Relic Alert Incident open: CPU > 50% for 5 minutes Policy: http://alerts.newrelic.com/accounts/1234/policies/5678 Chart URL: http://gorgon.nr-assets.net/image/12345678-abcd-efgh-ijkl-1234567890 For more details, see: http://alerts.newrelic.com/accounts/1234/incidents/3456 コピー その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 229.32655,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": " timestamp_utc_string=$TIMESTAMP_UTC_STRING violation_callback_url=$VIOLATION_CALLBACK_URL violation_chart_url=$VIOLATION_CHART_URL team=&quot;DevOps&quot; &lt;--[example of custom variable] コピー テキスト形式出力 <em>New</em> <em>Relic</em> <em>Alert</em> Incident open: CPU &gt; 50% for 5 minutes Policy: http:&#x2F;&#x2F;<em>alerts</em>.newrelic.com&#x2F;accounts&#x2F;1234&#x2F;<em>policies</em>"
      },
      "id": "6052686064441f02b95321a1"
    },
    {
      "sections": [
        "NRQLアラート条件を作成する",
        "ヒント",
        "NRQLアラートの構文",
        "重要",
        "NRQLアラート閾値の例",
        "データの特定セグメントでアラート",
        "データのN番目のパーセンタイルでアラート",
        "データの最大、最小、平均でアラート",
        "データのパーセンテージでアラート",
        "T値のApdex （Application Performance Index）でアラート",
        "ネスト構造の集計NRQLアラート",
        "現在、ネスト構造の一番内側で FACET のないクエリはサポートされていません。",
        "すべてのレベルのクエリの集計ウィンドウのサイズを同じにする必要があります。",
        "ネスト構造のクエリでは、信号喪失はまだサポートされていません",
        "NRQL条件作成のヒント",
        "アラートの閾値タイプ",
        "クエリ結果の合計（制限または間欠データ）",
        "信号喪失の閾値を設定",
        "高度な信号設定",
        "集計ウィンドウ",
        "評価オフセット",
        "データのギャップを埋める",
        "その他のヘルプ"
      ],
      "title": "NRQLアラート条件を作成する",
      "type": "docs-jp",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "Alert conditions"
      ],
      "external_id": "4157b2ee21a2ddedae95e63f9b563dcdff0a205f",
      "image": "https://docs.newrelic.com/static/eb8e1b2d826f9fd9cf46fe3dd5455217/c1b63/nr1_nrql_alert_conditions.png",
      "url": "https://docs.newrelic.com/jp/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/",
      "published_at": "2021-04-06T05:25:12Z",
      "updated_at": "2021-04-06T05:25:12Z",
      "document_type": "page",
      "popularity": 1,
      "body": "NRQLクエリを使用してアラート条件を作成できます。信号を定義した後、警告と危険閾値のレベルさらに定義できます。これでアラート違反を作成するタイミングが決定されます。 この操作の詳細については、以下をお読みください。 one.newrelic.com に移動し、Alerts & AIをクリックし、左側のサイドバーでPoliciesをクリックしてポリシーを選択し、Add a conditionを選択します。NRQL、Next, define thresholdsの順にクリックします。 ヒント NRQLアラート条件とストリーミングアラートに関連する主要な概念の詳細については、「ストリーミングアラート：主要な用語と概念」を参照してください。 NRQLアラート条件を作成する ポリシーについてNRQLアラート条件を作成するには： one.newrelic.com で、ヘッダーにあるAlerts ＆ AI（アラート ＆ AI）をクリックし、左側のサイドバーでPolicies（ポリシー）をクリックします。 既存のポリシーを選択するか、New alert policy（新規アラートポリシー）をクリックして新しいポリシーを作成します。 Add a conditionをクリックします。 条件を作成するときは、[ Select a product（製品の選択）]の下でNRQLをクリックしてから、[ Next, define thresholds（次に、閾値を定義）]をクリックします。 NRQLアラートの構文 すべてのNRQLアラート条件を作成するための基本的な構文は、以下のとおりです。FACET句は、外れ値の閾値タイプに必須であり、静的オプションであるため、ベースラインには許可されていません。 SELECT function(attribute) FROM Event WHERE attribute [comparison] [AND|OR ...] コピー 句 メモ SELECT function(attribute) 必須 サポートされている数字を返す関数には、以下が含まれます。 apdex average count latest max min percentage percentile sum uniqueCount ヒント 多くのファセットを含むファセットアラート条件にpercentile集計を使用すると、以下のエラーメッセージが表示される可能性があります。 An error occurred while fetching chart data. このエラーが表示された場合は、代わりにaverageを使用してください。 FROM data type 必須 ひとつのデータタイプのみをターゲットにすることが可能です。 サポートされるデータタイプ： Event Metric（RAWデータポイントが返されます） WHERE attribute [comparison] [AND|OR ...] 1つ以上の一連の条件を指定するには、WHERE句を使用します。すべての演算子がサポートされます。 FACET attribute 外れ値条件には必要ですが、ベースラインまたは静的ではありません オプションのFACET句をNRQL構文に含めるかどうかは、閾値タイプによって決まります。静的、ベースライン、または外れ値。 属性ごとに結果を区切り、各属性に個別のアラートを設定するには、FACET句を使います。LIMIT句は許可されていませんが、すべてのクエリは可能な限り最大数のファセットを受け取ります。ファセットクエリは、静的コンディションには最大5000の値を、 外れ値コンディションには最大500の値を返せます。 重要 クエリが最大数を上回る値を返した場合、アラート条件は作成できません。条件を作成した後、クエリがこの個数以上の値を返した場合、アラートは失敗します。返される値の数が少なくなるようにクエリを変更します。 NRQLアラート閾値の例 以下に示すのは、NRQLアラート条件の一般的なユースケースです。これらのクエリは、静的およびベースラインの閾値タイプで正常に動作します。外れ値の閾値タイプには、FACET句が追加で必要になります。 データの特定セグメントでアラート 重要な顧客や一定範囲のデータなど、データの特定セグメントをターゲットとする制約付きアラートを作成します。これらの条件を定義するにはWHERE句を使用してください。 SELECT average(duration) FROM Transaction WHERE account_id in (91290, 102021, 20230) コピー SELECT percentile(duration, 95) FROM Transaction WHERE name LIKE 'Controller/checkout/%' コピー データのN番目のパーセンタイルでアラート データのN番目のパーセンタイルが指定の閾値に達したときにアラートを作成します。例えば、SLAサービスレベルの管理など。当社は、NRQLクエリを1分間の時間枠で評価しているため、パーセンタイルは各分ごとに個別に算出されます。 SELECT percentile（duration, 95） FROM Transaction コピー SELECT percentile（databaseDuration, 75） FROM Transaction コピー データの最大、最小、平均でアラート データが最大、最小、平均に達したときにアラートを作成します。例えば、処理時間やレスポンスタイムが一定の閾値に達しないようにできます。 SELECT max（duration） FROM Transaction コピー SELECT average（duration） FROM Transaction コピー データのパーセンテージでアラート データの一部が特定の閾値を上回るとき、または下回るときにアラートを作成します。 SELECT percentage（count（*）, WHERE duration > 2） FROM Transaction コピー SELECT percentage（count（*）, WHERE httpResponseCode = '500'） FROM Transaction コピー T値のApdex （Application Performance Index）でアラート 特定のトランザクションに対して、T値を適用したApdexでアラートを作成します。例えば、本番アプリケーションに対して、トランザクションに500ミリ秒のT値を設定したApdexが0.8を下回ると、アラート通知を受信します。 SELECT apdex(duration, t:0.5) FROM Transaction WHERE appName like '%prod%' コピー ネスト構造の集計NRQLアラート ネスト構造の集計クエリは、データに対してクエリを実行する強力な方法です。ただし、注意すべき重要な制限がいくつかあります。 現在、ネスト構造の一番内側で FACET のないクエリはサポートされていません。 FACETがないと、内部クエリは単一の結果を生成するため、外部クエリには何も集計されません。ネスト構造のクエリを使用している場合は、内部クエリがファセットされていることを確認してください。 SELECT max(cpu) FROM (FROM Event SELECT min(cpuTime) as cpu) ​​​​​ コピー すべてのレベルのクエリの集計ウィンドウのサイズを同じにする必要があります。 1分間のアラート集計ウィンドウで、内部クエリはより小さな30秒のウィンドウを2つ生成します。理論上は、この2つのウィンドウは外部クエリによって集計されます。ただし、現在この機能はサポートされていません。 SELECT max(cpu) FROM (FROM Event SELECT min(cpuTime) as cpu TIMESERIES 30 seconds)​​ コピー ネスト構造のクエリでは、信号喪失はまだサポートされていません 信号喪失の詳細については、NerdGraph API：信号の喪失とギャップの充填を参照してください。 NRQL条件作成のヒント ここに、NRQL条件の作成と使用のヒントをいくつか示します。 トピック ヒント 条件閾値のタイプ NRQLの条件閾値タイプには 静的、ベースライン、外れ値が含まれます。 説明を作成する NRQL条件の場合、各違反に追加されるカスタムの説明を作成できます。これらの説明は、特定の違反に関連付けられたメタデータに基づく変数置換を強化します。 詳細については、説明をご覧ください。 クエリの結果 クエリは数値を返す必要があります。条件は、返された数値とお客様が設定した閾値を比較することで評価されます。 期間 すべてのアラート条件同様、NRQL条件は1回に1分の評価を行います。どの1分を評価するかを指定する暗黙的なSINCE ... UNTIL句は、評価オフセット設定により制御されています。直近のデータは不完全なことがあるため、特に次のような場合について、3分以上前のデータのクエリを行う場合があります。 複数のホスト上で動作するアプリケーション。 SyntheticCheckデータ：タイムアウトは3分かかる場合があるため、5分以上前のデータをクエリするとよいでしょう。 さらに、クエリによって生成されるデータが断続的な場合、sum of query resultsオプションの利用を検討してください。 信号喪失の閾値 （信号喪失検出） 信号損失検出を使用すると、データ（テレメトリ信号）が失われたと見なされる時点でアラートを出力できます。サービスまたはエンティティがオンラインではなくなったか、定期的なジョブの実行に失敗した可能性を示しています。エラーカウントなどの散発的なデータ違反が、信号を受信していないときに確実に終了するためにも使用できます。 ヒント 信号の喪失とアクセスを要求する方法の詳細については、この発表を参照してください。 高度な信号設定 この設定で、場合によってはない継続的なストリーミングデータシグナルの取り扱いを改善するオプションを使用できます。この設定には、集計ウィンドウと評価オフセット、データギャップを埋めるオプションが含まれます。これらの使用の詳細については、高度なシグナル設定をご覧ください。 条件設定 条件設定を使用することで： 簡潔で分かりやすい条件名を作成します。 違反と通知に含まれる条件について、カスタム違反の説明を記入します。 インシデント対応に関する自社の手順を含めるには、ランブックのURLを追加します。この情報をカスタム違反の説明に追加することもできます。 条件の制限 最大値を参照します。 稼働ステータス NRQLアラート条件は、エンティティの稼働ステータス表示には影響を与えません。 例 詳細については、以下をご覧ください。 想定されるNRQL構文 NRQL条件に関するクエリの例 アラートの閾値タイプ NRQLアラートを作成する際、異なる閾値タイプを選択することができます。 NRQLアラートの閾値タイプ 説明 静的 これは、最もシンプルなNRQL閾値のタイプです。数値を返すNRQLクエリに基づいた条件を作成できます。 オプション：FACET句を含める。 ベースライン （動的） 監視対象値の過去の動作に基づいた自己調整型の条件を使用します。FACET句を使用できない点を除いて、静的タイプと同じNRQLクエリ形式を使用します。 外れ値 グループの外れ値になるそのグループの動作と値を検索します。静的タイプと同じNRQLクエリ形式を使用しますが、FACET句が必要です。 クエリ結果の合計（制限または間欠データ） 重要 静的（基本）閾値タイプのみで使用できます。 クエリが間欠的、または限定的なデータを返す場合、有意義な閾値の設定が困難になる可能性があります。欠落したデータや限定的なデータがあると、誤検出または検出漏れを生じることがあります。これらの誤った通知を最小限に抑えるため、信号喪失、集計期間、およびギャップ充填設定を使用できます。 この問題を回避するために、静的閾値タイプを使用する際は、セレクタをクエリ結果の合計値に設定できます。こうすることで、単一の収集サイクルからの値の代わりに、集計された合計数に対してアラートを設定できるようになります。1分間のデータ確認は、最長で2時間まで集計できます。移動合計の幅は選択する期間で決まり、それに従ってプレビューチャートが更新されます。 信号喪失の閾値を設定 信号損失は、特定の期間にわたってNRQL条件に一致するデータがない場合に発生します。信号喪失の閾値期間と、閾値を超えたときに何が起こるかを設定できます。 one.newrelic.com に移動し、Alerts & AIをクリックし、左側のサイドバーでPoliciesをクリックしてポリシーを選択し、Add a conditionを選択します。信号喪失は、NRQL 条件でのみ使用できます。 これらの設定は、GraphQL API（推奨）またはREST APIを使用して管理することもできます。特定のGraph QL APIの例については、こちらをご覧ください。 信号喪失の設定： 信号喪失の設定には、継続時間と2つの可能なアクションが含まれます。 信号損失の有効期限 UI ラベル：次の期間が経過すると信号が喪失する： GraphQL ノード：expiration.expirationDuration 有効期限は、ストリーミング アラート パイプラインでデータポイントを受信すると開始およびリセットされるタイマーです。「有効期限」が切れる前に別のデータポイントを受信しないと、その信号は喪失したと見なされます。これは、New Relicにデータが送信されていないか、アラートパイプラインにストリーミングされる前にNRQLクエリのWHERE句によってデータが除外されている可能性があります。 閾値の有効期限に関係なく、タイマーが期限切れになるとすぐに信号喪失がトリガーされます。 最長の有効期限は48時間です。これは、頻度の低いジョブの実行をモニタリングするときに役立ちます。最小は30秒ですが、少なくとも3〜5分に設定することをお勧めします。 信号喪失アクション 信号が喪失したと見なされると、未解決の違反を閉じるか、新しい違反を開くか、またはその両方を行うことができます。 現在、未解決の違反をすべて終了します。これにより、特定の信号に関連する未解決の違反がすべて終了します。必ずしも、条件のすべての違反が終了するとは限りません。一時的なサービスまたは散発的な信号で警告している場合は、違反が適切に終了するように、このアクションを選択することをお勧めします。この場合、GraphQLノード名は \"closeViolationsOnExpiration \" です。 未解決の新しい違反：これにより、信号が喪失した見なされると、新しい違反が発生します。これらの違反は、信号の損失が原因であることを示します。インシデントプリファレンスに基づいて、通知がトリガーされます。この場合、graphQLノード名は、\"openViolationOnExpiration\" です。 両方のアクションを有効にすると、最初に未解決の違反がすべて終了します。次に、信号が喪失すると、新しい違反が発生します。 UIで信号喪失検出を使用して設定されたNRQLアラートを作成するには： ポリシーについて条件を作成するときは、Select a productの下でNRQLをクリックしてから、Next, define thresholdsをクリックします。 アラートする値を返すNRQLクエリを作成します。 閾値タイプには、静的またはベースラインを選択します。 [ +失われた信号の閾値を追加]をクリックし、[ 信号が失われた後]フィールドで信号の有効期限を分または秒で設定します。 信号が失われたときに実行する操作を選択してください。[ 現在未解決の違反をすべて閉じる]と[ 新しい信号喪失の違反を開く]の一方または両方を確認できます。これらのアクションによって、該当する状態に対して信号損失違反がどのように処理されるかを制御されます。 必ず、条件に名前を付けてから保存します。 ヒント 信号喪失検出は、ネスト型の集計またはサブクエリを使用するNRQLクエリでは機能しません。 高度な信号設定 NRQLアラート条件を作成すると、高度なシグナル設定により、ストリーミングアラートデータの管理が改善し、誤検出を防止できます。 NRQL条件を作成する際の高度なシグナル設定は次のとおりです： 集計ウィンドウ 評価オフセット データのギャップを埋める この設定の内容と、相互の関係の説明を読むには、ストリーミングアラートのコンセプトをご覧ください。設定方法の説明とヒントは次のとおりです。 集計ウィンドウ データが集計される前に、ストリーミング時間枠に蓄積されるデータの長さを選択する集計ウィンドウを設定できます。1秒から15分の間で設定できます。デフォルトは1分です。 ヒント ベースラインアラート条件閾値は、集計ウィンドウの編集をサポートしていません。デフォルトでは1分が使用されます。 評価オフセット 評価オフセットを調整して、データのレイテンシに合わせてストリーミングアルゴリズムを調整できます。データが到着するまでに時間がかかる場合は、評価オフセットを増やす必要があります。 サポートされているレイテンシの合計は、集計ウィンドウ期間と評価オフセットの積になります。上のスクリーンショットの例では、サポートされているレイテンシは3分です（1分の集計ウィンドウが3つ）。 データタイプがAPMの言語エージェントから供給されており、多数のアプリケーションインスタンス（例：Transactions、TransactionErrorsなど）から集計されている場合は、1分間の集計ウィンドウで3分の評価オフセットを使用することをお勧めします。 重要 AWS CloudwatchやAzureなどのInfrastructure クラウドインテグレーションから収集されたデータのNRQL条件を作成する場合、15分の評価オフセットから始めて、データの収集にかかる時間に応じて上下に調整することをお勧めします。 データのギャップを埋める ギャップの充填を使用すると、信号にデータがない場合に使用する値をカスタマイズできます。次の設定の1つを使用して、データストリームのギャップを埋めることができます： None（なし）：（デフォルト）空の集計ウィンドウでアクションを実行したくない場合は、これを選択します。評価時に、空の集計ウィンドウは閾値期間タイマーをリセットします。たとえば、すべての集計ウィンドウに5分間の閾値を超えるデータポイントが必要であり、5つの集計ウィンドウの1つが空であるという条件が設定されている場合、条件に違反することはありません。 カスタム静的値：評価する前に空の集計ウィンドウにカスタム静的値を挿入する場合は、これを選択します。このオプションには、（APIで指定されたとおり）使用する静的値を指定する追加の必須fillValueパラメーターがあります。この値はデフォルトで0になります。 Last known value（最後に既知の値）：このオプションは、評価が行われる前に最後に表示された値を挿入します。最後に表示された値の状態は2時間維持されます。 データギャップ設定を編集するオプション： NRQL条件UIで、条件設定 > 高度なシグナル設定 > データギャップを埋めるの順に移動し、オプションを選択します。 Nerdgraph API（推奨）を使用している場合、このノードは次の場所にあります：actor : account : alerts : nrqlCondition : signal : fillOption | fillValue NerdGraphは推奨APIですが、REST APIを使用している場合、この設定はアラートNRQL条件APIの\"シグナル\"セクションの下にあるREST APIエクスプローラーにあります。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 227.73724,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "sections": "T値のApdex （<em>Application</em> Performance Index）でアラート",
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": "、「ストリーミングアラート：主要な用語と概念」を参照してください。 NRQLアラート条件を作成する ポリシーについてNRQLアラート条件を作成するには： one.newrelic.com で、ヘッダーにある<em>Alerts</em> ＆ AI（アラート ＆ AI）をクリックし、左側のサイドバーで<em>Policies</em>（ポリシー）をクリックします。 既存のポリシーを選択するか、<em>New</em> <em>alert</em> policy（新規アラートポリシー）をクリックして新しいポリシーを作成します。 Add a conditionをクリックします。 条件を作成するときは、[ Select a product（製品の選択）]の下でNRQLをクリックしてから"
      },
      "id": "60526c7364441f31d2532173"
    }
  ],
  "/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/scope-alert-thresholds-specific-instances": [
    {
      "sections": [
        "NRQLアラート条件を作成する",
        "ヒント",
        "NRQLアラートの構文",
        "重要",
        "NRQLアラート閾値の例",
        "データの特定セグメントでアラート",
        "データのN番目のパーセンタイルでアラート",
        "データの最大、最小、平均でアラート",
        "データのパーセンテージでアラート",
        "T値のApdex （Application Performance Index）でアラート",
        "ネスト構造の集計NRQLアラート",
        "現在、ネスト構造の一番内側で FACET のないクエリはサポートされていません。",
        "すべてのレベルのクエリの集計ウィンドウのサイズを同じにする必要があります。",
        "ネスト構造のクエリでは、信号喪失はまだサポートされていません",
        "NRQL条件作成のヒント",
        "アラートの閾値タイプ",
        "クエリ結果の合計（制限または間欠データ）",
        "信号喪失の閾値を設定",
        "高度な信号設定",
        "集計ウィンドウ",
        "評価オフセット",
        "データのギャップを埋める",
        "その他のヘルプ"
      ],
      "title": "NRQLアラート条件を作成する",
      "type": "docs-jp",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "Alert conditions"
      ],
      "external_id": "4157b2ee21a2ddedae95e63f9b563dcdff0a205f",
      "image": "https://docs.newrelic.com/static/eb8e1b2d826f9fd9cf46fe3dd5455217/c1b63/nr1_nrql_alert_conditions.png",
      "url": "https://docs.newrelic.com/jp/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/",
      "published_at": "2021-04-06T05:25:12Z",
      "updated_at": "2021-04-06T05:25:12Z",
      "document_type": "page",
      "popularity": 1,
      "body": "NRQLクエリを使用してアラート条件を作成できます。信号を定義した後、警告と危険閾値のレベルさらに定義できます。これでアラート違反を作成するタイミングが決定されます。 この操作の詳細については、以下をお読みください。 one.newrelic.com に移動し、Alerts & AIをクリックし、左側のサイドバーでPoliciesをクリックしてポリシーを選択し、Add a conditionを選択します。NRQL、Next, define thresholdsの順にクリックします。 ヒント NRQLアラート条件とストリーミングアラートに関連する主要な概念の詳細については、「ストリーミングアラート：主要な用語と概念」を参照してください。 NRQLアラート条件を作成する ポリシーについてNRQLアラート条件を作成するには： one.newrelic.com で、ヘッダーにあるAlerts ＆ AI（アラート ＆ AI）をクリックし、左側のサイドバーでPolicies（ポリシー）をクリックします。 既存のポリシーを選択するか、New alert policy（新規アラートポリシー）をクリックして新しいポリシーを作成します。 Add a conditionをクリックします。 条件を作成するときは、[ Select a product（製品の選択）]の下でNRQLをクリックしてから、[ Next, define thresholds（次に、閾値を定義）]をクリックします。 NRQLアラートの構文 すべてのNRQLアラート条件を作成するための基本的な構文は、以下のとおりです。FACET句は、外れ値の閾値タイプに必須であり、静的オプションであるため、ベースラインには許可されていません。 SELECT function(attribute) FROM Event WHERE attribute [comparison] [AND|OR ...] コピー 句 メモ SELECT function(attribute) 必須 サポートされている数字を返す関数には、以下が含まれます。 apdex average count latest max min percentage percentile sum uniqueCount ヒント 多くのファセットを含むファセットアラート条件にpercentile集計を使用すると、以下のエラーメッセージが表示される可能性があります。 An error occurred while fetching chart data. このエラーが表示された場合は、代わりにaverageを使用してください。 FROM data type 必須 ひとつのデータタイプのみをターゲットにすることが可能です。 サポートされるデータタイプ： Event Metric（RAWデータポイントが返されます） WHERE attribute [comparison] [AND|OR ...] 1つ以上の一連の条件を指定するには、WHERE句を使用します。すべての演算子がサポートされます。 FACET attribute 外れ値条件には必要ですが、ベースラインまたは静的ではありません オプションのFACET句をNRQL構文に含めるかどうかは、閾値タイプによって決まります。静的、ベースライン、または外れ値。 属性ごとに結果を区切り、各属性に個別のアラートを設定するには、FACET句を使います。LIMIT句は許可されていませんが、すべてのクエリは可能な限り最大数のファセットを受け取ります。ファセットクエリは、静的コンディションには最大5000の値を、 外れ値コンディションには最大500の値を返せます。 重要 クエリが最大数を上回る値を返した場合、アラート条件は作成できません。条件を作成した後、クエリがこの個数以上の値を返した場合、アラートは失敗します。返される値の数が少なくなるようにクエリを変更します。 NRQLアラート閾値の例 以下に示すのは、NRQLアラート条件の一般的なユースケースです。これらのクエリは、静的およびベースラインの閾値タイプで正常に動作します。外れ値の閾値タイプには、FACET句が追加で必要になります。 データの特定セグメントでアラート 重要な顧客や一定範囲のデータなど、データの特定セグメントをターゲットとする制約付きアラートを作成します。これらの条件を定義するにはWHERE句を使用してください。 SELECT average(duration) FROM Transaction WHERE account_id in (91290, 102021, 20230) コピー SELECT percentile(duration, 95) FROM Transaction WHERE name LIKE 'Controller/checkout/%' コピー データのN番目のパーセンタイルでアラート データのN番目のパーセンタイルが指定の閾値に達したときにアラートを作成します。例えば、SLAサービスレベルの管理など。当社は、NRQLクエリを1分間の時間枠で評価しているため、パーセンタイルは各分ごとに個別に算出されます。 SELECT percentile（duration, 95） FROM Transaction コピー SELECT percentile（databaseDuration, 75） FROM Transaction コピー データの最大、最小、平均でアラート データが最大、最小、平均に達したときにアラートを作成します。例えば、処理時間やレスポンスタイムが一定の閾値に達しないようにできます。 SELECT max（duration） FROM Transaction コピー SELECT average（duration） FROM Transaction コピー データのパーセンテージでアラート データの一部が特定の閾値を上回るとき、または下回るときにアラートを作成します。 SELECT percentage（count（*）, WHERE duration > 2） FROM Transaction コピー SELECT percentage（count（*）, WHERE httpResponseCode = '500'） FROM Transaction コピー T値のApdex （Application Performance Index）でアラート 特定のトランザクションに対して、T値を適用したApdexでアラートを作成します。例えば、本番アプリケーションに対して、トランザクションに500ミリ秒のT値を設定したApdexが0.8を下回ると、アラート通知を受信します。 SELECT apdex(duration, t:0.5) FROM Transaction WHERE appName like '%prod%' コピー ネスト構造の集計NRQLアラート ネスト構造の集計クエリは、データに対してクエリを実行する強力な方法です。ただし、注意すべき重要な制限がいくつかあります。 現在、ネスト構造の一番内側で FACET のないクエリはサポートされていません。 FACETがないと、内部クエリは単一の結果を生成するため、外部クエリには何も集計されません。ネスト構造のクエリを使用している場合は、内部クエリがファセットされていることを確認してください。 SELECT max(cpu) FROM (FROM Event SELECT min(cpuTime) as cpu) ​​​​​ コピー すべてのレベルのクエリの集計ウィンドウのサイズを同じにする必要があります。 1分間のアラート集計ウィンドウで、内部クエリはより小さな30秒のウィンドウを2つ生成します。理論上は、この2つのウィンドウは外部クエリによって集計されます。ただし、現在この機能はサポートされていません。 SELECT max(cpu) FROM (FROM Event SELECT min(cpuTime) as cpu TIMESERIES 30 seconds)​​ コピー ネスト構造のクエリでは、信号喪失はまだサポートされていません 信号喪失の詳細については、NerdGraph API：信号の喪失とギャップの充填を参照してください。 NRQL条件作成のヒント ここに、NRQL条件の作成と使用のヒントをいくつか示します。 トピック ヒント 条件閾値のタイプ NRQLの条件閾値タイプには 静的、ベースライン、外れ値が含まれます。 説明を作成する NRQL条件の場合、各違反に追加されるカスタムの説明を作成できます。これらの説明は、特定の違反に関連付けられたメタデータに基づく変数置換を強化します。 詳細については、説明をご覧ください。 クエリの結果 クエリは数値を返す必要があります。条件は、返された数値とお客様が設定した閾値を比較することで評価されます。 期間 すべてのアラート条件同様、NRQL条件は1回に1分の評価を行います。どの1分を評価するかを指定する暗黙的なSINCE ... UNTIL句は、評価オフセット設定により制御されています。直近のデータは不完全なことがあるため、特に次のような場合について、3分以上前のデータのクエリを行う場合があります。 複数のホスト上で動作するアプリケーション。 SyntheticCheckデータ：タイムアウトは3分かかる場合があるため、5分以上前のデータをクエリするとよいでしょう。 さらに、クエリによって生成されるデータが断続的な場合、sum of query resultsオプションの利用を検討してください。 信号喪失の閾値 （信号喪失検出） 信号損失検出を使用すると、データ（テレメトリ信号）が失われたと見なされる時点でアラートを出力できます。サービスまたはエンティティがオンラインではなくなったか、定期的なジョブの実行に失敗した可能性を示しています。エラーカウントなどの散発的なデータ違反が、信号を受信していないときに確実に終了するためにも使用できます。 ヒント 信号の喪失とアクセスを要求する方法の詳細については、この発表を参照してください。 高度な信号設定 この設定で、場合によってはない継続的なストリーミングデータシグナルの取り扱いを改善するオプションを使用できます。この設定には、集計ウィンドウと評価オフセット、データギャップを埋めるオプションが含まれます。これらの使用の詳細については、高度なシグナル設定をご覧ください。 条件設定 条件設定を使用することで： 簡潔で分かりやすい条件名を作成します。 違反と通知に含まれる条件について、カスタム違反の説明を記入します。 インシデント対応に関する自社の手順を含めるには、ランブックのURLを追加します。この情報をカスタム違反の説明に追加することもできます。 条件の制限 最大値を参照します。 稼働ステータス NRQLアラート条件は、エンティティの稼働ステータス表示には影響を与えません。 例 詳細については、以下をご覧ください。 想定されるNRQL構文 NRQL条件に関するクエリの例 アラートの閾値タイプ NRQLアラートを作成する際、異なる閾値タイプを選択することができます。 NRQLアラートの閾値タイプ 説明 静的 これは、最もシンプルなNRQL閾値のタイプです。数値を返すNRQLクエリに基づいた条件を作成できます。 オプション：FACET句を含める。 ベースライン （動的） 監視対象値の過去の動作に基づいた自己調整型の条件を使用します。FACET句を使用できない点を除いて、静的タイプと同じNRQLクエリ形式を使用します。 外れ値 グループの外れ値になるそのグループの動作と値を検索します。静的タイプと同じNRQLクエリ形式を使用しますが、FACET句が必要です。 クエリ結果の合計（制限または間欠データ） 重要 静的（基本）閾値タイプのみで使用できます。 クエリが間欠的、または限定的なデータを返す場合、有意義な閾値の設定が困難になる可能性があります。欠落したデータや限定的なデータがあると、誤検出または検出漏れを生じることがあります。これらの誤った通知を最小限に抑えるため、信号喪失、集計期間、およびギャップ充填設定を使用できます。 この問題を回避するために、静的閾値タイプを使用する際は、セレクタをクエリ結果の合計値に設定できます。こうすることで、単一の収集サイクルからの値の代わりに、集計された合計数に対してアラートを設定できるようになります。1分間のデータ確認は、最長で2時間まで集計できます。移動合計の幅は選択する期間で決まり、それに従ってプレビューチャートが更新されます。 信号喪失の閾値を設定 信号損失は、特定の期間にわたってNRQL条件に一致するデータがない場合に発生します。信号喪失の閾値期間と、閾値を超えたときに何が起こるかを設定できます。 one.newrelic.com に移動し、Alerts & AIをクリックし、左側のサイドバーでPoliciesをクリックしてポリシーを選択し、Add a conditionを選択します。信号喪失は、NRQL 条件でのみ使用できます。 これらの設定は、GraphQL API（推奨）またはREST APIを使用して管理することもできます。特定のGraph QL APIの例については、こちらをご覧ください。 信号喪失の設定： 信号喪失の設定には、継続時間と2つの可能なアクションが含まれます。 信号損失の有効期限 UI ラベル：次の期間が経過すると信号が喪失する： GraphQL ノード：expiration.expirationDuration 有効期限は、ストリーミング アラート パイプラインでデータポイントを受信すると開始およびリセットされるタイマーです。「有効期限」が切れる前に別のデータポイントを受信しないと、その信号は喪失したと見なされます。これは、New Relicにデータが送信されていないか、アラートパイプラインにストリーミングされる前にNRQLクエリのWHERE句によってデータが除外されている可能性があります。 閾値の有効期限に関係なく、タイマーが期限切れになるとすぐに信号喪失がトリガーされます。 最長の有効期限は48時間です。これは、頻度の低いジョブの実行をモニタリングするときに役立ちます。最小は30秒ですが、少なくとも3〜5分に設定することをお勧めします。 信号喪失アクション 信号が喪失したと見なされると、未解決の違反を閉じるか、新しい違反を開くか、またはその両方を行うことができます。 現在、未解決の違反をすべて終了します。これにより、特定の信号に関連する未解決の違反がすべて終了します。必ずしも、条件のすべての違反が終了するとは限りません。一時的なサービスまたは散発的な信号で警告している場合は、違反が適切に終了するように、このアクションを選択することをお勧めします。この場合、GraphQLノード名は \"closeViolationsOnExpiration \" です。 未解決の新しい違反：これにより、信号が喪失した見なされると、新しい違反が発生します。これらの違反は、信号の損失が原因であることを示します。インシデントプリファレンスに基づいて、通知がトリガーされます。この場合、graphQLノード名は、\"openViolationOnExpiration\" です。 両方のアクションを有効にすると、最初に未解決の違反がすべて終了します。次に、信号が喪失すると、新しい違反が発生します。 UIで信号喪失検出を使用して設定されたNRQLアラートを作成するには： ポリシーについて条件を作成するときは、Select a productの下でNRQLをクリックしてから、Next, define thresholdsをクリックします。 アラートする値を返すNRQLクエリを作成します。 閾値タイプには、静的またはベースラインを選択します。 [ +失われた信号の閾値を追加]をクリックし、[ 信号が失われた後]フィールドで信号の有効期限を分または秒で設定します。 信号が失われたときに実行する操作を選択してください。[ 現在未解決の違反をすべて閉じる]と[ 新しい信号喪失の違反を開く]の一方または両方を確認できます。これらのアクションによって、該当する状態に対して信号損失違反がどのように処理されるかを制御されます。 必ず、条件に名前を付けてから保存します。 ヒント 信号喪失検出は、ネスト型の集計またはサブクエリを使用するNRQLクエリでは機能しません。 高度な信号設定 NRQLアラート条件を作成すると、高度なシグナル設定により、ストリーミングアラートデータの管理が改善し、誤検出を防止できます。 NRQL条件を作成する際の高度なシグナル設定は次のとおりです： 集計ウィンドウ 評価オフセット データのギャップを埋める この設定の内容と、相互の関係の説明を読むには、ストリーミングアラートのコンセプトをご覧ください。設定方法の説明とヒントは次のとおりです。 集計ウィンドウ データが集計される前に、ストリーミング時間枠に蓄積されるデータの長さを選択する集計ウィンドウを設定できます。1秒から15分の間で設定できます。デフォルトは1分です。 ヒント ベースラインアラート条件閾値は、集計ウィンドウの編集をサポートしていません。デフォルトでは1分が使用されます。 評価オフセット 評価オフセットを調整して、データのレイテンシに合わせてストリーミングアルゴリズムを調整できます。データが到着するまでに時間がかかる場合は、評価オフセットを増やす必要があります。 サポートされているレイテンシの合計は、集計ウィンドウ期間と評価オフセットの積になります。上のスクリーンショットの例では、サポートされているレイテンシは3分です（1分の集計ウィンドウが3つ）。 データタイプがAPMの言語エージェントから供給されており、多数のアプリケーションインスタンス（例：Transactions、TransactionErrorsなど）から集計されている場合は、1分間の集計ウィンドウで3分の評価オフセットを使用することをお勧めします。 重要 AWS CloudwatchやAzureなどのInfrastructure クラウドインテグレーションから収集されたデータのNRQL条件を作成する場合、15分の評価オフセットから始めて、データの収集にかかる時間に応じて上下に調整することをお勧めします。 データのギャップを埋める ギャップの充填を使用すると、信号にデータがない場合に使用する値をカスタマイズできます。次の設定の1つを使用して、データストリームのギャップを埋めることができます： None（なし）：（デフォルト）空の集計ウィンドウでアクションを実行したくない場合は、これを選択します。評価時に、空の集計ウィンドウは閾値期間タイマーをリセットします。たとえば、すべての集計ウィンドウに5分間の閾値を超えるデータポイントが必要であり、5つの集計ウィンドウの1つが空であるという条件が設定されている場合、条件に違反することはありません。 カスタム静的値：評価する前に空の集計ウィンドウにカスタム静的値を挿入する場合は、これを選択します。このオプションには、（APIで指定されたとおり）使用する静的値を指定する追加の必須fillValueパラメーターがあります。この値はデフォルトで0になります。 Last known value（最後に既知の値）：このオプションは、評価が行われる前に最後に表示された値を挿入します。最後に表示された値の状態は2時間維持されます。 データギャップ設定を編集するオプション： NRQL条件UIで、条件設定 > 高度なシグナル設定 > データギャップを埋めるの順に移動し、オプションを選択します。 Nerdgraph API（推奨）を使用している場合、このノードは次の場所にあります：actor : account : alerts : nrqlCondition : signal : fillOption | fillValue NerdGraphは推奨APIですが、REST APIを使用している場合、この設定はアラートNRQL条件APIの\"シグナル\"セクションの下にあるREST APIエクスプローラーにあります。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 334.06726,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "sections": "T値のApdex （<em>Application</em> Performance Index）でアラート",
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": "、「ストリーミングアラート：主要な用語と概念」を参照してください。 NRQLアラート条件を作成する ポリシーについてNRQLアラート条件を作成するには： one.newrelic.com で、ヘッダーにある<em>Alerts</em> ＆ AI（アラート ＆ AI）をクリックし、左側のサイドバーでPolicies（ポリシー）をクリックします。 既存のポリシーを選択するか、<em>New</em> <em>alert</em> policy（新規アラートポリシー）をクリックして新しいポリシーを作成します。 Add a conditionをクリックします。 条件を作成するときは、[ Select a product（製品の選択）]の下でNRQLをクリックしてから"
      },
      "id": "60526c7364441f31d2532173"
    },
    {
      "sections": [
        "Create NRQL alert conditions",
        "Tip",
        "Create a NRQL alert condition",
        "NRQL alert syntax",
        "Important",
        "Reformatting incompatible NRQL",
        "NRQL alert threshold examples",
        "Alert on specific segments of your data",
        "Alert on Nth percentile of your data",
        "Alert on max, min, avg of your data",
        "Alert on a percentage of your data",
        "Alert on Apdex with any T-value",
        "Alert conditions and query order of operations",
        "Example: null value returned",
        "Example: zero value returned",
        "Nested aggregation NRQL alerts",
        "Nested queries with a non-faceted innermost query are not currently supported",
        "Queries at all levels must have the same aggregation window size",
        "Signal loss is not yet supported for nested queries",
        "NRQL condition creation tips",
        "Alert threshold types",
        "Sum of query results (limited or intermittent data)",
        "Set the loss of signal threshold",
        "Advanced signal settings",
        "Aggregation window",
        "Evaluation offset",
        "Fill data gaps"
      ],
      "title": "Create NRQL alert conditions",
      "type": "docs",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "Alert conditions"
      ],
      "external_id": "2872f770a5fc8a802f99b9f848906f7e351ad761",
      "image": "https://docs.newrelic.com/static/eb8e1b2d826f9fd9cf46fe3dd5455217/c1b63/nr1_nrql_alert_conditions.png",
      "url": "https://docs.newrelic.com/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/",
      "published_at": "2021-04-06T05:25:12Z",
      "updated_at": "2021-04-06T05:25:12Z",
      "document_type": "page",
      "popularity": 1,
      "body": "You can use NRQL queries to create alert conditions. Once you've defined your signal, you can further define your warning and critical threshold levels. This determines when an alerts violation is created. Read on to learn more about how to do this. Go to one.newrelic.com, click Alerts & AI, in the left sidebar click Policies, select a policy, then Add a condition. Click NRQL, and then Next, define thresholds. Tip For more information on key concepts relating to NRQL alert conditions and streaming alerts, see Streaming alerts: key terms and concepts. Create a NRQL alert condition To create a NRQL alert condition for a policy: On one.newrelic.com, in the header click Alerts & AI, then in the left sidebar click Policies. Select an existing policy or click New alert policy to create a new policy. Click Add a condition. Under Select a product click NRQL, and then click Next, define thresholds. NRQL alert syntax Here's the basic syntax for creating all NRQL alert conditions. The FACET clause is required for Outlier threshold types, optional for Static, and not allowed for Baseline. SELECT function(attribute) FROM Event WHERE attribute [comparison] [AND|OR ...] Copy Clause Notes SELECT function(attribute) Required Supported functions that return numbers include: apdex average count latest max min percentage percentile sum uniqueCount Tip If you use the percentile aggregator in a faceted alert condition with many facets, this may cause the following error to appear: An error occurred while fetching chart data. If you see this error, use average instead. FROM data type Required Only one data type can be targeted. Supported data types: Event Metric (RAW data points will be returned) WHERE attribute [comparison] [AND|OR ...] Use the WHERE clause to specify a series of one or more conditions. All the operators are supported. FACET attribute Required for outlier conditions, but not baseline or static Include an optional FACET clause in your NRQL syntax depending on the threshold type: static, baseline, or outlier. Use the FACET clause to separate your results by attribute and alert on each attribute independently. No LIMIT clause is allowed, but all queries will receive the maximum number of facets possible. Faceted queries can return a maximum of 5000 values for static conditions and a maximum of 500 values for outlier conditions. Important If the query returns more than the maximum number of values, the alert condition can't be created. If you create the condition and the query returns more than this number later, the alert will fail. Modify your query so that it returns a fewer number of values. Reformatting incompatible NRQL Some elements of NRQL used in charts don’t make sense in the streaming context of alerts. Here’s a list of the most common incompatible elements and suggestions for reformatting a NRQL alert query to achieve the same effect. Element Notes SINCE and UNTIL Example: SELECT percentile(largestContentfulPaint, 75) FROM PageViewTiming WHERE (appId = 837807) SINCE yesterday Copy NRQL Alerting produces a never-ending stream of windowed query results, so the SINCE and UNTIL keywords to scope the query to a point in time are not compatible. As a convenience, we automatically strip SINCE and UNTIL from a query when creating a NRQL Alert Condition from the context of a chart. TIMESERIES In NRQL queries, the TIMESERIES clause is used to return data as a time series broken out by a specified period of time. For NRQL alerts, the equivalent property of a signal is the aggregation window. histogram() The histogram() aggregation function is used to generate histograms. histogram() is not compatible with NRQL alerting: histogram aggregations can not be formatted as a time series. To create an alert from a portion of a histogram (e.g. 95th percentile), use the percentile() aggregation function. Multiple Aggregation Functions Each alert condition can only target a single aggregated stream of data. To alert on multiple streams simultaneously, you’ll need to decompose them into individual conditions within the same policy. Original Query: SELECT count(foo), average(bar), max(baz) from Transaction Copy Decomposed: SELECT count(foo) from Transaction SELECT average(bar) from Transaction SELECT max(baz) from Transaction Copy COMPARE WITH The COMPARE WITH clause is used to compare the values for two different time ranges. This type of query is incompatible with NRQL alerting. We recommend using a Baseline Alert Condition to dynamically detect deviations for a particular signal. SLIDE BY The SLIDE BY clause supports a feature known as sliding windows. With sliding windows, SLIDE BY data is gathered into \"windows\" of time that overlap with each other. These windows can help to smooth out line graphs with a lot of variation in cases where the rolling aggregate (such as a rolling mean) is more important than aggregates from narrow windows of time. Sliding windows are not currently supported in NRQL alerts. LIMIT In NRQL queries, the LIMIT clause is used to control the amount of data a query returns, either the maximum number of facet values returned by FACET queries or the maximum number of items returned by SELECT * queries. LIMIT is not compatible with NRQL alerting: evaluation is always performed on the full result set. NRQL alert threshold examples Here are some common use cases for NRQL alert conditions. These queries will work for static and baseline threshold types. The outlier threshold type will require additional FACET clauses. Alert on specific segments of your data Create constrained alerts that target a specific segment of your data, such as a few key customers or a range of data. Use the WHERE clause to define those conditions. SELECT average(duration) FROM Transaction WHERE account_id in (91290, 102021, 20230) Copy SELECT percentile(duration, 95) FROM Transaction WHERE name LIKE 'Controller/checkout/%' Copy Alert on Nth percentile of your data Create alerts when an Nth percentile of your data hits a specified threshold; for example, maintaining SLA service levels. Since we evaluate the NRQL query in one-minute time windows, percentiles will be calculated for each minute separately. SELECT percentile(duration, 95) FROM Transaction Copy SELECT percentile(databaseDuration, 75) FROM Transaction Copy Alert on max, min, avg of your data Create alerts when your data hits a certain maximum, minimum, or average; for example, ensuring that a duration or response time does not pass a certain threshold. SELECT max(duration) FROM Transaction Copy SELECT average(duration) FROM Transaction Copy Alert on a percentage of your data Create alerts when a proportion of your data goes above or below a certain threshold. SELECT percentage(count(*), WHERE duration > 2) FROM Transaction Copy SELECT percentage(count(*), WHERE httpResponseCode = '500') FROM Transaction Copy Alert on Apdex with any T-value Create alerts on Apdex, applying your own T-value for certain transactions. For example, get an alert notification when your Apdex for a T-value of 500ms on transactions for production apps goes below 0.8. SELECT apdex(duration, t:0.5) FROM Transaction WHERE appName like '%prod%' Copy Alert conditions and query order of operations By default, the aggregation window is 1 minute, but you can change the window to suit your needs. Whatever the aggregation window, New Relic will collect data for that window using the function in the NRQL alert condition’s query. The query is parsed and executed by our systems in the following order: FROM clause – which event type needs to be grabbed? WHERE clause – what can be filtered out? SELECT clause – what information needs to be returned from the now-filtered data set? Example: null value returned Let's say this is your alert condition query: SELECT count(*) FROM SyntheticCheck WHERE monitorName = 'My Cool Monitor' AND result = 'FAILURE' Copy If there are no failures for the aggregation window: The system will execute the FROM clause by grabbing all SyntheticCheck events on your account. Then it will execute the WHERE clause to filter through those events by looking only for the ones that match the monitor name and result specified. If there are still events left to scan through after completing the FROM and WHERE operations, the SELECT clause will be executed. If there are no remainig events, the SELECT clause will not be executed. This means that aggregators like count() and uniqueCount() will never return a zero value. When there is a count of 0, the SELECT clause is ignored and no data is returned, resulting in a value of NULL. Example: zero value returned If you have a data source delivering legitimate numeric zeroes, the query will return zero values and not null values. Let's say this is your alert condition query, and that MyCoolEvent is an attribute that can sometimes return a zero value. SELECT average(MyCoolAttribute) FROM MyCoolEvent Copy If, in the aggregation window being evaluated, there's at least one instance of MyCoolEvent and if the average value of all MyCoolAttribute attributes from that window is equal to zero, then a 0 value will be returned. If there are no MyCoolEvent events during that minute, then a NULL will be returned due to the order of operations. Tip For more information about this topic, you can check out our blog post on troubleshooting for zero versus null values. Tip You can determine how null values will be handled by adjusting loss of signal and gap filling settings in the Alert Conditions UI. Nested aggregation NRQL alerts Nested aggregation queries are a powerful way to query your data. However, they have a few restrictions that are important to note. Nested queries with a non-faceted innermost query are not currently supported Without a FACET, the inner query produces a single result, giving the outer query nothing to aggregate. If you're using a nested query, make sure your inner query is faceted. SELECT max(cpu) FROM (FROM Event SELECT min(cpuTime) as cpu) ​​​​​ Copy Queries at all levels must have the same aggregation window size With an alert aggregation window of 1 minute, the inner query would produce two smaller windows of 30 seconds. In theory, these two windows could be aggregated by the outer query. However, this is not currently supported. SELECT max(cpu) FROM (FROM Event SELECT min(cpuTime) as cpu TIMESERIES 30 seconds)​​ Copy Signal loss is not yet supported for nested queries For more information on signal loss, see NerdGraph API: Loss of signal and gap filling. NRQL condition creation tips Here are some tips for creating and using a NRQL condition: Topic Tips Condition threshold types NRQL condition threshold types include static, baseline, and outlier. Create a description For NRQL conditions, you can create a custom description to add to each violation. Descriptions can be enhanced with variable substitution based on metadata in the specific violation. For details, see Description Query results Queries must return a number. The condition evaluates the returned number against the thresholds you've set. Time period As with all alert conditions, NRQL conditions evaluate one single minute at a time. The implicit SINCE ... UNTIL clause specifying which minute to evaluate is controlled by your Evaluation offset setting. Since very recent data may be incomplete, you may want to query data from 3 minutes ago or longer, especially for: Applications that run on multiple hosts. SyntheticCheck data: Timeouts can take 3 minutes, so 5 minutes or more is recommended. Also, if a query will generate intermittent data, consider using the sum of query results option. Lost signal threshold (loss of signal detection) You can use loss of signal detection to alert on when your data (a telemetry signal) should be considered lost. A signal loss can indicate that a service or entity is no longer online or that a periodic job failed to run. You can also use this to make sure that violations for sporadic data, such as error counts, are closed when no signal is coming in. Tip To learn more about signal loss and how to request access to it, see this announcement. Advanced signal settings These settings give you options for better handling continuous, streaming data signals that may sometimes be missing. These settings include the aggregation window, the evaluation offset, and an option for filling data gaps. For more on using these, see Advanced signal settings. Condition settings Use the Condition settings to: Create a concise, descriptive condition name. Provide a custom violation description for the condition that will be included in violations and notifications. Add the runbook URL to include your organization's procedures for handling incidents. You may also add this information to the custom violation description. Limits on conditions See the maximum values. Health status NRQL alert conditions don't affect an entity's health status display. Examples For more information, see: Expected NRQL syntax Examples of NRQL condition queries Alert threshold types When you create a NRQL alert, you can choose from different types of thresholds: NRQL alert threshold types Description Static This is the simplest type of NRQL threshold. It allows you to create a condition based on a NRQL query that returns a numeric value. Optional: Include a FACET clause. Baseline (Dynamic) Uses a self-adjusting condition based on the past behavior of the monitored values. Uses the same NRQL query form as the static type, except you can't use a FACET clause. Outlier Looks for group behavior and values that are outliers from those groups. Uses the same NRQL query form as the static type, but requires a FACET clause. Sum of query results (limited or intermittent data) Important Available only for static (basic) threshold types. If a query returns intermittent or limited data, it may be difficult to set a meaningful threshold. Missing or limited data will sometimes generate false positives or false negatives. You can use loss of signal, aggregation duration, and gap filling settings to minimize these false notifications. To avoid this problem when using the static threshold type, you can set the selector to sum of query results. This lets you set the alert on an aggregated sum instead of a value from a single harvest cycle. Up to two hours of one-minute data checks can be aggregated. The duration you select determines the width of the rolling sum and the preview chart will update accordingly. Set the loss of signal threshold Loss of signal occurs when no data matches the NRQL condition over a specific period of time. You can set your loss of signal threshold duration and and also what happens when the threshold is crossed. Go to one.newrelic.com, click Alerts & AI, in the left sidebar click Policies, select a policy, then Add a condition. Loss of signal is only available for NRQL conditions. You may also manage these settings using the GraphQL API (recommended), or the REST API. Go here for specific GraphQL API examples. Loss of signal settings: Loss of signal settings include a time duration and two possible actions. Signal loss expiration time UI label: Signal is lost after: GraphQL Node: expiration.expirationDuration Expiration duration is a timer that starts and resets when we receive a data point in the streaming alerts pipeline. If we don't receive another data point before your 'expiration time' expires, we consider that signal to be lost. This can be because no data is being sent to New Relic or the WHERE clause of your NRQL query is filtering that data out before it is streamed to the alerts pipeline. The loss of signal expiration time is independent of the threshold duration and triggers as soon as the timer expires. The maximum expiration duration is 48 hours. This is helpful when monitoring for the execution of infrequent jobs. The minimum is 30 seconds, but we recommend using at least 3-5 minutes. Loss of signal actions Once a signal is considered lost, you can close open violations, open new violations, or both. Close all current open violations: This closes all open violations that are related to a specific signal. It won't necessarily close all violations for a condition. If you're alerting on an ephemeral service, or on a sporadic signal, you'll want to choose this action to ensure that violations are closed properly. The GraphQL node name for this is \"closeViolationsOnExpiration\" Open new violations: This will open a new violation when the signal is considered lost. These violations will indicate that they are due to a loss of signal. Based on your incident preferences, this should trigger a notification. The graphQL node name for this is \"openViolationOnExpiration\" When you enable both actions, we'll close all open violations first, and then open a new violation for loss of signal. To create a NRQL alert configured with loss of signal detection in the UI: For a policy, when you create a condition, under Select a product, click NRQL, then click Next, define thresholds. Write a NRQL query that returns the values you want to alert on. For Threshold type, select Static or Baseline. Click + Add lost signal threshold, then set the signal expiration duration time in minutes or seconds in the Signal is lost after field. Choose what you want to happen when the signal is lost. You can check one or both of Close all current open violations and Open new \"lost signal\" violation . These control how loss of signal violations will be handled for the condition. Make sure you name your condition before you save it. Tip Loss of signal detection doesn't work on NRQL queries that use nested aggregation or sub-queries. Advanced signal settings When creating a NRQL alert condition, the advanced signal settings gives you better control over streaming alert data and helps you avoid false alarms. When creating a NRQL condition, there are several advanced signal settings: Aggregation window Evaluation offset Fill data gaps To read an explanation of what these settings are and how they relate to each other, see Streaming alerts concepts. Below are instructions and tips on how to configure them. Aggregation window You can set the aggregation window duration to choose how long data is accumulated in a streaming time window before it's aggregated. You can set it to anything between one second and 15 minutes. The default is one minute. Tip Baseline alert condition thresholds don't support editing the aggregation window. They use the 1 minute default. Evaluation offset You can adjust the evaluation offset to coordinate our streaming alerting algorithm with your data's latency. If it takes a while for your data to arrive, then you may need to increase the evaluation offset. The total supported latency is the product of the aggregation window duration multiplied by the evaluation offset. In the example screenshot above, the supported latency is 3 minutes (a 1-minute aggregation window multiplied by three windows). If the data type comes from an APM language agent and is aggregated from many app instances (for example, Transactions, TransactionErrors, etc.), we recommend using an evaluation offset of 3 with 1 minute aggregation windows. Important When creating NRQL conditions for data collected from Infrastructure Cloud Integrations such as AWS Cloudwatch or Azure, we recommend that you start with an evaluation offset of 15 minutes, then adjust up or down depending on how long it takes to collect your data. Fill data gaps Gap filling lets you customize the values to use when your signals don't have any data. You can fill gaps in your data streams with one of these settings: None: (Default) Choose this if you don't want to take any action on empty aggregation windows. On evaluation, an empty aggregation window will reset the threshold duration timer. For example, if a condition says that all aggregation windows must have data points above the threshold for 5 minutes, and 1 of the 5 aggregation windows is empty, then the condition won't be in violation. Custom static value: Choose this if you'd like to insert a custom static value into the empty aggregation windows before they're evaluated. This option has an additional, required parameter of fillValue (as named in the API) that specifies what static value should be used. This defaults to 0. Last known value: This option inserts the last seen value before evaluation occurs. We maintain the state of the last seen value for 2 hours. Options for editing data gap settings: In the NRQL conditions UI, go to Condition settings > Advanced signal settings > fill data gaps with and choose an option. If using our Nerdgraph API (preferred), this node is located at: actor : account : alerts : nrqlCondition : signal : fillOption | fillValue NerdGraph is the preferred API but if you are using our REST API, you can find this setting in the REST API explorer under the \"signal\" section of the Alert NRQL conditions API.",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 334.06726,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "Create NRQL <em>alert</em> <em>conditions</em>",
        "sections": "<em>Alert</em> <em>conditions</em> <em>and</em> query order of operations",
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": " <em>conditions</em> and query order of operations By default, the aggregation window is 1 minute, but you can change the window to suit your needs. Whatever the aggregation window, <em>New</em> <em>Relic</em> will collect data for that window using the function in the NRQL <em>alert</em> <em>condition’s</em> query. The query is parsed"
      },
      "id": "603ef04864441fbc114e8883"
    },
    {
      "sections": [
        "アラート条件を作成する",
        "条件の作成",
        "重要",
        "条件のタイプ",
        "NRQLクエリ条件",
        "APMメトリックアラート条件",
        "ベースライン条件",
        "外れ値検出条件",
        "複数の場所におけるSyntheticsモニタリングの条件",
        "キートランザクションメトリクス条件",
        "Javaインスタンス条件",
        "JVM健全性メトリクス条件（Javaアプリ）",
        "ウェブトランザクションのパーセンタイル条件",
        "ヒント",
        "アプリのラベルを使用した動的ターゲティング",
        "インフラストラクチャの条件",
        "Apdexとレスポンスタイムの条件",
        "条件の名前を変更",
        "ポリシーと条件を管理する",
        "既存の条件を表示する",
        "その他のヘルプ"
      ],
      "title": "アラート条件を作成する",
      "type": "docs-jp",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "Alert conditions"
      ],
      "external_id": "2bbd04fc373c311b184fd7a08718611882e3191f",
      "image": "",
      "url": "https://docs.newrelic.com/jp/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-alert-conditions/",
      "published_at": "2021-04-06T05:23:41Z",
      "updated_at": "2021-04-06T05:23:41Z",
      "document_type": "page",
      "popularity": 1,
      "body": "条件では、監視されたデータソース、そして違反と見なされるデータソースの行動を定義する閾値が含まれます。本ドキュメントでは、利用可能な条件の種類、条件の作成方法、そして既存条件の確認方法について解説しています。 関連ドキュメント： 基本コンセプトとワークフロー 最小/最大限度（1つのポリシーあたりの最大条件数など） REST APIでアラート設定をリスト化または編集する NRQL Condition NerdGraph APIにより、NerdGraph経由でNRQLアラート条件を管理します。 条件の作成 条件を作成するには： ポリシーを作成すると、条件を追加するよう自動的にプロンプトが表示されます。 または 既存のポリシーのページから、Create/add a conditionを選択します。 次のものを含む、UIのプロンプトに従います。 製品/データソースの選択 条件タイプの選択 閾値の定義 オプション：条件の作成が終わったら、その条件をコピーし、その他のポリシーに追加します。 重要 数値の入力フィールドがある条件は、小数第2位までの数値を受け入れます。たとえば、0.01が最小限の値です。 条件のタイプ 条件のさまざまなタイプの説明は次のとおりです。 NRQLクエリ条件 UIまたはNerd-Graph APIを使用して、数値を返すベーシックなNRQLクエリに対するNRQL条件を作成することができます。 APMメトリックアラート条件 NRQLを使用してのAPM条件の作成に関するヒントについては、APMメトリックアラート条件をご覧ください。 ベースライン条件 ベースラインアラートでは、週ごと、または季節ごとのパターンなど、変化するデータとトレンドに動的に適応する条件を作成できます。この機能は、APMおよびBrowserアプリケーションのほか、NRQLクエリでも利用できます。 外れ値検出条件 外れ値検出は、データ内のグループの検索を試み、これらのグループからの外れ値である値を探します。外れ値検出は、NRQLアラート用にしか利用できません。 複数の場所におけるSyntheticsモニタリングの条件 複数の場所におけるSyntheticsモニタリングの条件を使用して、モニターを設定し、特定の数の場所で同時に障害が発生している場合に通知を受けられます。 キートランザクションメトリクス条件 APMでは、キートランザクションの条件を設定できます。 Javaインスタンス条件 閾値は、Javaアプリインスタンスのメトリックがその閾値を超えた場合に違反をオープンするように設定できます。 閾値を特定のインスタンスにスコープすることで、潜在的な問題がどこで発生しているかをより迅速に突き止めることができます。例えば、アプリのインスタンスのサブセットのみで発生している異常を検出する場合に便利です。膨大な数のインスタンスにわたってメトリックスを集計するアプリの場合、このタイプの異常は容易に見過ごされてしまいます。 JVM健全性メトリクス条件（Javaアプリ） APMによって監視されるJavaアプリケーションの場合、単一のJVMのヒープサイズまたはスレッド数が予想される動作範囲外にある場合に違反をオープンする閾値を設定できます。 アプリの選択したインスタンスのそれぞれに対して、個別にアラートの閾値の違反を計算します。条件を作成する際、Javaアプリのアラートポリシーに対する条件タイプとしてJVM health metricを選択し、いずれかの利用可能な閾値を選択してください。 スレッドのデッドロック ヒープメモリの使用 CPU利用時間 ガベージコレクションのCPU時間 違反は、閾値の逆数が満たされると自動的に閉じますが、UIを使用すると、JVM稼働メトリックに関する違反が強制終了する時間も変更できます。デフォルトは24時間です。 ウェブトランザクションのパーセンタイル条件 条件には閾値としてパーセンタイルを定義するオプションが含まれます。この条件は、ウェブアプリのレスポンスタイムがこの値を上回る、下回る、または等しい場合として設定します。このオプションは、例えば、運用スタッフがウェブの平均レスポンスタイムでなく、アプリケーションサーバーの全体的なウェブトランザクションのパーセンタイルについてアラートを発生させる場合に便利です。 ヒント ウェブアプリケーション以外のトランザクションに対して、条件内に任意の閾値を設定する場合、NRQLクエリ機能を使用してください。 パーセンタイル閾値を定義するには： APMアプリの条件に対する条件タイプとして、Web transactions percentilesを選択し、1つのアプリを選択します。（複数のアプリにアラートを作成するには、各アプリに個別にWeb transactions percentiles条件を作成してください。） 違反をオープンする閾値を定義するには、Percentile nthレスポンスタイム値を入力し、その頻度（この値より大きい、小さい、または等しい）を選択します。 ユーザーインタフェースにはクリティカルと警告の値が秒単位で表示されますが、New Relicにはトランザクションタイムがミリ秒で保存されます。ミリ秒で定義する場合は、値に小数点を含めます。 アプリのラベルを使用した動的ターゲティング アプリケーションにラベルを適用することで、条件にこれらのエンティティを自動的にリンクさせることができます。これにより、すべてのアプリケーションを動的環境内で簡単に管理できます。エンティティラベルを最適な状態で管理するため、エージェントの設定ファイルを使用するようお勧めします。 1つのラベルを使用して、関連のあるすべてのエンティティ（最大10,000エンティティ）を識別できます。複数のラベルは、選択されたラベルをすべて共有するエンティティのみ識別します。 条件と合わせてダイナミックターゲティングを利用するには、違反クローズタイマーを設定する必要もあります。 1つの条件に対して最高で10個のラベルを追加、編集、削除するには： 製品タイプとして、APM > Application metricを選択します。 エンティティを識別するには、 Labelsタブを選択します。ラベルを名前で検索するか、カテゴリーのリストからラベルを選択します。 Infrastructureを使用して、監視対象の条件を直接作成することもできます。 インフラストラクチャの条件 Infrastructureから直接、リソースに対する条件を作成できます。 たとえば、Infrastructureエージェントからデータが受信されなくなったときに通知を受信するには、host not reportingの条件タイプを使用します。これにより、フィルタリングされたホストグループに対してアラートを動的に送信し、5〜60分の時間枠を設定できるようになります。 Apdexとレスポンスタイムの条件 レスポンスタイムに対する違反をオープンし、通知を送信できます。ただし、ほとんどの場合、Apdexスコアは有用性がより高く、アプリケーションパフォーマンスをより正確に反映します。例えば、異常値が存在する場合、平均応答時間は結果に歪みが生じることがありますが、Apdexスコアはユーザーの許容レスポンスタイムをより正確に評価します。 条件の名前を変更 デフォルトの条件の名前を変更する場合は、分かりやすい短い名前を使用してください。電子メールの件名の行、オンラインチャットなど、文字制限のある通知メッセージには有益な情報を提供してください。 キャメルケースまたはドット付き10進表記を使用します。 何に違反しているのか簡潔に説明します。 既存の条件の名前を変更するには： one.newrelic.com のトップナビゲーションで、Alerts & AIをクリックし、Alert policiesをクリックしてから（ポリシーを選択をクリックします。 条件の名前をクリックして編集してから、条件に見合う名前を入力します。 条件に関連付けられている製品と条件タイプは、編集できません。代わりに、条件を削除して別の製品および条件タイプで新たに作成してください。 ポリシーと条件を管理する 条件を保存すると、現在選択されているポリシーに、その条件に適用されるすべてのアラート条件がリストされます。ここから、以下の操作を行えます。 ポリシーにさらなる条件を追加するステップを繰り返す。 ポリシーのセットアッププロセスに、1つまたは複数の通知チャネルを追加することで、このプロセスを続ける。 条件名、その条件名の適用範囲内のエンティティ、またはクリティカル（赤）と警告（黄）の閾値を変更する。 条件をコピーし、選択したアカウントにおける他のアラートポリシーにその条件を追加する。 ポリシーの名前を変更する。 ポリシー内の一切の条件を無効化するか、ポリシーもしくはその条件のいずれかを削除する。 また、Nerd-GraphポリシーAPI経由でポリシーを管理することもできます。 既存の条件を表示する ポリシーの索引で、アルファベット順に条件が一覧表示されます。既存の条件を表示するか検索するには： one.newrelic.com のトップナビゲーションで、Alerts & AIをクリックしてから、Alert policiesをクリックします。 検索ボックスを使用して、列をソートするかリストをスクロールして、ポリシー名を選択して条件を表示します。 特定のエンティティのポリシーと条件情報を表示するには：そのエンティティの製品UIから、Settingsを選択し、 Alert conditionsをクリックします。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 334.04175,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": "トップナビゲーションで、<em>Alerts</em> &amp; AIをクリックしてから、<em>Alert</em> policiesをクリックします。 検索ボックスを使用して、列をソートするかリストをスクロールして、ポリシー名を選択して条件を表示します。 特定のエンティティのポリシーと条件情報を表示するには：そのエンティティの製品UIから、Settingsを選択し、 <em>Alert</em> <em>conditions</em>をクリックします。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールである<em>New</em> <em>Relic</em> Diagnosticsを実行します。 <em>New</em> <em>Relic</em>のデータセキュリティとライセンスドキュメントを見直してください。"
      },
      "id": "60526c24196a677b8e2d1628"
    },
    {
      "sections": [
        "APMメトリックアラート条件",
        "エンティティの識別",
        "ヒント",
        "NRQL条件を作成する",
        "その他のヘルプ"
      ],
      "title": "APMメトリックアラート条件",
      "type": "docs-jp",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "Alert conditions"
      ],
      "external_id": "eacb0e99d9a0e3dcec32da7dd5b873078193b3c7",
      "image": "https://docs.newrelic.com/static/61c2d8ae304b64d4279de390cedc5d98/6146e/top-twenty-2.png",
      "url": "https://docs.newrelic.com/jp/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/apm-metric-alert-conditions/",
      "published_at": "2021-04-06T05:23:39Z",
      "updated_at": "2021-04-06T05:23:39Z",
      "document_type": "page",
      "popularity": 1,
      "body": "APMメトリックのアラート条件を作成するには、さまざまな方法がありますが、NRQLを使用することをお勧めします。NRQLを使用すると、追加の制御が可能になり、検出時間が短縮され、すべてのデータタイプに対して一貫性を維持できます。 2021年に、New Relic One全体でチャートとクエリからアラートNRQL条件をより簡単に作成できるようになります。このインテグレーションが完了するまでは、以下に説明する方法を使用してください。NRQLを使用してAPMの外部サービス条件を作成する方法に関する例を示します。 APMのメトリックの条件の設定は2段階のプロセスです。まずエンティティを識別し、次にNRQL条件を作成する必要があります。 エンティティの識別 次のように作業を開始します。 one.newrelic.comに移動し、ツールバーの [APM]をクリックします。 アラートを作成するサービスを探します。 サービスをクリックします。 左のナビゲーションペインで、 [External services（外部サービス）]をクリックします。 [}Top 20 external services（トップ20外部サービス）]で、目的のサービスを見つけてクリックします。 ページの右側には、Response time（レスポンスタイム）]と [External calls per minute（毎分の外部呼び出し数）（スループット）のグラフがあります。この2つのオプションからアラートを作成するオプションを選択します。 選択したグラフの右上隅にある3つのドットをクリックし、 [View query（クエリの表示）]を選択します。 ヒント 3つのドットが表示されない場合は、ページの最上部にある [Show new view（新しいビューを表示）]オプションが有効になっていることを確認します。 クエリをクリップボードにコピーします。 レスポンスタイムを選択すると、クエリは次のようになります。 毎分の外部呼び出し数を選択すると、クエリは次のようになります。 クリップボードにクエリがコピーされている場合は、次のセクションに進んでNRQLアラート条件を作成します。 NRQL条件を作成する クエリを生成した後に、以下を実行します。 この条件を作成するアラートのポリシーに移動します。 [Add a condition（条件の追加）]をクリックし、 [NRQL]タブを選択し、 [Next, define thresholds..（次に、閾値を定義）]をクリックします。 [Define your signal（信号を定義）]で、クリップボードからクエリを貼り付けます。 LIMIT句、SINCE...AGO句、またはTIMESERIES句があれば、それらを削除します。これらは、NRQLクエリ構文を有効にするために削除する必要があります。 ヒント 結果が返されない場合は、左上隅のアカウントドロップダウンを使用して、正しいアカウントを選択していることを確認します。 残りのフィールドに入力してから条件を保存します。 NRQLを使用してAPMメトリックタイムスライスのデータにクエリを実行する方法については、追加情報をご覧ください。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 334.0412,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": "APMメトリックのアラート条件を作成するには、さまざまな方法がありますが、NRQLを使用することをお勧めします。NRQLを使用すると、追加の制御が可能になり、検出時間が短縮され、すべてのデータタイプに対して一貫性を維持できます。 2021年に、<em>New</em> <em>Relic</em> One全体でチャートとクエリからアラートNRQL条件をより簡単に作成できるようになります。このインテグレーションが完了するまでは、以下に説明する方法を使用してください。NRQLを使用してAPMの外部サービス条件を作成する方法に関する例を示します。 APMのメトリックの条件の設定は2段階のプロセスです。まずエンティティを識別し、次に"
      },
      "id": "60526c2328ccbca01ac2fd32"
    },
    {
      "sections": [
        "REST API calls for alerts",
        "Important",
        "Available data and functions via API",
        "Conditions excluded from the REST API",
        "Alert policies",
        "Create new policies",
        "Update policies",
        "Delete existing policies",
        "List existing policies",
        "Notification channels",
        "Create new notification channels",
        "Email channel",
        "OpsGenie channel",
        "Slack channel",
        "VictorOps channel",
        "PagerDuty channel",
        "Webhook (json) channel",
        "Webhook (x-www-form-urlencoded) channel",
        "Delete existing notification channels",
        "List existing notification channels",
        "Update notification channels associated with policies",
        "Delete notification channels associated with policies",
        "Conditions for APM, Browser, Mobile",
        "Create conditions for policies",
        "Update conditions for policies",
        "Delete conditions from policies",
        "List existing conditions for policies",
        "Conditions for NRQL",
        "Create NRQL conditions for policies",
        "Update NRQL conditions for policies",
        "Delete NRQL conditions for policies",
        "List existing NRQL conditions for policies",
        "Conditions for external services",
        "External services: Create conditions for policies",
        "External services: Update conditions for policies",
        "External services: Delete conditions from policies",
        "External services: List existing conditions for policies",
        "Conditions for Synthetic monitoring",
        "Synthetics: Create conditions for policies",
        "Synthetic monitoring: Update conditions for policies",
        "Synthetic monitoring: Delete conditions from policies",
        "Synthetic monitoring: List existing conditions for policies",
        "Conditions for plugins",
        "Plugins: Create conditions for policies",
        "Plugins: Update conditions for policies",
        "Plugins: Delete conditions from policies",
        "Plugins: List existing conditions for policies",
        "Alert activity: Events, violations, incidents",
        "List Events",
        "List Violations",
        "Tip",
        "List Incidents",
        "Show Incident",
        "Acknowledge Incident",
        "Close Incident",
        "Alert entity conditions",
        "List condition by entity",
        "Add an entity to a condition",
        "Remove an entity from a condition"
      ],
      "title": "REST API calls for alerts",
      "type": "docs",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "REST API alerts"
      ],
      "external_id": "7e36876e5725bfa63cbd6aadd543e98060f5e118",
      "image": "",
      "url": "https://docs.newrelic.com/docs/alerts-applied-intelligence/new-relic-alerts/rest-api-alerts/rest-api-calls-alerts/",
      "published_at": "2021-04-05T23:18:37Z",
      "updated_at": "2021-04-05T23:18:37Z",
      "document_type": "page",
      "popularity": 1,
      "body": "Our REST API (v2) allows you to configure settings for alerts. The API Explorer also includes the curl request format, available parameters, potential response status codes, and JSON response structure for each of the available API calls. You can also create alert conditions in the UI. Important For infrastructure alerting, see REST API for infrastructure monitoring alerts. Available data and functions via API REST API functions Comments View account data In general, any role can use a user key or REST API key with GET > List functions to view alerts data. The account Owner and Admins may use their API key. List output will be paginated. Available functions include: Alert policies Notification channels Conditions for APM, Browser, and Mobile (Some limitations apply.) Conditions for external services Conditions for Synthetic monitoring Conditions for Plugins Conditions for NRQL (Some limitations apply.) Events Violations Incidents Maintain account data You may have an Owner or Admin role in your account and a user key or have a custom role that grants permissions to manage Alerts and a user key in order to use any maintenance function, including POST > Create, PUT > Add, PUT > Update, and DELETE. Conditions excluded from the REST API These types of conditions do not have available endpoints in the API: APM: Web transaction percentiles, conditions targeting labels, and baselines NRQL: Baselines Alert policies These API functions include links to the API Explorer, where you can create, delete, or list policies. Important If your account hosts data in the EU data center, ensure you're using the proper API endpoints for EU region accounts. Create new policies To add new policies, use your user key and include these two values in the API call: Required values Definition Incident incident_preference Determines how Alerts will create incidents and group violations. This must be one of the following: PER_POLICY (default): Roll up by policy. PER_CONDITION: Roll up by condition. PER_CONDITION_AND_TARGET: Roll up by target and condition. Policy name The policy name is required. Leaving it unchanged will create a policy called string. API Explorer: Alerts Policies > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_policies.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"policy\": { \"incident_preference\": \"string\", \"name\": \"string\" } }' Copy Update policies Use this API to update an existing policy's name and incident_preference. You'll need your user key. Required values Definition id Required. To find a policy's ID, use either of these options: From the UI: On a policy's UI page, find the ID under the policy name. With the API: Use the List policies API. Incident incident_preference Determines how alerts will create incidents and group violations. Must be one of the following: PER_POLICY (default): Roll up by policy. PER_CONDITION: Roll up by condition. PER_CONDITION_AND_TARGET: Roll up by target and condition. Policy name Required. If you do not change the name, it defaults to a policy called string. To find a policy's exact name, use the List policies API. API Explorer: Alerts Policies > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_policies/{id}.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"policy\": { \"incident_preference\": \"string\", \"name\": \"string\" } }' Copy Delete existing policies To delete an existing policy, use your user key, and include the policy_id (available from API Explorer: Alerts Policies > GET > List) in the API call: API Explorer: Alerts Policies > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy List existing policies To view a list of existing policies for your account, use your user key, and include these optional values in the API call: Optional policy name filter Optional pagination value API Explorer: Alerts Policies > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_policies.json' \\ -H 'Api-Key:$API_KEY' -i Copy Notification channels These API functions include links to the API Explorer, where you can create, delete, or list Alerts notification channels. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. Create new notification channels To add new notification channels, use your user key and include these values in the API call: New channel's name Type of channel Configuration values The API Explorer shows the format for required configuration values for each type of notification channel. API Explorer: Alerts Channels > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_channels.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"channel\": { \"name\": \"string\", \"type\": \"string\", \"configuration\": \"hash\" } }' Copy The \"hash\" place holder in this example must be replaced by one of the following JSON blocks with the appropriate values substituted: Email channel { \"recipients\" : \"test@google.com\", \"include_json_attachment\" : true } Copy OpsGenie channel { \"api_key\": \"abc123\", \"teams\": \"team1\", \"tags\": \"tag1\", \"recipients\": \"me@me.com\" } Copy Slack channel { \"url\": \"http://test.com\", \"channel\": \"channel1\" } Copy VictorOps channel { \"key\": \"mykey\", \"route_key\": \"theroute\" } Copy PagerDuty channel { \"service_key\": \"myservicekey\" } Copy Webhook (json) channel This example shows the default payload inserted. (The payload attribute is optional.) The payload can be customized to have different keys than the ones shown and will be sent with the $ prefixed attributes interpolated prior to delivery. Important The condition_id is deprecated. Instead, use condition_family_id. { \"base_url\": \"http://test.com\", \"auth_username\": \"username\", \"auth_password\": \"password\", \"payload_type\": \"application/json\", \"headers\": { \"header1\": \"test\", \"header2\": \"test\" } \"payload\": { \"account_id\": \"$ACCOUNT_ID\", \"account_name\": \"$ACCOUNT_NAME\", \"closed_violations_count_critical\": \"$CLOSED_VIOLATIONS_COUNT_CRITICAL\", \"closed_violations_count_warning\": \"$CLOSED_VIOLATIONS_COUNT_WARNING\", \"condition_family_id\": \"$CONDITION_FAMILY_ID\", \"condition_id\": \"$CONDITION_ID\", \"condition_name\": \"$CONDITION_NAME\", \"current_state\": \"$EVENT_STATE\", \"details\": \"$EVENT_DETAILS\", \"duration\": \"$DURATION\", \"event_type\": \"$EVENT_TYPE\", \"incident_acknowledge_url\": \"$INCIDENT_ACKNOWLEDGE_URL\", \"incident_id\": \"$INCIDENT_ID\", \"incident_url\": \"$INCIDENT_URL\", \"open_violations_count_critical\": \"$OPEN_VIOLATIONS_COUNT_CRITICAL\", \"open_violations_count_warning\": \"$OPEN_VIOLATIONS_COUNT_WARNING\", \"owner\": \"$EVENT_OWNER\", \"policy_name\": \"$POLICY_NAME\", \"policy_url\": \"$POLICY_URL\", \"runbook_url\": \"$RUNBOOK_URL\", \"severity\": \"$SEVERITY\", \"targets\": \"$TARGETS\", \"timestamp\": \"$TIMESTAMP\", \"violation_callback_url\": \"$VIOLATION_CALLBACK_URL\", \"violation_chart_url\": \"$VIOLATION_CHART_URL\" } } Copy Webhook (x-www-form-urlencoded) channel This example shows the default payload inserted. (The payload attribute is optional.) The payload can be customized to have different keys than the ones shown and will be sent with the $ prefixed attributes interpolated prior to delivery. Important The condition_id is deprecated. Instead, use condition_family_id. { \"base_url\": \"http://test.com\", \"auth_username\": \"username\", \"auth_password\": \"password\", \"payload_type\": \"application/x-www-form-urlencoded\", \"headers\": { \"header1\": \"test\", \"header2\": \"test\" }, \"payload\": { \"account_id\": \"$ACCOUNT_ID\", \"account_name\": \"$ACCOUNT_NAME\", \"closed_violations_count_critical\": \"$CLOSED_VIOLATIONS_COUNT_CRITICAL\", \"closed_violations_count_warning\": \"$CLOSED_VIOLATIONS_COUNT_WARNING\", \"condition_family_id\": \"$CONDITION_FAMILY_ID\", \"condition_id\": \"$CONDITION_ID\", \"condition_name\": \"$CONDITION_NAME\", \"current_state\": \"$EVENT_STATE\", \"details\": \"$EVENT_DETAILS\", \"duration\": \"$DURATION\", \"event_type\": \"$EVENT_TYPE\", \"incident_acknowledge_url\": \"$INCIDENT_ACKNOWLEDGE_URL\", \"incident_id\": \"$INCIDENT_ID\", \"incident_url\": \"$INCIDENT_URL\", \"open_violations_count_critical\": \"$OPEN_VIOLATIONS_COUNT_CRITICAL\", \"open_violations_count_warning\": \"$OPEN_VIOLATIONS_COUNT_WARNING\", \"owner\": \"$EVENT_OWNER\", \"policy_name\": \"$POLICY_NAME\", \"policy_url\": \"$POLICY_URL\", \"runbook_url\": \"$RUNBOOK_URL\", \"severity\": \"$SEVERITY\", \"targets\": \"$TARGETS\", \"timestamp\": \"$TIMESTAMP\", \"violation_callback_url\": \"$VIOLATION_CALLBACK_URL\", \"violation_chart_url\": \"$VIOLATION_CHART_URL\" } } Copy Delete existing notification channels To delete an existing notification channels, use your user key, and include the channel_id (available from API Explorer: Alerts Channels > GET > List) in the API call: API Explorer: Alerts Channels > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_channels/{channel_id}.json' \\ -H 'Api-Key:$API_KEY' -i Copy List existing notification channels To view a list of existing notification channels for your account, use your user key and an optional pagination value in the API call. API Explorer: Alerts Channels > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_channels.json' \\ -H 'Api-Key:$API_KEY' -i Copy Update notification channels associated with policies You can associate a policy with one or more notification channels. You can also associate a notification channel with one or more policies. To add notification channels to policies, use your user key and these values in the API call: A policy_id value (available from API Explorer: Alerts Policies > GET > List) One or more channel_id values in an array, separated by commas or a new line (available from API Explorer: Alerts Channels > GET > List) API Explorer: Alerts Policy Channels > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_policy_channels.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -G -d 'policy_id=$POLICY_ID&channel_ids=channel_id' Copy Delete notification channels associated with policies You can associate a policy with one or more notification channels. You can also associate a notification channel with one or more alert policies. To remove a policy from a channel, or to remove a channel from a policy, use your user key and these values in the API call: The policy_id (available from API Explorer: Alerts Policies > GET > List) The channel_id (available from API Explorer: Alerts Channels > GET > List) API Explorer: Alerts Policy Channels > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_policy_channels.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'channel_id=CHANNEL_ID&policy_id=POLICY_ID' Copy Conditions for APM, Browser, Mobile These API functions include links to the API Explorer, where you can create, update, delete, or list policy conditions. These calls are for conditions with these types of entities: APM: Apps and key transactions Browser: Apps and key transactions Mobile: Mobile apps Exception: The following APM conditions are not available from this API endpoint: Conditions targeting labels (dynamic targeting) Web transaction percentile conditions Baseline conditions Important The API Explorer provides information about other types of conditions using separate endpoints, including external services (APM and Mobile), plugins, and Synthetic monitoring. Consider all types of alert conditions when searching or updating. If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. Create conditions for policies To add conditions to policies, include these values in the API call: Your user key The policy_id (available from API Explorer: Alerts Policies > GET > List) The required condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Conditions > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"condition\": { \"type\": \"string\", \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"metric\": \"string\", \"gc_metric\": \"string\", \"condition_scope\": \"string\", \"violation_close_timer\": integer, \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"user_defined\": { \"metric\": \"string\", \"value_function\": \"string\" } } }' Copy The JSON response returns a condition id, which you will need to update or delete the condition. You can also view the condition id from API Explorer: Alerts Conditions > GET > List. Update conditions for policies To update conditions for policies, include these values in the API call: Your user key The condition's id (available from API Explorer: Alerts Conditions > GET > List) The required condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"condition\": { \"type\": \"string\", \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"metric\": \"string\", \"metric\": \"string\", \"gc_metric\": \"string\", \"condition_scope\": \"string\", \"violation_close_timer\": integer, \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"user_defined\": { \"metric\": \"string\", \"value_function\": \"string\" } } }' Copy Delete conditions from policies To delete conditions from policies, include these values in the API call: Your user key The condition_id (available from API Explorer: Alerts Conditions > GET > List) API Explorer: Alerts Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy List existing conditions for policies To view a list of existing conditions for your policy, use your REST API key or user key, and the associated policy_id in the API call. API Explorer: Alerts Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Conditions for NRQL These API functions include links to the API Explorer, where you can create, update, delete, or list NRQL conditions for your policies. Exception: NRQL baseline conditions are not available from this endpoint. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. Create NRQL conditions for policies Recommendation: Due to the way NRQL data is aggregated, set the nrql[since_value] to 3 or higher to prevent false positives. This equates to the Evaluation Offset value in the Alerts Condition UI. API Explorer: Alerts Nrql Conditions > POST > Create To create NRQL conditions for policies: curl -X POST 'https://api.newrelic.com/v2/alerts_nrql_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"nrql_condition\": { \"type\": \"string\", \"name\": \"string\", \"runbook_url\": \"string\", \"enabled\": boolean, \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"value_function\": \"string\", \"nrql\": { \"query\": \"string\", \"since_value\": \"string\" }, \"signal\": { \"aggregation_window\": \"string\", \"evaluation_offset\": \"string\", \"fill_option\": \"string\", \"fill_value\": \"string\" }, \"expiration\": { \"expiration_duration\": \"string\", \"open_violation_on_expiration\": boolean, \"close_violations_on_expiration\": boolean } } }' Copy If you set nrql[since_value] to 3 and nrql[query] to SELECT count FROM myEvent, New Relic evaluates the following query against the terms[threshold] value once per minute: SELECT count FROM myEvent SINCE 3 minutes ago UNTIL 2 minutes ago Copy If you set type as outlier, you can omit the value_function. However, two additional fields are required: expected_groups and ignore_overlap. For more information, see Alerts Conditions API field names. If you omit type or set it as static, it will default to standard NRQL alerting. Update NRQL conditions for policies Recommendation: Due to the way NRQL data is aggregated, set the nrql[since_value] to 3 or higher to prevent false positives. This allows three minutes to aggregate data, and equates to the Evaluation Offset value in the Alerts Condition UI. To update NRQL conditions for policies, include these values in the API call: Your user key The condition's id (available from API Explorer: Alerts Nrql Conditions > GET > List) The required condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Nrql Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"nrql_condition\": { \"name\": \"string\", \"runbook_url\": \"string\", \"enabled\": boolean, \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"value_function\": \"string\", \"nrql\": { \"query\": \"string\", \"since_value\": \"string\" } } }' Copy Delete NRQL conditions for policies To delete NRQL conditions from policies, include these values in the API call: Your user key The condition's id (available from API Explorer: Alerts Nrql Conditions > GET > List) API Explorer: Alerts Nrql Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy List existing NRQL conditions for policies To view a list of existing conditions for your alert policy, use your user key or REST API key, and the associated policy_id in the API call. API Explorer: Alerts Nrql Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_nrql_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Conditions for external services These API functions include links to the API Explorer, where you can create, update, delete, or list policy conditions. These calls are for conditions for external services. The API calls can be used with APM and Mobile apps. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. External services: Create conditions for policies To add conditions for external services to policies that have APM or Mobile apps, include these values in the API call: Your user key The policy_id (available from API Explorer: Alerts Policies > GET > List) The required external_service_condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts External Service Conditions > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_external_service_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"external_service_condition\": { \"type\": \"string\", \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"external_service_url\": \"string\", \"metric\": \"string\", \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ] } }' Copy The JSON response returns a condition id, which you will need to update or delete the condition. You can also view the condition id from API Explorer: Alerts External Service Conditions > GET > List. External services: Update conditions for policies To update conditions for external services to policies that have APM or Mobile apps, include these values in the API call: Your user key The external service condition's id (available from API Explorer: Alerts External Service Conditions > GET > List) The required external_service_condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts External Service Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"external_service_condition\": { \"type\": \"string\", \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"external_service_url\": \"string\", \"metric\": \"string\", \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ] } }' Copy External services: Delete conditions from policies To delete conditions for external services from policies with APM or Mobile apps, include these values in the API call: Your user key The condition_id (available from API Explorer: Alerts External Service Conditions > GET > List) API Explorer: Alerts External Service Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy External services: List existing conditions for policies To view a list of existing conditions for policies with external service apps (APM or Mobile), use your user key or REST API key and the associated policy_id in the API call. API Explorer: Alerts External Service Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_external_service_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Conditions for Synthetic monitoring These API functions include links to the API Explorer, where you can create, update, delete, or list conditions for your alert policies. The API calls can be used with Synthetic monitoring. Synthetics: Create conditions for policies To add conditions to policies for Synthetic monitoring, include these values in the API call: Your user key The policy_id (available from API Explorer: Alerts Policies > GET > List) The required synthetics_condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Synthetics Conditions > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_synthetics_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"synthetics_condition\": { \"name\": \"string\", \"monitor_id\": \"string\", \"runbook_url\": \"string\", \"enabled\": boolean } }' Copy The JSON response returns a condition id, which you will need to update or delete the condition. You can also view the condition id from API Explorer: Alerts Synthetics Conditions > GET > List. Synthetic monitoring: Update conditions for policies To update policy conditions for Synthetic monitoring, include these values in the API call: Your user key The condition id (available from API Explorer: Alerts Synthetics Conditions > GET > List) The required synthetics_condition values in the API call (described in the API Explorer page to create alert conditions for Synthetics and in the Alerts conditions API glossary) API Explorer: Alerts Synthetics Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_synthetics_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"synthetics_condition\": { \"name\": \"string\", \"monitor_id\": \"string\", \"runbook_url\": \"string\", \"enabled\": boolean } }' Copy Synthetic monitoring: Delete conditions from policies To delete policy conditions for Synthetic monitoring, include these values in the API call: Your user key The condition_id (available from API Explorer: Alerts Synthetics Conditions > GET > List) API Explorer: Alerts Synthetics Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_synthetics_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy Synthetic monitoring: List existing conditions for policies To view a list of existing policy conditions for Synthetic monitoring, use your user key or REST API key, and the associated policy_id in the API call. API Explorer: Alerts Synthetics Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_synthetics_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Conditions for plugins These API functions include links to the API Explorer, where you can create, update, delete, or list conditions for your alert policies. The API calls can be used with plugins from New Relic's Plugin Central. Plugins: Create conditions for policies To add conditions to policies for plugin components or instances, include these values in the API call: Your user key The policy_id (available from API Explorer: Alerts Policies > GET > List) The required plugins_condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Plugins Conditions > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_plugins_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"plugins_condition\": { \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"metric_description\": \"string\", \"metric\": \"string\", \"value_function\": \"string\", \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"plugin\": { \"id\": \"string\", \"guid\": \"string\" } } }' Copy The JSON response returns a condition id, which you will need to update or delete the condition. You can also view the condition id from API Explorer: Alerts Plugins Conditions > GET > List. Plugins: Update conditions for policies To update policy conditions for plugin components or instances, include these values in the API call: Your user key The condition id (available from API Explorer: Alerts Plugins Conditions > GET > List) The required plugins_condition values in the API call (described in the API Explorer page to create alert conditions for plugins and in the Alerts conditions API glossary) API Explorer: Alerts Plugins Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_plugins_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"plugins_condition\": { \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"metric_description\": \"string\", \"metric\": \"string\", \"value_function\": \"string\", \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"plugin\": { \"id\": \"string\", \"guid\": \"string\" } } }' Copy Plugins: Delete conditions from policies To delete conditions from policies for plugin components or instances, include these values in the API call: Your user key The condition id (available from API Explorer: Alerts Plugins Conditions > GET > List) API Explorer: Alerts Plugins Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_plugins_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy Plugins: List existing conditions for policies To view a list of existing conditions for policies with plugin components or instances, use your user key or REST API key, and the associated policy_id in the API call. API Explorer: Alerts Plugins Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_plugins_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Alert activity: Events, violations, incidents These API functions include links to the API Explorer, where you can view information about events, violations, and incidents for your alert policies. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. List Events To view events for entities monitored by APM, Browser, Mobile, Plugins, Synthetic monitoring, and Alerts, include these values in the API call: Your user key or REST API key Other optional values to use as filters (described in the API Explorer page) that depend on the type of product (browser monitoring, mobile monitoring, etc.), entity (as apps or key transactions for APM, synthetic monitoring, etc.), and type of event (notification, deployment, instrumentation, etc.) An optional pagination value API Explorer: Alerts Events > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_events.json' \\ -H 'Api-Key:$API_KEY' -i Copy List Violations To view violations for any entity monitored for your account, include these values in the API call: Your user key or REST API key An optional flag to show only those violations that are currently open An optional pagination value API Explorer: Alerts Violations > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_violations.json' \\ -H 'Api-Key:$API_KEY' -i Copy Tip To find policy, condition, and incident information: take the IDs found in the links section in the violations property and place them into the URLs contained in the outer links property of the payload. List Incidents To view incidents for any entity monitored for your account, include these values in the API call: Your user key or REST API key An optional flag to show only those incidents that are currently open An optional flag to exclude violation data from response An optional pagination value API Explorer: Alerts Incidents > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_incidents.json' \\ -H 'Api-Key:$API_KEY' -i Copy Show Incident To show a single incident associated with your account, include these values in the API call: Your user key or REST API key An incident ID API Explorer: Alerts Incidents > GET > Show curl -X GET 'https://api.newrelic.com/v2/alerts_incidents/{id}.json' \\ -H 'Api-Key:$API_KEY' -i Copy Acknowledge Incident To acknowledge an incident associated with your account, include these values in the API call: Your user key An incident ID API Explorer: Alerts Incidents > PUT > Acknowledge curl -X PUT 'https://api.newrelic.com/v2/alerts_incidents/{id}/acknowledge.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' Copy Close Incident To close an incident associated with your account, include these values in the API call: Your user key An incident ID API Explorer: Alerts Incidents > PUT > Close curl -X PUT 'https://api.newrelic.com/v2/alerts_incidents/{id}/close.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' Copy Alert entity conditions These API functions include links to the API Explorer, where you can list, add and remove entities in the conditions for your alert policies. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. List condition by entity To view the conditions an entity is part of for APM, Browser, Mobile, key transactions, and Plugins, include these values in the API call: Your user key or REST API key The entity_id This is the specific entity (alert target) to be monitored. The entity_type, which must be one of the following: Application BrowserApplication MobileApplication KeyTransaction Plugin API Explorer: Alerts Entity Conditions > GET > list curl -X GET 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -G -d 'entity_type=$ENTITY_TYPE' Copy Add an entity to a condition To add an entity to a condition, include these values in the API call: Your user key The entity_id This is the entity (alert target) to be monitored. It is the numeric ID for the APM application, browser app, plugin, key transaction, or mobile app. The condition_id (available from API Explorer: Alerts Conditions > GET > List) The entity_type, which must be one of the following: Application BrowserApplication MobileApplication KeyTransaction Plugin API Explorer: Alerts Entity Conditions > PUT > Add curl -X PUT 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -G -d 'entity_type=$ENTITY_TYPE&condition_id=$CONDITION_ID' Copy Remove an entity from a condition To remove an entity being monitored from a condition, include these values in the API call: Your user key The entity_id This is the specific monitored entity (alert target) to be removed. It is the numeric ID for the APM application, browser app, plugin, key transaction, or mobile app. The condition_id (available from API Explorer: Alerts Conditions > GET > List) The entity_type, which must be one of the following: Application BrowserApplication MobileApplication KeyTransaction Plugin API Explorer: Alerts Entity Conditions > DELETE > Remove curl -X DELETE 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -G -d 'entity_type=$ENTITY_ID&condition_id=$CONDITION_ID' Copy",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 269.3879,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "REST API calls for <em>alerts</em>",
        "sections": "<em>Alert</em> entity <em>conditions</em>",
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": "&#x2F;<em>alerts_synthetics_conditions</em>.json&#x27; \\ -H &#x27;Api-Key:$API_KEY&#x27; -i \\ -d &#x27;policy_id=$POLICY_ID&#x27; Copy <em>Conditions</em> for plugins These API functions include links to the API Explorer, where you can create, update, delete, or list <em>conditions</em> for your <em>alert</em> policies. The API calls can be used with plugins from <em>New</em>"
      },
      "id": "603ec3d064441f50e94e8847"
    }
  ],
  "/jp/docs/alerts-applied-intelligence/new-relic-alerts/alert-policies/specify-when-alerts-create-incidents": [
    {
      "sections": [
        "Notification channels: Control where to send alerts",
        "Tip",
        "View notification channels",
        "Add or remove notification channels",
        "Instructions for specific notification channels",
        "User",
        "Email",
        "OpsGenie",
        "PagerDuty",
        "Slack",
        "VictorOps",
        "Webhook",
        "Important",
        "Caution",
        "xMatters",
        "Receive mobile push notifications",
        "Acknowledge alert notifications"
      ],
      "title": "Notification channels: Control where to send alerts",
      "type": "docs",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "Alert notifications"
      ],
      "external_id": "8600dc86e59fad5da1e4a2b4170d2b86df78ee2f",
      "image": "",
      "url": "https://docs.newrelic.com/docs/alerts-applied-intelligence/new-relic-alerts/alert-notifications/notification-channels-control-where-send-alerts/",
      "published_at": "2021-04-06T07:43:52Z",
      "updated_at": "2021-04-06T07:43:52Z",
      "document_type": "page",
      "popularity": 1,
      "body": "You can use alerts to set up notification channels, and attach those channels to policies. Your selected channels provide fast and consistent ways for the right personnel to be notified about incidents. For example, notifications allow you to include charts about the incident to provide context and share them with your team. Alerts offers several notification channels, including webhooks, Slack rooms, email, and more. You'll be notified by your notification channels when incidents are opened, acknowledged, or closed. This document explains the available notification channels and how to set them up. Tip This document is about alerts notifications. For general information about unsubscribing from other New Relic emails, including marketing emails, weekly reports, and announcements, see Unsubscribe from New Relic emails. View notification channels To see all notification channels in your account: Go to one.newrelic.com, in the top nav click Alerts & AI, then click Notification channels. Add or remove notification channels To set up a new notification channel: On the Notification channels, click New notification channel. Select the type of channel and complete other required steps for it. To add or remove a notification policy or channel: Select a specific notification channel, select Alert policies, and add or remove a policy. OR Select a specific policy, select Notification channels, and add or remove a channel. Instructions for specific notification channels These are the available notification channel types. User Requirements: This feature is not available for users on the New Relic One user model, only to users on the original user model (learn about user model differences). As a workaround, you can use the email notification channel. Use the User notification channel to select existing account team members and admins. To view the Users list or to add users to alert policies: Go to one.newrelic.com, in the top nav click Alerts & AI, then click Notification channels. If a user has configured the New Relic mobile app, the user notification channel also sends push notifications to any of the user's registered mobile devices. If your account has one or more sub-accounts, the notification channel includes only users for the currently selected master or sub-account. Email We automatically add every individual and their email address on the selected account to the User notification channel and you can select them there. You don't need to add existing New Relic accounts to the Email channel. To add an email channel for other users, follow these guidelines: Field Description Email (required) In general, use the Email notification channel to identify user emails or email aliases that are not already on the selected account. For example, if you have a dev-ops@company.com email alias for your DevOps team, add the email alias to the Email channel. Otherwise, use the User notification channel to select specific users on your DevOps team. For easier maintenance, add a single non-user email address or alias to a single alert notification channel. If you want to use the email channel for more than one email, create an email group or alias outside your account. These email addresses can be the same as or different from email addresses already on your account. Users can unsubscribe from general (non-alerts-related) emails, but they cannot unsubscribe from alerts email notifications. Instead, the account Owner, Admin, or add-on manager must remove users from the policy's email notification channel. Include JSON attachment (optional) To include a JSON attachment with the email notification, select this checkbox. OpsGenie You must have an existing OpsGenie account integrated with New Relic in order to provide the following information: Field Description Channel name (required) A meaningful name for the OpsGenie notification channel (maximum 64 characters). API key (required) The API key generated from your OpsGenie integration used to authenticate API requests. Teams (optional) List of team names that are responsible for the alert. OpsGenie runs team escalation policies to calculate which users will receive notifications. Tags (optional) A comma-separated list of labels attached to the alert. Tip To overwrite the OpsGenie Quiet Hours setting for urgent alerts, add an OverwriteQuietHours tag. Recipients (optional) One or more names of users, groups, on-call schedules, escalation policies, etc., that OpsGenie uses to calculate where to send notifications. PagerDuty You must have an existing PagerDuty account in order to provide the following information: Field Description Service name (required) The name of your service integrating with PagerDuty for notifications. Integration key (required) The unique service identifier used by PagerDuty's Integration API to trigger, acknowledge, and resolve incidents for the service. Slack Before adding Slack notifications, you must create a unique webhook integration using Slack's New Relic integration. If you want web, transaction, server, and mobile alerts to be posted in separate channels, you must set up separate integrations for each one. Field Description Channel name (required) A meaningful name for the Slack notification channel (maximum 64 characters); for example, Network Ops Center. URL (required) Copy and paste the New Relic webhook integration URL that you've set up with Slack. For example: https://hooks.slack.com/services/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 Be sure to include https:// in the URL. Do not use http://. Team channel (optional) If used, include # before the name of the Slack channel where alert notifications are sent; for example, #NOC. VictorOps You must have an existing VictorOps account in order to provide the following required information: Field Description Channel name (required) A meaningful name for this notification channel (maximum 64 characters). For example, if the VictorOps Route key is for your Technical Support team, you could name this channel Tech Support - VictorOps. Key (required) VictorOps generates a unique key for each account. It maps the VictorOps account to its associated integrations. Route key (optional) This key maps the alert or incident to a specific team. Webhook Webhooks are HTTP POST messages containing JSON documents delivered to a destination URL. When an incident is opened, acknowledged, or closed, our webhook feature sends a message to your URL with any relevant information, such as a description of the event and a link back to New Relic. You also have the option to customize the payload in the POST message for further integration into your system. Important If your endpoint does not acknowledge the POST request within 10 seconds, the Alerts UI may indicate a failed notification event for the related incident. Before adding webhook notifications, you must have an endpoint set up to respond with a status code between 200 and 206 after receiving the following required information: Field Description Channel name (required) A meaningful name for the webhook (maximum 64 characters). Base url (required) The endpoint that will receive the POST message and trigger customized behaviors in your system. Caution If you want to include a port number in the webhook URL, make sure the port is available for requests. Otherwise the webhook will not work. Basic auth (optional) To require basic authentication for the webhook, select Add basic auth, and provide the user name and password to authenticate the webhook. Custom headers (optional) To include headers with webhooks, select Add custom headers, and provide the name and value for each header. Use custom payload (optional) To use the default values, leave blank. To view and edit the default values, select Add custom payload. Payload (for custom payloads only) Your customized POST message code. This field includes: A list of variables you can use Syntax highlighting, based on payload type Payload type (for custom payloads only) Specify the message format: JSON (default) or Form. xMatters You must have an existing xMatters account in order to provide the following information: Field Description Channel name (required) Name your channel so you can identify it easily when associating it with a policy. Integration url (required) The unique integration url provided by xMatters pointing to your xMatters account. Receive mobile push notifications Important In order to receive mobile push notifications, your device must be registered and listed in (account) > User preferences. If the device is not listed in User preferences, log out of the app, log back in, and check again to see if it is listed. To receive mobile push notifications: Log in to your New Relic account via the mobile app at least once to ensure the device is registered. Add the user channel to the alert policy. Switch push notifications On for the device. Acknowledge alert notifications Anyone in your account can acknowledge notifications through the user interface or email notification. Acknowledging an incident in New Relic also acknowledges any associated incident in PagerDuty.",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 297.53314,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "Notification channels: Control where to send <em>alerts</em>",
        "sections": "Notification channels: Control where to send <em>alerts</em>",
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": " to select existing account team members and admins. To view the Users list or to add users to <em>alert</em> <em>policies</em>: Go to one.newrelic.com, in the top nav click <em>Alerts</em> &amp; AI, then click Notification channels. If a user has configured the <em>New</em> <em>Relic</em> mobile app, the user notification channel also sends push"
      },
      "id": "603ecfbf64441f4ee54e885f"
    },
    {
      "sections": [
        "REST API calls for alerts",
        "Important",
        "Available data and functions via API",
        "Conditions excluded from the REST API",
        "Alert policies",
        "Create new policies",
        "Update policies",
        "Delete existing policies",
        "List existing policies",
        "Notification channels",
        "Create new notification channels",
        "Email channel",
        "OpsGenie channel",
        "Slack channel",
        "VictorOps channel",
        "PagerDuty channel",
        "Webhook (json) channel",
        "Webhook (x-www-form-urlencoded) channel",
        "Delete existing notification channels",
        "List existing notification channels",
        "Update notification channels associated with policies",
        "Delete notification channels associated with policies",
        "Conditions for APM, Browser, Mobile",
        "Create conditions for policies",
        "Update conditions for policies",
        "Delete conditions from policies",
        "List existing conditions for policies",
        "Conditions for NRQL",
        "Create NRQL conditions for policies",
        "Update NRQL conditions for policies",
        "Delete NRQL conditions for policies",
        "List existing NRQL conditions for policies",
        "Conditions for external services",
        "External services: Create conditions for policies",
        "External services: Update conditions for policies",
        "External services: Delete conditions from policies",
        "External services: List existing conditions for policies",
        "Conditions for Synthetic monitoring",
        "Synthetics: Create conditions for policies",
        "Synthetic monitoring: Update conditions for policies",
        "Synthetic monitoring: Delete conditions from policies",
        "Synthetic monitoring: List existing conditions for policies",
        "Conditions for plugins",
        "Plugins: Create conditions for policies",
        "Plugins: Update conditions for policies",
        "Plugins: Delete conditions from policies",
        "Plugins: List existing conditions for policies",
        "Alert activity: Events, violations, incidents",
        "List Events",
        "List Violations",
        "Tip",
        "List Incidents",
        "Show Incident",
        "Acknowledge Incident",
        "Close Incident",
        "Alert entity conditions",
        "List condition by entity",
        "Add an entity to a condition",
        "Remove an entity from a condition"
      ],
      "title": "REST API calls for alerts",
      "type": "docs",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "REST API alerts"
      ],
      "external_id": "7e36876e5725bfa63cbd6aadd543e98060f5e118",
      "image": "",
      "url": "https://docs.newrelic.com/docs/alerts-applied-intelligence/new-relic-alerts/rest-api-alerts/rest-api-calls-alerts/",
      "published_at": "2021-04-05T23:18:37Z",
      "updated_at": "2021-04-05T23:18:37Z",
      "document_type": "page",
      "popularity": 1,
      "body": "Our REST API (v2) allows you to configure settings for alerts. The API Explorer also includes the curl request format, available parameters, potential response status codes, and JSON response structure for each of the available API calls. You can also create alert conditions in the UI. Important For infrastructure alerting, see REST API for infrastructure monitoring alerts. Available data and functions via API REST API functions Comments View account data In general, any role can use a user key or REST API key with GET > List functions to view alerts data. The account Owner and Admins may use their API key. List output will be paginated. Available functions include: Alert policies Notification channels Conditions for APM, Browser, and Mobile (Some limitations apply.) Conditions for external services Conditions for Synthetic monitoring Conditions for Plugins Conditions for NRQL (Some limitations apply.) Events Violations Incidents Maintain account data You may have an Owner or Admin role in your account and a user key or have a custom role that grants permissions to manage Alerts and a user key in order to use any maintenance function, including POST > Create, PUT > Add, PUT > Update, and DELETE. Conditions excluded from the REST API These types of conditions do not have available endpoints in the API: APM: Web transaction percentiles, conditions targeting labels, and baselines NRQL: Baselines Alert policies These API functions include links to the API Explorer, where you can create, delete, or list policies. Important If your account hosts data in the EU data center, ensure you're using the proper API endpoints for EU region accounts. Create new policies To add new policies, use your user key and include these two values in the API call: Required values Definition Incident incident_preference Determines how Alerts will create incidents and group violations. This must be one of the following: PER_POLICY (default): Roll up by policy. PER_CONDITION: Roll up by condition. PER_CONDITION_AND_TARGET: Roll up by target and condition. Policy name The policy name is required. Leaving it unchanged will create a policy called string. API Explorer: Alerts Policies > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_policies.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"policy\": { \"incident_preference\": \"string\", \"name\": \"string\" } }' Copy Update policies Use this API to update an existing policy's name and incident_preference. You'll need your user key. Required values Definition id Required. To find a policy's ID, use either of these options: From the UI: On a policy's UI page, find the ID under the policy name. With the API: Use the List policies API. Incident incident_preference Determines how alerts will create incidents and group violations. Must be one of the following: PER_POLICY (default): Roll up by policy. PER_CONDITION: Roll up by condition. PER_CONDITION_AND_TARGET: Roll up by target and condition. Policy name Required. If you do not change the name, it defaults to a policy called string. To find a policy's exact name, use the List policies API. API Explorer: Alerts Policies > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_policies/{id}.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"policy\": { \"incident_preference\": \"string\", \"name\": \"string\" } }' Copy Delete existing policies To delete an existing policy, use your user key, and include the policy_id (available from API Explorer: Alerts Policies > GET > List) in the API call: API Explorer: Alerts Policies > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy List existing policies To view a list of existing policies for your account, use your user key, and include these optional values in the API call: Optional policy name filter Optional pagination value API Explorer: Alerts Policies > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_policies.json' \\ -H 'Api-Key:$API_KEY' -i Copy Notification channels These API functions include links to the API Explorer, where you can create, delete, or list Alerts notification channels. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. Create new notification channels To add new notification channels, use your user key and include these values in the API call: New channel's name Type of channel Configuration values The API Explorer shows the format for required configuration values for each type of notification channel. API Explorer: Alerts Channels > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_channels.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"channel\": { \"name\": \"string\", \"type\": \"string\", \"configuration\": \"hash\" } }' Copy The \"hash\" place holder in this example must be replaced by one of the following JSON blocks with the appropriate values substituted: Email channel { \"recipients\" : \"test@google.com\", \"include_json_attachment\" : true } Copy OpsGenie channel { \"api_key\": \"abc123\", \"teams\": \"team1\", \"tags\": \"tag1\", \"recipients\": \"me@me.com\" } Copy Slack channel { \"url\": \"http://test.com\", \"channel\": \"channel1\" } Copy VictorOps channel { \"key\": \"mykey\", \"route_key\": \"theroute\" } Copy PagerDuty channel { \"service_key\": \"myservicekey\" } Copy Webhook (json) channel This example shows the default payload inserted. (The payload attribute is optional.) The payload can be customized to have different keys than the ones shown and will be sent with the $ prefixed attributes interpolated prior to delivery. Important The condition_id is deprecated. Instead, use condition_family_id. { \"base_url\": \"http://test.com\", \"auth_username\": \"username\", \"auth_password\": \"password\", \"payload_type\": \"application/json\", \"headers\": { \"header1\": \"test\", \"header2\": \"test\" } \"payload\": { \"account_id\": \"$ACCOUNT_ID\", \"account_name\": \"$ACCOUNT_NAME\", \"closed_violations_count_critical\": \"$CLOSED_VIOLATIONS_COUNT_CRITICAL\", \"closed_violations_count_warning\": \"$CLOSED_VIOLATIONS_COUNT_WARNING\", \"condition_family_id\": \"$CONDITION_FAMILY_ID\", \"condition_id\": \"$CONDITION_ID\", \"condition_name\": \"$CONDITION_NAME\", \"current_state\": \"$EVENT_STATE\", \"details\": \"$EVENT_DETAILS\", \"duration\": \"$DURATION\", \"event_type\": \"$EVENT_TYPE\", \"incident_acknowledge_url\": \"$INCIDENT_ACKNOWLEDGE_URL\", \"incident_id\": \"$INCIDENT_ID\", \"incident_url\": \"$INCIDENT_URL\", \"open_violations_count_critical\": \"$OPEN_VIOLATIONS_COUNT_CRITICAL\", \"open_violations_count_warning\": \"$OPEN_VIOLATIONS_COUNT_WARNING\", \"owner\": \"$EVENT_OWNER\", \"policy_name\": \"$POLICY_NAME\", \"policy_url\": \"$POLICY_URL\", \"runbook_url\": \"$RUNBOOK_URL\", \"severity\": \"$SEVERITY\", \"targets\": \"$TARGETS\", \"timestamp\": \"$TIMESTAMP\", \"violation_callback_url\": \"$VIOLATION_CALLBACK_URL\", \"violation_chart_url\": \"$VIOLATION_CHART_URL\" } } Copy Webhook (x-www-form-urlencoded) channel This example shows the default payload inserted. (The payload attribute is optional.) The payload can be customized to have different keys than the ones shown and will be sent with the $ prefixed attributes interpolated prior to delivery. Important The condition_id is deprecated. Instead, use condition_family_id. { \"base_url\": \"http://test.com\", \"auth_username\": \"username\", \"auth_password\": \"password\", \"payload_type\": \"application/x-www-form-urlencoded\", \"headers\": { \"header1\": \"test\", \"header2\": \"test\" }, \"payload\": { \"account_id\": \"$ACCOUNT_ID\", \"account_name\": \"$ACCOUNT_NAME\", \"closed_violations_count_critical\": \"$CLOSED_VIOLATIONS_COUNT_CRITICAL\", \"closed_violations_count_warning\": \"$CLOSED_VIOLATIONS_COUNT_WARNING\", \"condition_family_id\": \"$CONDITION_FAMILY_ID\", \"condition_id\": \"$CONDITION_ID\", \"condition_name\": \"$CONDITION_NAME\", \"current_state\": \"$EVENT_STATE\", \"details\": \"$EVENT_DETAILS\", \"duration\": \"$DURATION\", \"event_type\": \"$EVENT_TYPE\", \"incident_acknowledge_url\": \"$INCIDENT_ACKNOWLEDGE_URL\", \"incident_id\": \"$INCIDENT_ID\", \"incident_url\": \"$INCIDENT_URL\", \"open_violations_count_critical\": \"$OPEN_VIOLATIONS_COUNT_CRITICAL\", \"open_violations_count_warning\": \"$OPEN_VIOLATIONS_COUNT_WARNING\", \"owner\": \"$EVENT_OWNER\", \"policy_name\": \"$POLICY_NAME\", \"policy_url\": \"$POLICY_URL\", \"runbook_url\": \"$RUNBOOK_URL\", \"severity\": \"$SEVERITY\", \"targets\": \"$TARGETS\", \"timestamp\": \"$TIMESTAMP\", \"violation_callback_url\": \"$VIOLATION_CALLBACK_URL\", \"violation_chart_url\": \"$VIOLATION_CHART_URL\" } } Copy Delete existing notification channels To delete an existing notification channels, use your user key, and include the channel_id (available from API Explorer: Alerts Channels > GET > List) in the API call: API Explorer: Alerts Channels > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_channels/{channel_id}.json' \\ -H 'Api-Key:$API_KEY' -i Copy List existing notification channels To view a list of existing notification channels for your account, use your user key and an optional pagination value in the API call. API Explorer: Alerts Channels > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_channels.json' \\ -H 'Api-Key:$API_KEY' -i Copy Update notification channels associated with policies You can associate a policy with one or more notification channels. You can also associate a notification channel with one or more policies. To add notification channels to policies, use your user key and these values in the API call: A policy_id value (available from API Explorer: Alerts Policies > GET > List) One or more channel_id values in an array, separated by commas or a new line (available from API Explorer: Alerts Channels > GET > List) API Explorer: Alerts Policy Channels > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_policy_channels.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -G -d 'policy_id=$POLICY_ID&channel_ids=channel_id' Copy Delete notification channels associated with policies You can associate a policy with one or more notification channels. You can also associate a notification channel with one or more alert policies. To remove a policy from a channel, or to remove a channel from a policy, use your user key and these values in the API call: The policy_id (available from API Explorer: Alerts Policies > GET > List) The channel_id (available from API Explorer: Alerts Channels > GET > List) API Explorer: Alerts Policy Channels > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_policy_channels.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'channel_id=CHANNEL_ID&policy_id=POLICY_ID' Copy Conditions for APM, Browser, Mobile These API functions include links to the API Explorer, where you can create, update, delete, or list policy conditions. These calls are for conditions with these types of entities: APM: Apps and key transactions Browser: Apps and key transactions Mobile: Mobile apps Exception: The following APM conditions are not available from this API endpoint: Conditions targeting labels (dynamic targeting) Web transaction percentile conditions Baseline conditions Important The API Explorer provides information about other types of conditions using separate endpoints, including external services (APM and Mobile), plugins, and Synthetic monitoring. Consider all types of alert conditions when searching or updating. If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. Create conditions for policies To add conditions to policies, include these values in the API call: Your user key The policy_id (available from API Explorer: Alerts Policies > GET > List) The required condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Conditions > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"condition\": { \"type\": \"string\", \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"metric\": \"string\", \"gc_metric\": \"string\", \"condition_scope\": \"string\", \"violation_close_timer\": integer, \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"user_defined\": { \"metric\": \"string\", \"value_function\": \"string\" } } }' Copy The JSON response returns a condition id, which you will need to update or delete the condition. You can also view the condition id from API Explorer: Alerts Conditions > GET > List. Update conditions for policies To update conditions for policies, include these values in the API call: Your user key The condition's id (available from API Explorer: Alerts Conditions > GET > List) The required condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"condition\": { \"type\": \"string\", \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"metric\": \"string\", \"metric\": \"string\", \"gc_metric\": \"string\", \"condition_scope\": \"string\", \"violation_close_timer\": integer, \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"user_defined\": { \"metric\": \"string\", \"value_function\": \"string\" } } }' Copy Delete conditions from policies To delete conditions from policies, include these values in the API call: Your user key The condition_id (available from API Explorer: Alerts Conditions > GET > List) API Explorer: Alerts Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy List existing conditions for policies To view a list of existing conditions for your policy, use your REST API key or user key, and the associated policy_id in the API call. API Explorer: Alerts Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Conditions for NRQL These API functions include links to the API Explorer, where you can create, update, delete, or list NRQL conditions for your policies. Exception: NRQL baseline conditions are not available from this endpoint. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. Create NRQL conditions for policies Recommendation: Due to the way NRQL data is aggregated, set the nrql[since_value] to 3 or higher to prevent false positives. This equates to the Evaluation Offset value in the Alerts Condition UI. API Explorer: Alerts Nrql Conditions > POST > Create To create NRQL conditions for policies: curl -X POST 'https://api.newrelic.com/v2/alerts_nrql_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"nrql_condition\": { \"type\": \"string\", \"name\": \"string\", \"runbook_url\": \"string\", \"enabled\": boolean, \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"value_function\": \"string\", \"nrql\": { \"query\": \"string\", \"since_value\": \"string\" }, \"signal\": { \"aggregation_window\": \"string\", \"evaluation_offset\": \"string\", \"fill_option\": \"string\", \"fill_value\": \"string\" }, \"expiration\": { \"expiration_duration\": \"string\", \"open_violation_on_expiration\": boolean, \"close_violations_on_expiration\": boolean } } }' Copy If you set nrql[since_value] to 3 and nrql[query] to SELECT count FROM myEvent, New Relic evaluates the following query against the terms[threshold] value once per minute: SELECT count FROM myEvent SINCE 3 minutes ago UNTIL 2 minutes ago Copy If you set type as outlier, you can omit the value_function. However, two additional fields are required: expected_groups and ignore_overlap. For more information, see Alerts Conditions API field names. If you omit type or set it as static, it will default to standard NRQL alerting. Update NRQL conditions for policies Recommendation: Due to the way NRQL data is aggregated, set the nrql[since_value] to 3 or higher to prevent false positives. This allows three minutes to aggregate data, and equates to the Evaluation Offset value in the Alerts Condition UI. To update NRQL conditions for policies, include these values in the API call: Your user key The condition's id (available from API Explorer: Alerts Nrql Conditions > GET > List) The required condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Nrql Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"nrql_condition\": { \"name\": \"string\", \"runbook_url\": \"string\", \"enabled\": boolean, \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"value_function\": \"string\", \"nrql\": { \"query\": \"string\", \"since_value\": \"string\" } } }' Copy Delete NRQL conditions for policies To delete NRQL conditions from policies, include these values in the API call: Your user key The condition's id (available from API Explorer: Alerts Nrql Conditions > GET > List) API Explorer: Alerts Nrql Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy List existing NRQL conditions for policies To view a list of existing conditions for your alert policy, use your user key or REST API key, and the associated policy_id in the API call. API Explorer: Alerts Nrql Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_nrql_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Conditions for external services These API functions include links to the API Explorer, where you can create, update, delete, or list policy conditions. These calls are for conditions for external services. The API calls can be used with APM and Mobile apps. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. External services: Create conditions for policies To add conditions for external services to policies that have APM or Mobile apps, include these values in the API call: Your user key The policy_id (available from API Explorer: Alerts Policies > GET > List) The required external_service_condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts External Service Conditions > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_external_service_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"external_service_condition\": { \"type\": \"string\", \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"external_service_url\": \"string\", \"metric\": \"string\", \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ] } }' Copy The JSON response returns a condition id, which you will need to update or delete the condition. You can also view the condition id from API Explorer: Alerts External Service Conditions > GET > List. External services: Update conditions for policies To update conditions for external services to policies that have APM or Mobile apps, include these values in the API call: Your user key The external service condition's id (available from API Explorer: Alerts External Service Conditions > GET > List) The required external_service_condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts External Service Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"external_service_condition\": { \"type\": \"string\", \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"external_service_url\": \"string\", \"metric\": \"string\", \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ] } }' Copy External services: Delete conditions from policies To delete conditions for external services from policies with APM or Mobile apps, include these values in the API call: Your user key The condition_id (available from API Explorer: Alerts External Service Conditions > GET > List) API Explorer: Alerts External Service Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy External services: List existing conditions for policies To view a list of existing conditions for policies with external service apps (APM or Mobile), use your user key or REST API key and the associated policy_id in the API call. API Explorer: Alerts External Service Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_external_service_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Conditions for Synthetic monitoring These API functions include links to the API Explorer, where you can create, update, delete, or list conditions for your alert policies. The API calls can be used with Synthetic monitoring. Synthetics: Create conditions for policies To add conditions to policies for Synthetic monitoring, include these values in the API call: Your user key The policy_id (available from API Explorer: Alerts Policies > GET > List) The required synthetics_condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Synthetics Conditions > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_synthetics_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"synthetics_condition\": { \"name\": \"string\", \"monitor_id\": \"string\", \"runbook_url\": \"string\", \"enabled\": boolean } }' Copy The JSON response returns a condition id, which you will need to update or delete the condition. You can also view the condition id from API Explorer: Alerts Synthetics Conditions > GET > List. Synthetic monitoring: Update conditions for policies To update policy conditions for Synthetic monitoring, include these values in the API call: Your user key The condition id (available from API Explorer: Alerts Synthetics Conditions > GET > List) The required synthetics_condition values in the API call (described in the API Explorer page to create alert conditions for Synthetics and in the Alerts conditions API glossary) API Explorer: Alerts Synthetics Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_synthetics_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"synthetics_condition\": { \"name\": \"string\", \"monitor_id\": \"string\", \"runbook_url\": \"string\", \"enabled\": boolean } }' Copy Synthetic monitoring: Delete conditions from policies To delete policy conditions for Synthetic monitoring, include these values in the API call: Your user key The condition_id (available from API Explorer: Alerts Synthetics Conditions > GET > List) API Explorer: Alerts Synthetics Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_synthetics_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy Synthetic monitoring: List existing conditions for policies To view a list of existing policy conditions for Synthetic monitoring, use your user key or REST API key, and the associated policy_id in the API call. API Explorer: Alerts Synthetics Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_synthetics_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Conditions for plugins These API functions include links to the API Explorer, where you can create, update, delete, or list conditions for your alert policies. The API calls can be used with plugins from New Relic's Plugin Central. Plugins: Create conditions for policies To add conditions to policies for plugin components or instances, include these values in the API call: Your user key The policy_id (available from API Explorer: Alerts Policies > GET > List) The required plugins_condition values in the API call (described in the API Explorer page and in the Alerts conditions API glossary) API Explorer: Alerts Plugins Conditions > POST > Create curl -X POST 'https://api.newrelic.com/v2/alerts_plugins_conditions/policies/$POLICY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"plugins_condition\": { \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"metric_description\": \"string\", \"metric\": \"string\", \"value_function\": \"string\", \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"plugin\": { \"id\": \"string\", \"guid\": \"string\" } } }' Copy The JSON response returns a condition id, which you will need to update or delete the condition. You can also view the condition id from API Explorer: Alerts Plugins Conditions > GET > List. Plugins: Update conditions for policies To update policy conditions for plugin components or instances, include these values in the API call: Your user key The condition id (available from API Explorer: Alerts Plugins Conditions > GET > List) The required plugins_condition values in the API call (described in the API Explorer page to create alert conditions for plugins and in the Alerts conditions API glossary) API Explorer: Alerts Plugins Conditions > PUT > Update curl -X PUT 'https://api.newrelic.com/v2/alerts_plugins_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -d \\ '{ \"plugins_condition\": { \"name\": \"string\", \"enabled\": boolean, \"entities\": [ integer ], \"metric_description\": \"string\", \"metric\": \"string\", \"value_function\": \"string\", \"runbook_url\": \"string\", \"terms\": [ { \"duration\": \"string\", \"operator\": \"string\", \"priority\": \"string\", \"threshold\": \"string\", \"time_function\": \"string\" } ], \"plugin\": { \"id\": \"string\", \"guid\": \"string\" } } }' Copy Plugins: Delete conditions from policies To delete conditions from policies for plugin components or instances, include these values in the API call: Your user key The condition id (available from API Explorer: Alerts Plugins Conditions > GET > List) API Explorer: Alerts Plugins Conditions > DELETE > Delete curl -X DELETE 'https://api.newrelic.com/v2/alerts_plugins_conditions/$CONDITION_ID.json' \\ -H 'Api-Key:$API_KEY' -i Copy Plugins: List existing conditions for policies To view a list of existing conditions for policies with plugin components or instances, use your user key or REST API key, and the associated policy_id in the API call. API Explorer: Alerts Plugins Conditions > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_plugins_conditions.json' \\ -H 'Api-Key:$API_KEY' -i \\ -d 'policy_id=$POLICY_ID' Copy Alert activity: Events, violations, incidents These API functions include links to the API Explorer, where you can view information about events, violations, and incidents for your alert policies. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. List Events To view events for entities monitored by APM, Browser, Mobile, Plugins, Synthetic monitoring, and Alerts, include these values in the API call: Your user key or REST API key Other optional values to use as filters (described in the API Explorer page) that depend on the type of product (browser monitoring, mobile monitoring, etc.), entity (as apps or key transactions for APM, synthetic monitoring, etc.), and type of event (notification, deployment, instrumentation, etc.) An optional pagination value API Explorer: Alerts Events > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_events.json' \\ -H 'Api-Key:$API_KEY' -i Copy List Violations To view violations for any entity monitored for your account, include these values in the API call: Your user key or REST API key An optional flag to show only those violations that are currently open An optional pagination value API Explorer: Alerts Violations > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_violations.json' \\ -H 'Api-Key:$API_KEY' -i Copy Tip To find policy, condition, and incident information: take the IDs found in the links section in the violations property and place them into the URLs contained in the outer links property of the payload. List Incidents To view incidents for any entity monitored for your account, include these values in the API call: Your user key or REST API key An optional flag to show only those incidents that are currently open An optional flag to exclude violation data from response An optional pagination value API Explorer: Alerts Incidents > GET > List curl -X GET 'https://api.newrelic.com/v2/alerts_incidents.json' \\ -H 'Api-Key:$API_KEY' -i Copy Show Incident To show a single incident associated with your account, include these values in the API call: Your user key or REST API key An incident ID API Explorer: Alerts Incidents > GET > Show curl -X GET 'https://api.newrelic.com/v2/alerts_incidents/{id}.json' \\ -H 'Api-Key:$API_KEY' -i Copy Acknowledge Incident To acknowledge an incident associated with your account, include these values in the API call: Your user key An incident ID API Explorer: Alerts Incidents > PUT > Acknowledge curl -X PUT 'https://api.newrelic.com/v2/alerts_incidents/{id}/acknowledge.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' Copy Close Incident To close an incident associated with your account, include these values in the API call: Your user key An incident ID API Explorer: Alerts Incidents > PUT > Close curl -X PUT 'https://api.newrelic.com/v2/alerts_incidents/{id}/close.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' Copy Alert entity conditions These API functions include links to the API Explorer, where you can list, add and remove entities in the conditions for your alert policies. Important If your account hosts data in the EU data center, ensure you are using the proper API endpoints for EU region accounts. List condition by entity To view the conditions an entity is part of for APM, Browser, Mobile, key transactions, and Plugins, include these values in the API call: Your user key or REST API key The entity_id This is the specific entity (alert target) to be monitored. The entity_type, which must be one of the following: Application BrowserApplication MobileApplication KeyTransaction Plugin API Explorer: Alerts Entity Conditions > GET > list curl -X GET 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -G -d 'entity_type=$ENTITY_TYPE' Copy Add an entity to a condition To add an entity to a condition, include these values in the API call: Your user key The entity_id This is the entity (alert target) to be monitored. It is the numeric ID for the APM application, browser app, plugin, key transaction, or mobile app. The condition_id (available from API Explorer: Alerts Conditions > GET > List) The entity_type, which must be one of the following: Application BrowserApplication MobileApplication KeyTransaction Plugin API Explorer: Alerts Entity Conditions > PUT > Add curl -X PUT 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -H 'Content-Type: application/json' \\ -G -d 'entity_type=$ENTITY_TYPE&condition_id=$CONDITION_ID' Copy Remove an entity from a condition To remove an entity being monitored from a condition, include these values in the API call: Your user key The entity_id This is the specific monitored entity (alert target) to be removed. It is the numeric ID for the APM application, browser app, plugin, key transaction, or mobile app. The condition_id (available from API Explorer: Alerts Conditions > GET > List) The entity_type, which must be one of the following: Application BrowserApplication MobileApplication KeyTransaction Plugin API Explorer: Alerts Entity Conditions > DELETE > Remove curl -X DELETE 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \\ -H 'Api-Key:$API_KEY' -i \\ -G -d 'entity_type=$ENTITY_ID&condition_id=$CONDITION_ID' Copy",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 288.2884,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "REST API calls for <em>alerts</em>",
        "sections": "<em>Alert</em> <em>policies</em>",
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": "&#x2F;<em>alerts</em>_synthetics_conditions.json&#x27; \\ -H &#x27;Api-Key:$API_KEY&#x27; -i \\ -d &#x27;policy_id=$POLICY_ID&#x27; Copy Conditions for plugins These API functions include links to the API Explorer, where you can create, update, delete, or list conditions for your <em>alert</em> <em>policies</em>. The API calls can be used with plugins from <em>New</em>"
      },
      "id": "603ec3d064441f50e94e8847"
    },
    {
      "sections": [
        "アラート条件を作成する",
        "条件の作成",
        "重要",
        "条件のタイプ",
        "NRQLクエリ条件",
        "APMメトリックアラート条件",
        "ベースライン条件",
        "外れ値検出条件",
        "複数の場所におけるSyntheticsモニタリングの条件",
        "キートランザクションメトリクス条件",
        "Javaインスタンス条件",
        "JVM健全性メトリクス条件（Javaアプリ）",
        "ウェブトランザクションのパーセンタイル条件",
        "ヒント",
        "アプリのラベルを使用した動的ターゲティング",
        "インフラストラクチャの条件",
        "Apdexとレスポンスタイムの条件",
        "条件の名前を変更",
        "ポリシーと条件を管理する",
        "既存の条件を表示する",
        "その他のヘルプ"
      ],
      "title": "アラート条件を作成する",
      "type": "docs-jp",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "Alert conditions"
      ],
      "external_id": "2bbd04fc373c311b184fd7a08718611882e3191f",
      "image": "",
      "url": "https://docs.newrelic.com/jp/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-alert-conditions/",
      "published_at": "2021-04-06T05:23:41Z",
      "updated_at": "2021-04-06T05:23:41Z",
      "document_type": "page",
      "popularity": 1,
      "body": "条件では、監視されたデータソース、そして違反と見なされるデータソースの行動を定義する閾値が含まれます。本ドキュメントでは、利用可能な条件の種類、条件の作成方法、そして既存条件の確認方法について解説しています。 関連ドキュメント： 基本コンセプトとワークフロー 最小/最大限度（1つのポリシーあたりの最大条件数など） REST APIでアラート設定をリスト化または編集する NRQL Condition NerdGraph APIにより、NerdGraph経由でNRQLアラート条件を管理します。 条件の作成 条件を作成するには： ポリシーを作成すると、条件を追加するよう自動的にプロンプトが表示されます。 または 既存のポリシーのページから、Create/add a conditionを選択します。 次のものを含む、UIのプロンプトに従います。 製品/データソースの選択 条件タイプの選択 閾値の定義 オプション：条件の作成が終わったら、その条件をコピーし、その他のポリシーに追加します。 重要 数値の入力フィールドがある条件は、小数第2位までの数値を受け入れます。たとえば、0.01が最小限の値です。 条件のタイプ 条件のさまざまなタイプの説明は次のとおりです。 NRQLクエリ条件 UIまたはNerd-Graph APIを使用して、数値を返すベーシックなNRQLクエリに対するNRQL条件を作成することができます。 APMメトリックアラート条件 NRQLを使用してのAPM条件の作成に関するヒントについては、APMメトリックアラート条件をご覧ください。 ベースライン条件 ベースラインアラートでは、週ごと、または季節ごとのパターンなど、変化するデータとトレンドに動的に適応する条件を作成できます。この機能は、APMおよびBrowserアプリケーションのほか、NRQLクエリでも利用できます。 外れ値検出条件 外れ値検出は、データ内のグループの検索を試み、これらのグループからの外れ値である値を探します。外れ値検出は、NRQLアラート用にしか利用できません。 複数の場所におけるSyntheticsモニタリングの条件 複数の場所におけるSyntheticsモニタリングの条件を使用して、モニターを設定し、特定の数の場所で同時に障害が発生している場合に通知を受けられます。 キートランザクションメトリクス条件 APMでは、キートランザクションの条件を設定できます。 Javaインスタンス条件 閾値は、Javaアプリインスタンスのメトリックがその閾値を超えた場合に違反をオープンするように設定できます。 閾値を特定のインスタンスにスコープすることで、潜在的な問題がどこで発生しているかをより迅速に突き止めることができます。例えば、アプリのインスタンスのサブセットのみで発生している異常を検出する場合に便利です。膨大な数のインスタンスにわたってメトリックスを集計するアプリの場合、このタイプの異常は容易に見過ごされてしまいます。 JVM健全性メトリクス条件（Javaアプリ） APMによって監視されるJavaアプリケーションの場合、単一のJVMのヒープサイズまたはスレッド数が予想される動作範囲外にある場合に違反をオープンする閾値を設定できます。 アプリの選択したインスタンスのそれぞれに対して、個別にアラートの閾値の違反を計算します。条件を作成する際、Javaアプリのアラートポリシーに対する条件タイプとしてJVM health metricを選択し、いずれかの利用可能な閾値を選択してください。 スレッドのデッドロック ヒープメモリの使用 CPU利用時間 ガベージコレクションのCPU時間 違反は、閾値の逆数が満たされると自動的に閉じますが、UIを使用すると、JVM稼働メトリックに関する違反が強制終了する時間も変更できます。デフォルトは24時間です。 ウェブトランザクションのパーセンタイル条件 条件には閾値としてパーセンタイルを定義するオプションが含まれます。この条件は、ウェブアプリのレスポンスタイムがこの値を上回る、下回る、または等しい場合として設定します。このオプションは、例えば、運用スタッフがウェブの平均レスポンスタイムでなく、アプリケーションサーバーの全体的なウェブトランザクションのパーセンタイルについてアラートを発生させる場合に便利です。 ヒント ウェブアプリケーション以外のトランザクションに対して、条件内に任意の閾値を設定する場合、NRQLクエリ機能を使用してください。 パーセンタイル閾値を定義するには： APMアプリの条件に対する条件タイプとして、Web transactions percentilesを選択し、1つのアプリを選択します。（複数のアプリにアラートを作成するには、各アプリに個別にWeb transactions percentiles条件を作成してください。） 違反をオープンする閾値を定義するには、Percentile nthレスポンスタイム値を入力し、その頻度（この値より大きい、小さい、または等しい）を選択します。 ユーザーインタフェースにはクリティカルと警告の値が秒単位で表示されますが、New Relicにはトランザクションタイムがミリ秒で保存されます。ミリ秒で定義する場合は、値に小数点を含めます。 アプリのラベルを使用した動的ターゲティング アプリケーションにラベルを適用することで、条件にこれらのエンティティを自動的にリンクさせることができます。これにより、すべてのアプリケーションを動的環境内で簡単に管理できます。エンティティラベルを最適な状態で管理するため、エージェントの設定ファイルを使用するようお勧めします。 1つのラベルを使用して、関連のあるすべてのエンティティ（最大10,000エンティティ）を識別できます。複数のラベルは、選択されたラベルをすべて共有するエンティティのみ識別します。 条件と合わせてダイナミックターゲティングを利用するには、違反クローズタイマーを設定する必要もあります。 1つの条件に対して最高で10個のラベルを追加、編集、削除するには： 製品タイプとして、APM > Application metricを選択します。 エンティティを識別するには、 Labelsタブを選択します。ラベルを名前で検索するか、カテゴリーのリストからラベルを選択します。 Infrastructureを使用して、監視対象の条件を直接作成することもできます。 インフラストラクチャの条件 Infrastructureから直接、リソースに対する条件を作成できます。 たとえば、Infrastructureエージェントからデータが受信されなくなったときに通知を受信するには、host not reportingの条件タイプを使用します。これにより、フィルタリングされたホストグループに対してアラートを動的に送信し、5〜60分の時間枠を設定できるようになります。 Apdexとレスポンスタイムの条件 レスポンスタイムに対する違反をオープンし、通知を送信できます。ただし、ほとんどの場合、Apdexスコアは有用性がより高く、アプリケーションパフォーマンスをより正確に反映します。例えば、異常値が存在する場合、平均応答時間は結果に歪みが生じることがありますが、Apdexスコアはユーザーの許容レスポンスタイムをより正確に評価します。 条件の名前を変更 デフォルトの条件の名前を変更する場合は、分かりやすい短い名前を使用してください。電子メールの件名の行、オンラインチャットなど、文字制限のある通知メッセージには有益な情報を提供してください。 キャメルケースまたはドット付き10進表記を使用します。 何に違反しているのか簡潔に説明します。 既存の条件の名前を変更するには： one.newrelic.com のトップナビゲーションで、Alerts & AIをクリックし、Alert policiesをクリックしてから（ポリシーを選択をクリックします。 条件の名前をクリックして編集してから、条件に見合う名前を入力します。 条件に関連付けられている製品と条件タイプは、編集できません。代わりに、条件を削除して別の製品および条件タイプで新たに作成してください。 ポリシーと条件を管理する 条件を保存すると、現在選択されているポリシーに、その条件に適用されるすべてのアラート条件がリストされます。ここから、以下の操作を行えます。 ポリシーにさらなる条件を追加するステップを繰り返す。 ポリシーのセットアッププロセスに、1つまたは複数の通知チャネルを追加することで、このプロセスを続ける。 条件名、その条件名の適用範囲内のエンティティ、またはクリティカル（赤）と警告（黄）の閾値を変更する。 条件をコピーし、選択したアカウントにおける他のアラートポリシーにその条件を追加する。 ポリシーの名前を変更する。 ポリシー内の一切の条件を無効化するか、ポリシーもしくはその条件のいずれかを削除する。 また、Nerd-GraphポリシーAPI経由でポリシーを管理することもできます。 既存の条件を表示する ポリシーの索引で、アルファベット順に条件が一覧表示されます。既存の条件を表示するか検索するには： one.newrelic.com のトップナビゲーションで、Alerts & AIをクリックしてから、Alert policiesをクリックします。 検索ボックスを使用して、列をソートするかリストをスクロールして、ポリシー名を選択して条件を表示します。 特定のエンティティのポリシーと条件情報を表示するには：そのエンティティの製品UIから、Settingsを選択し、 Alert conditionsをクリックします。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 260.45685,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": "トップナビゲーションで、<em>Alerts</em> &amp; AIをクリックしてから、<em>Alert</em> <em>policies</em>をクリックします。 検索ボックスを使用して、列をソートするかリストをスクロールして、ポリシー名を選択して条件を表示します。 特定のエンティティのポリシーと条件情報を表示するには：そのエンティティの製品UIから、Settingsを選択し、 <em>Alert</em> conditionsをクリックします。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールである<em>New</em> <em>Relic</em> Diagnosticsを実行します。 <em>New</em> <em>Relic</em>のデータセキュリティとライセンスドキュメントを見直してください。"
      },
      "id": "60526c24196a677b8e2d1628"
    },
    {
      "sections": [
        "webhookペイロードのカスタマイズ",
        "Webhookを定義する",
        "Webhookの値",
        "ターゲット値",
        "Webhookの書式の例",
        "JSON Webhookの例",
        "重要",
        "フォームWebhookの例",
        "テキスト形式出力",
        "その他のヘルプ"
      ],
      "title": "webhookペイロードのカスタマイズ",
      "type": "docs-jp",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "Alert notifications"
      ],
      "external_id": "e7a046be0a08e5db6c6ee8110b1ae6c927ec9460",
      "image": "",
      "url": "https://docs.newrelic.com/jp/docs/alerts-applied-intelligence/new-relic-alerts/alert-notifications/customize-your-webhook-payload/",
      "published_at": "2021-04-06T07:42:17Z",
      "updated_at": "2021-04-06T07:42:16Z",
      "document_type": "page",
      "popularity": 1,
      "body": "Webhookをアラート通知チャネルとして使用する場合は、デフォルト値を使用できます。POSTメッセージのペイロードをカスタマイズして、システムインテグレーションをさらに高めることもできます。 Webhookを定義する JSON Webhookを定義する場合は、\"name\":\"value\",の書式を使用します。例えば： \"current_state\":\"acknowledged\", コピー フォームペイロードで静的なWebhookを定義する場合は、name=\"value\"の形式を使用します。例えば： current_state=\"acknowledged\" コピー Webhookに自己署名したカスタムのSSL証明書は含めないでください。当社エージェントでは、デフォルトでSSLが有効になります。当社のセキュリティポリシーにより、カスタムSSL証明書は当社Trustストアにインポートされません。 Webhookの値 当社は、以下のデフォルトの動的なwebhookの値に対応しています。利便性を考慮して、値はアルファベット順に表示されていますが、Webhookの値は順不同で定義できます。独自のキーの値のペアを用いて、カスタム変数を追加することもできます。 キー 変数 \"account_id\" $ACCOUNT_ID 設定可能な値： New RelicアカウントのID（文字列） \"account_name\" $ACCOUNT_NAME 設定可能な値： New Relicアカウントの名前（文字列） \"closed_violations_count_critical\" $CLOSED_VIOLATIONS_COUNT_CRITICAL \"closed_violations_count_warning\" $CLOSED_VIOLATIONS_COUNT_WARNING \"condition_id\" $CONDITION_ID \"condition_description\" $DESCRIPTION これには、アラート条件の説明フィールドが含まれます（存在する場合）。 \"condition_name\" $CONDITION_NAME 設定可能な値： （ユーザー定義文字列） \"current_state\" $EVENT_STATE 設定可能な値： [open|acknowledged|closed] \"details\" $EVENT_DETAILS \"duration\" $DURATION \"event_type\" $EVENT_TYPE 許容数値: [INCIDENT] \"incident_acknowledge_url\" $INCIDENT_ACKNOWLEDGE_URL \"incident_id\" $INCIDENT_ID \"incident_url\" $INCIDENT_URL \"metadata\" $METADATA 現在、Syntheticモニタリングの複数の場所における障害条件でのみ使用されています \"open_violations_count_critical\" $OPEN_VIOLATIONS_COUNT_CRITICAL \"open_violations_count_warning\" $OPEN_VIOLATIONS_COUNT_WARNING \"owner\" $EVENT_OWNER \"policy_name\" $POLICY_NAME 設定可能な値： （ユーザー定義文字列） \"policy_url\" $POLICY_URL \"runbook_url\" $RUNBOOK_URL \"severity\" $SEVERITY 設定可能な値： [CRITICAL] \"targets\" $TARGETS $TARGETS変数はFORMデータとともに使用できませんが、JSONデータと互換性があります。 静的なNRQLファセット型アラートの場合は、アラートをトリガーしたファセット名がターゲットの名前フィールドに自動入力されます。 使用可能なフィールドの説明については、ターゲット値を参照してください。 \"timestamp\" $TIMESTAMP \"timestamp_utc_string\" $TIMESTAMP_UTC_STRING YYYY-MM-DD, HH:MM UTC形式の人間が判読できるタイムスタンプ。 \"version\" $VERSION \"violation_callback_url\" $VIOLATION_CALLBACK_URL \"violation_chart_url\" $VIOLATION_CHART_URL ターゲット値 このセクションでは、Webhookの$TARGETSフィールドについて説明します。このデータはカスタマイズ不能で、参照用にここに提供されています。$TARGETSには、0 個以上のターゲット（エンティティ）のリストが含まれています。各ターゲットは、次のフィールドを含む JSON オブジェクトによって説明されます。 キー 変数 \"id\" ターゲットまたはエンティティの ID \"name\" ターゲットまたはエンティティの名前 \"labels\" 条件の評価から派生したエンティティタグと NRQL ファセットの組み合わせ、および使用可能なエンティティタグ。 \"link\" このターゲットまたはエンティティへのURLリンク。 \"product\" このターゲットまたはエンティティの製品タイプ（例：APM） \"type\" 製品に含まれるこのターゲットまたはエンティティの製品タイプ（例：アプリケーション） Webhookの書式の例 以下の例は、デフォルトの動的変数とカスタム変数の両方を使用したWebhookペイロードを示したものです。独自のペイロードを定義するにあたっては、動的変数の全てもしくは一部、並びに任意のカスタム変数を使用できます。 JSON Webhookの例 重要 以下のWebhookの例には、読みやすくするために余分なスペースと改行が挿入されています。実際のWebhookの応答は、連続した1行のテキストとして配信されます。\"team\": \"DevOps\"行は、カスタム変数の例です。 { \"account_id\": \"$ACCOUNT_ID\", \"account_name\": \"$ACCOUNT_NAME\", \"closed_violations_count_critical\": \"$CLOSED_VIOLATIONS_COUNT_CRITICAL\", \"closed_violations_count_warning\": \"$CLOSED_VIOLATIONS_COUNT_WARNING\", \"condition_family_id\": \"$CONDITION_FAMILY_ID\", \"condition_id\": \"$CONDITION_ID\", \"condition_name\": \"$CONDITION_NAME\", \"current_state\": \"$EVENT_STATE\", \"details\": \"$EVENT_DETAILS\", \"duration\": \"$DURATION\", \"event_type\": \"$EVENT_TYPE\", \"incident_acknowledge_url\": \"$INCIDENT_ACKNOWLEDGE_URL\", \"incident_id\": \"$INCIDENT_ID\", \"incident_url\": \"$INCIDENT_URL\", \"open_violations_count_critical\": \"$OPEN_VIOLATIONS_COUNT_CRITICAL\", \"open_violations_count_warning\": \"$OPEN_VIOLATIONS_COUNT_WARNING\", \"owner\": \"$EVENT_OWNER\", \"policy_name\": \"$POLICY_NAME\", \"policy_url\": \"$POLICY_URL\", \"runbook_url\": \"$RUNBOOK_URL\", \"severity\": \"$SEVERITY\", \"targets\": \"$TARGETS\", \"timestamp\": \"$TIMESTAMP\", \"timestamp_utc_string\": \"$TIMESTAMP_UTC_STRING\", \"violation_callback_url\": \"$VIOLATION_CALLBACK_URL\", \"violation_chart_url\": \"$VIOLATION_CHART_URL\", \"team\": \"DevOps\" } コピー フォームWebhookの例 重要 以下のWebhookの例には、読みやすくするために余分なスペースと改行が挿入されています。実際のWebhookの応答は、連続した1行のテキストとして配信されます。 account_id=$ACCOUNT_ID account_name=$ACCOUNT_NAME closed_violations_count_critical=$CLOSED_VIOLATIONS_COUNT_CRITICAL closed_violations_count_warning=$CLOSED_VIOLATIONS_COUNT_WARNING condition_family_id=$CONDITION_FAMILY_ID condition_id=$CONDITION_ID condition_name=$CONDITION_NAME current_state=$EVENT_STATE details=$EVENT_DETAILS duration=$DURATION event_type=$EVENT_TYPE incident_acknowledge_url=$INCIDENT_ACKNOWLEDGE_URL incident_id=$INCIDENT_ID incident_url=$INCIDENT_URL open_violations_count_critical=$OPEN_VIOLATIONS_COUNT_CRITICAL open_violations_count_warning=$OPEN_VIOLATIONS_COUNT_WARNING owner=$EVENT_OWNER policy_name=$POLICY_NAME policy_url=$POLICY_URL runbook_url=$RUNBOOK_URL severity=$SEVERITY timestamp=$TIMESTAMP timestamp_utc_string=$TIMESTAMP_UTC_STRING violation_callback_url=$VIOLATION_CALLBACK_URL violation_chart_url=$VIOLATION_CHART_URL team=\"DevOps\" <--[example of custom variable] コピー テキスト形式出力 New Relic Alert Incident open: CPU > 50% for 5 minutes Policy: http://alerts.newrelic.com/accounts/1234/policies/5678 Chart URL: http://gorgon.nr-assets.net/image/12345678-abcd-efgh-ijkl-1234567890 For more details, see: http://alerts.newrelic.com/accounts/1234/incidents/3456 コピー その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 229.32578,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": " timestamp_utc_string=$TIMESTAMP_UTC_STRING violation_callback_url=$VIOLATION_CALLBACK_URL violation_chart_url=$VIOLATION_CHART_URL team=&quot;DevOps&quot; &lt;--[example of custom variable] コピー テキスト形式出力 <em>New</em> <em>Relic</em> <em>Alert</em> Incident open: CPU &gt; 50% for 5 minutes Policy: http:&#x2F;&#x2F;<em>alerts</em>.newrelic.com&#x2F;accounts&#x2F;1234&#x2F;<em>policies</em>"
      },
      "id": "6052686064441f02b95321a1"
    },
    {
      "sections": [
        "NRQLアラート条件を作成する",
        "ヒント",
        "NRQLアラートの構文",
        "重要",
        "NRQLアラート閾値の例",
        "データの特定セグメントでアラート",
        "データのN番目のパーセンタイルでアラート",
        "データの最大、最小、平均でアラート",
        "データのパーセンテージでアラート",
        "T値のApdex （Application Performance Index）でアラート",
        "ネスト構造の集計NRQLアラート",
        "現在、ネスト構造の一番内側で FACET のないクエリはサポートされていません。",
        "すべてのレベルのクエリの集計ウィンドウのサイズを同じにする必要があります。",
        "ネスト構造のクエリでは、信号喪失はまだサポートされていません",
        "NRQL条件作成のヒント",
        "アラートの閾値タイプ",
        "クエリ結果の合計（制限または間欠データ）",
        "信号喪失の閾値を設定",
        "高度な信号設定",
        "集計ウィンドウ",
        "評価オフセット",
        "データのギャップを埋める",
        "その他のヘルプ"
      ],
      "title": "NRQLアラート条件を作成する",
      "type": "docs-jp",
      "tags": [
        "Alerts and Applied Intelligence",
        "New Relic Alerts",
        "Alert conditions"
      ],
      "external_id": "4157b2ee21a2ddedae95e63f9b563dcdff0a205f",
      "image": "https://docs.newrelic.com/static/eb8e1b2d826f9fd9cf46fe3dd5455217/c1b63/nr1_nrql_alert_conditions.png",
      "url": "https://docs.newrelic.com/jp/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/",
      "published_at": "2021-04-06T05:25:12Z",
      "updated_at": "2021-04-06T05:25:12Z",
      "document_type": "page",
      "popularity": 1,
      "body": "NRQLクエリを使用してアラート条件を作成できます。信号を定義した後、警告と危険閾値のレベルさらに定義できます。これでアラート違反を作成するタイミングが決定されます。 この操作の詳細については、以下をお読みください。 one.newrelic.com に移動し、Alerts & AIをクリックし、左側のサイドバーでPoliciesをクリックしてポリシーを選択し、Add a conditionを選択します。NRQL、Next, define thresholdsの順にクリックします。 ヒント NRQLアラート条件とストリーミングアラートに関連する主要な概念の詳細については、「ストリーミングアラート：主要な用語と概念」を参照してください。 NRQLアラート条件を作成する ポリシーについてNRQLアラート条件を作成するには： one.newrelic.com で、ヘッダーにあるAlerts ＆ AI（アラート ＆ AI）をクリックし、左側のサイドバーでPolicies（ポリシー）をクリックします。 既存のポリシーを選択するか、New alert policy（新規アラートポリシー）をクリックして新しいポリシーを作成します。 Add a conditionをクリックします。 条件を作成するときは、[ Select a product（製品の選択）]の下でNRQLをクリックしてから、[ Next, define thresholds（次に、閾値を定義）]をクリックします。 NRQLアラートの構文 すべてのNRQLアラート条件を作成するための基本的な構文は、以下のとおりです。FACET句は、外れ値の閾値タイプに必須であり、静的オプションであるため、ベースラインには許可されていません。 SELECT function(attribute) FROM Event WHERE attribute [comparison] [AND|OR ...] コピー 句 メモ SELECT function(attribute) 必須 サポートされている数字を返す関数には、以下が含まれます。 apdex average count latest max min percentage percentile sum uniqueCount ヒント 多くのファセットを含むファセットアラート条件にpercentile集計を使用すると、以下のエラーメッセージが表示される可能性があります。 An error occurred while fetching chart data. このエラーが表示された場合は、代わりにaverageを使用してください。 FROM data type 必須 ひとつのデータタイプのみをターゲットにすることが可能です。 サポートされるデータタイプ： Event Metric（RAWデータポイントが返されます） WHERE attribute [comparison] [AND|OR ...] 1つ以上の一連の条件を指定するには、WHERE句を使用します。すべての演算子がサポートされます。 FACET attribute 外れ値条件には必要ですが、ベースラインまたは静的ではありません オプションのFACET句をNRQL構文に含めるかどうかは、閾値タイプによって決まります。静的、ベースライン、または外れ値。 属性ごとに結果を区切り、各属性に個別のアラートを設定するには、FACET句を使います。LIMIT句は許可されていませんが、すべてのクエリは可能な限り最大数のファセットを受け取ります。ファセットクエリは、静的コンディションには最大5000の値を、 外れ値コンディションには最大500の値を返せます。 重要 クエリが最大数を上回る値を返した場合、アラート条件は作成できません。条件を作成した後、クエリがこの個数以上の値を返した場合、アラートは失敗します。返される値の数が少なくなるようにクエリを変更します。 NRQLアラート閾値の例 以下に示すのは、NRQLアラート条件の一般的なユースケースです。これらのクエリは、静的およびベースラインの閾値タイプで正常に動作します。外れ値の閾値タイプには、FACET句が追加で必要になります。 データの特定セグメントでアラート 重要な顧客や一定範囲のデータなど、データの特定セグメントをターゲットとする制約付きアラートを作成します。これらの条件を定義するにはWHERE句を使用してください。 SELECT average(duration) FROM Transaction WHERE account_id in (91290, 102021, 20230) コピー SELECT percentile(duration, 95) FROM Transaction WHERE name LIKE 'Controller/checkout/%' コピー データのN番目のパーセンタイルでアラート データのN番目のパーセンタイルが指定の閾値に達したときにアラートを作成します。例えば、SLAサービスレベルの管理など。当社は、NRQLクエリを1分間の時間枠で評価しているため、パーセンタイルは各分ごとに個別に算出されます。 SELECT percentile（duration, 95） FROM Transaction コピー SELECT percentile（databaseDuration, 75） FROM Transaction コピー データの最大、最小、平均でアラート データが最大、最小、平均に達したときにアラートを作成します。例えば、処理時間やレスポンスタイムが一定の閾値に達しないようにできます。 SELECT max（duration） FROM Transaction コピー SELECT average（duration） FROM Transaction コピー データのパーセンテージでアラート データの一部が特定の閾値を上回るとき、または下回るときにアラートを作成します。 SELECT percentage（count（*）, WHERE duration > 2） FROM Transaction コピー SELECT percentage（count（*）, WHERE httpResponseCode = '500'） FROM Transaction コピー T値のApdex （Application Performance Index）でアラート 特定のトランザクションに対して、T値を適用したApdexでアラートを作成します。例えば、本番アプリケーションに対して、トランザクションに500ミリ秒のT値を設定したApdexが0.8を下回ると、アラート通知を受信します。 SELECT apdex(duration, t:0.5) FROM Transaction WHERE appName like '%prod%' コピー ネスト構造の集計NRQLアラート ネスト構造の集計クエリは、データに対してクエリを実行する強力な方法です。ただし、注意すべき重要な制限がいくつかあります。 現在、ネスト構造の一番内側で FACET のないクエリはサポートされていません。 FACETがないと、内部クエリは単一の結果を生成するため、外部クエリには何も集計されません。ネスト構造のクエリを使用している場合は、内部クエリがファセットされていることを確認してください。 SELECT max(cpu) FROM (FROM Event SELECT min(cpuTime) as cpu) ​​​​​ コピー すべてのレベルのクエリの集計ウィンドウのサイズを同じにする必要があります。 1分間のアラート集計ウィンドウで、内部クエリはより小さな30秒のウィンドウを2つ生成します。理論上は、この2つのウィンドウは外部クエリによって集計されます。ただし、現在この機能はサポートされていません。 SELECT max(cpu) FROM (FROM Event SELECT min(cpuTime) as cpu TIMESERIES 30 seconds)​​ コピー ネスト構造のクエリでは、信号喪失はまだサポートされていません 信号喪失の詳細については、NerdGraph API：信号の喪失とギャップの充填を参照してください。 NRQL条件作成のヒント ここに、NRQL条件の作成と使用のヒントをいくつか示します。 トピック ヒント 条件閾値のタイプ NRQLの条件閾値タイプには 静的、ベースライン、外れ値が含まれます。 説明を作成する NRQL条件の場合、各違反に追加されるカスタムの説明を作成できます。これらの説明は、特定の違反に関連付けられたメタデータに基づく変数置換を強化します。 詳細については、説明をご覧ください。 クエリの結果 クエリは数値を返す必要があります。条件は、返された数値とお客様が設定した閾値を比較することで評価されます。 期間 すべてのアラート条件同様、NRQL条件は1回に1分の評価を行います。どの1分を評価するかを指定する暗黙的なSINCE ... UNTIL句は、評価オフセット設定により制御されています。直近のデータは不完全なことがあるため、特に次のような場合について、3分以上前のデータのクエリを行う場合があります。 複数のホスト上で動作するアプリケーション。 SyntheticCheckデータ：タイムアウトは3分かかる場合があるため、5分以上前のデータをクエリするとよいでしょう。 さらに、クエリによって生成されるデータが断続的な場合、sum of query resultsオプションの利用を検討してください。 信号喪失の閾値 （信号喪失検出） 信号損失検出を使用すると、データ（テレメトリ信号）が失われたと見なされる時点でアラートを出力できます。サービスまたはエンティティがオンラインではなくなったか、定期的なジョブの実行に失敗した可能性を示しています。エラーカウントなどの散発的なデータ違反が、信号を受信していないときに確実に終了するためにも使用できます。 ヒント 信号の喪失とアクセスを要求する方法の詳細については、この発表を参照してください。 高度な信号設定 この設定で、場合によってはない継続的なストリーミングデータシグナルの取り扱いを改善するオプションを使用できます。この設定には、集計ウィンドウと評価オフセット、データギャップを埋めるオプションが含まれます。これらの使用の詳細については、高度なシグナル設定をご覧ください。 条件設定 条件設定を使用することで： 簡潔で分かりやすい条件名を作成します。 違反と通知に含まれる条件について、カスタム違反の説明を記入します。 インシデント対応に関する自社の手順を含めるには、ランブックのURLを追加します。この情報をカスタム違反の説明に追加することもできます。 条件の制限 最大値を参照します。 稼働ステータス NRQLアラート条件は、エンティティの稼働ステータス表示には影響を与えません。 例 詳細については、以下をご覧ください。 想定されるNRQL構文 NRQL条件に関するクエリの例 アラートの閾値タイプ NRQLアラートを作成する際、異なる閾値タイプを選択することができます。 NRQLアラートの閾値タイプ 説明 静的 これは、最もシンプルなNRQL閾値のタイプです。数値を返すNRQLクエリに基づいた条件を作成できます。 オプション：FACET句を含める。 ベースライン （動的） 監視対象値の過去の動作に基づいた自己調整型の条件を使用します。FACET句を使用できない点を除いて、静的タイプと同じNRQLクエリ形式を使用します。 外れ値 グループの外れ値になるそのグループの動作と値を検索します。静的タイプと同じNRQLクエリ形式を使用しますが、FACET句が必要です。 クエリ結果の合計（制限または間欠データ） 重要 静的（基本）閾値タイプのみで使用できます。 クエリが間欠的、または限定的なデータを返す場合、有意義な閾値の設定が困難になる可能性があります。欠落したデータや限定的なデータがあると、誤検出または検出漏れを生じることがあります。これらの誤った通知を最小限に抑えるため、信号喪失、集計期間、およびギャップ充填設定を使用できます。 この問題を回避するために、静的閾値タイプを使用する際は、セレクタをクエリ結果の合計値に設定できます。こうすることで、単一の収集サイクルからの値の代わりに、集計された合計数に対してアラートを設定できるようになります。1分間のデータ確認は、最長で2時間まで集計できます。移動合計の幅は選択する期間で決まり、それに従ってプレビューチャートが更新されます。 信号喪失の閾値を設定 信号損失は、特定の期間にわたってNRQL条件に一致するデータがない場合に発生します。信号喪失の閾値期間と、閾値を超えたときに何が起こるかを設定できます。 one.newrelic.com に移動し、Alerts & AIをクリックし、左側のサイドバーでPoliciesをクリックしてポリシーを選択し、Add a conditionを選択します。信号喪失は、NRQL 条件でのみ使用できます。 これらの設定は、GraphQL API（推奨）またはREST APIを使用して管理することもできます。特定のGraph QL APIの例については、こちらをご覧ください。 信号喪失の設定： 信号喪失の設定には、継続時間と2つの可能なアクションが含まれます。 信号損失の有効期限 UI ラベル：次の期間が経過すると信号が喪失する： GraphQL ノード：expiration.expirationDuration 有効期限は、ストリーミング アラート パイプラインでデータポイントを受信すると開始およびリセットされるタイマーです。「有効期限」が切れる前に別のデータポイントを受信しないと、その信号は喪失したと見なされます。これは、New Relicにデータが送信されていないか、アラートパイプラインにストリーミングされる前にNRQLクエリのWHERE句によってデータが除外されている可能性があります。 閾値の有効期限に関係なく、タイマーが期限切れになるとすぐに信号喪失がトリガーされます。 最長の有効期限は48時間です。これは、頻度の低いジョブの実行をモニタリングするときに役立ちます。最小は30秒ですが、少なくとも3〜5分に設定することをお勧めします。 信号喪失アクション 信号が喪失したと見なされると、未解決の違反を閉じるか、新しい違反を開くか、またはその両方を行うことができます。 現在、未解決の違反をすべて終了します。これにより、特定の信号に関連する未解決の違反がすべて終了します。必ずしも、条件のすべての違反が終了するとは限りません。一時的なサービスまたは散発的な信号で警告している場合は、違反が適切に終了するように、このアクションを選択することをお勧めします。この場合、GraphQLノード名は \"closeViolationsOnExpiration \" です。 未解決の新しい違反：これにより、信号が喪失した見なされると、新しい違反が発生します。これらの違反は、信号の損失が原因であることを示します。インシデントプリファレンスに基づいて、通知がトリガーされます。この場合、graphQLノード名は、\"openViolationOnExpiration\" です。 両方のアクションを有効にすると、最初に未解決の違反がすべて終了します。次に、信号が喪失すると、新しい違反が発生します。 UIで信号喪失検出を使用して設定されたNRQLアラートを作成するには： ポリシーについて条件を作成するときは、Select a productの下でNRQLをクリックしてから、Next, define thresholdsをクリックします。 アラートする値を返すNRQLクエリを作成します。 閾値タイプには、静的またはベースラインを選択します。 [ +失われた信号の閾値を追加]をクリックし、[ 信号が失われた後]フィールドで信号の有効期限を分または秒で設定します。 信号が失われたときに実行する操作を選択してください。[ 現在未解決の違反をすべて閉じる]と[ 新しい信号喪失の違反を開く]の一方または両方を確認できます。これらのアクションによって、該当する状態に対して信号損失違反がどのように処理されるかを制御されます。 必ず、条件に名前を付けてから保存します。 ヒント 信号喪失検出は、ネスト型の集計またはサブクエリを使用するNRQLクエリでは機能しません。 高度な信号設定 NRQLアラート条件を作成すると、高度なシグナル設定により、ストリーミングアラートデータの管理が改善し、誤検出を防止できます。 NRQL条件を作成する際の高度なシグナル設定は次のとおりです： 集計ウィンドウ 評価オフセット データのギャップを埋める この設定の内容と、相互の関係の説明を読むには、ストリーミングアラートのコンセプトをご覧ください。設定方法の説明とヒントは次のとおりです。 集計ウィンドウ データが集計される前に、ストリーミング時間枠に蓄積されるデータの長さを選択する集計ウィンドウを設定できます。1秒から15分の間で設定できます。デフォルトは1分です。 ヒント ベースラインアラート条件閾値は、集計ウィンドウの編集をサポートしていません。デフォルトでは1分が使用されます。 評価オフセット 評価オフセットを調整して、データのレイテンシに合わせてストリーミングアルゴリズムを調整できます。データが到着するまでに時間がかかる場合は、評価オフセットを増やす必要があります。 サポートされているレイテンシの合計は、集計ウィンドウ期間と評価オフセットの積になります。上のスクリーンショットの例では、サポートされているレイテンシは3分です（1分の集計ウィンドウが3つ）。 データタイプがAPMの言語エージェントから供給されており、多数のアプリケーションインスタンス（例：Transactions、TransactionErrorsなど）から集計されている場合は、1分間の集計ウィンドウで3分の評価オフセットを使用することをお勧めします。 重要 AWS CloudwatchやAzureなどのInfrastructure クラウドインテグレーションから収集されたデータのNRQL条件を作成する場合、15分の評価オフセットから始めて、データの収集にかかる時間に応じて上下に調整することをお勧めします。 データのギャップを埋める ギャップの充填を使用すると、信号にデータがない場合に使用する値をカスタマイズできます。次の設定の1つを使用して、データストリームのギャップを埋めることができます： None（なし）：（デフォルト）空の集計ウィンドウでアクションを実行したくない場合は、これを選択します。評価時に、空の集計ウィンドウは閾値期間タイマーをリセットします。たとえば、すべての集計ウィンドウに5分間の閾値を超えるデータポイントが必要であり、5つの集計ウィンドウの1つが空であるという条件が設定されている場合、条件に違反することはありません。 カスタム静的値：評価する前に空の集計ウィンドウにカスタム静的値を挿入する場合は、これを選択します。このオプションには、（APIで指定されたとおり）使用する静的値を指定する追加の必須fillValueパラメーターがあります。この値はデフォルトで0になります。 Last known value（最後に既知の値）：このオプションは、評価が行われる前に最後に表示された値を挿入します。最後に表示された値の状態は2時間維持されます。 データギャップ設定を編集するオプション： NRQL条件UIで、条件設定 > 高度なシグナル設定 > データギャップを埋めるの順に移動し、オプションを選択します。 Nerdgraph API（推奨）を使用している場合、このノードは次の場所にあります：actor : account : alerts : nrqlCondition : signal : fillOption | fillValue NerdGraphは推奨APIですが、REST APIを使用している場合、この設定はアラートNRQL条件APIの\"シグナル\"セクションの下にあるREST APIエクスプローラーにあります。 その他のヘルプ さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください： Explorers Hubを参照して、コミュニティから支援を受け、ディスカッションに参加してください。 当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます。 Linux、Windows、およびmacOSのトラブルシューティングツールであるNew Relic Diagnosticsを実行します。 New Relicのデータセキュリティとライセンスドキュメントを見直してください。",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 227.73648,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "sections": "T値のApdex （<em>Application</em> Performance Index）でアラート",
        "tags": "<em>Alerts</em> <em>and</em> <em>Applied</em> <em>Intelligence</em>",
        "body": "、「ストリーミングアラート：主要な用語と概念」を参照してください。 NRQLアラート条件を作成する ポリシーについてNRQLアラート条件を作成するには： one.newrelic.com で、ヘッダーにある<em>Alerts</em> ＆ AI（アラート ＆ AI）をクリックし、左側のサイドバーで<em>Policies</em>（ポリシー）をクリックします。 既存のポリシーを選択するか、<em>New</em> <em>alert</em> policy（新規アラートポリシー）をクリックして新しいポリシーを作成します。 Add a conditionをクリックします。 条件を作成するときは、[ Select a product（製品の選択）]の下でNRQLをクリックしてから"
      },
      "id": "60526c7364441f31d2532173"
    }
  ],
  "/docs/style-guide/writing-guidelines/voice-strategies-docs-sound-new-relic": [
    {
      "sections": [
        "Usage dictionary",
        "account ID",
        "agent",
        "am and pm",
        "Amazon Web Services (AWS) product names",
        "app name vs. app alias",
        "beta",
        "bits and bytes",
        "Tip",
        "blacklist and whitelist",
        "capitalization",
        "click",
        "collector vs. connect to New Relic",
        "contractions",
        "dashboard",
        "doc, document, documentation",
        "dropdown",
        "e.g. and i.e.",
        "em dash (—)",
        "etc.",
        "hostname",
        "icons",
        "index",
        "infrastructure",
        "introduction",
        "macOS",
        "master account",
        "menu",
        "mouse over",
        ".NET",
        "New Relic One",
        "Node.js",
        "NR ONLY",
        "Oxford comma",
        "open source",
        "page",
        "parent account",
        "permissions",
        "pricing",
        "real user monitoring (RUM)",
        "record vs. report vs. collect",
        "RPM",
        "serial comma",
        "time zone",
        "UI",
        "UI paths",
        "update vs. upgrade",
        "users",
        "username, not user name",
        "version number references",
        "we",
        "you"
      ],
      "title": "Usage dictionary",
      "type": "docs",
      "tags": [
        "Basic style guide",
        "Style guide quick reference"
      ],
      "external_id": "eb1b15a359f1676c50bb9f0a1270f4659c435f63",
      "image": "",
      "url": "https://docs.newrelic.com/docs/style-guide/quick-reference/usage-dictionary/",
      "published_at": "2021-04-05T08:07:56Z",
      "updated_at": "2021-04-05T08:07:56Z",
      "document_type": "page",
      "popularity": 1,
      "body": "You can use this dictionary to guide your writing on docs.newrelic.com. We use this to help ensure consistency across our Docs site. Other than the terms listed here, we generally follow the Microsoft Style Guide, but we'll use Chicago Manual of Style in a pinch. We also follow American English conventions, rather than British English ones. For a glossary of terminology specific to New Relic, see the public glossary on the Docs site. account ID A unique number that identifies a particular New Relic account. Don't use account number. agent Don't capitalize. Install the Ruby agent, not Install the Ruby Agent. Don't refer to a Synthetics private minion as an agent. am and pm Use the 12-hour clock followed by the (lowercased) time period am or pm. Don’t put a space after the last number in a timestamp (12:00am, not 12:00 am). Don't include a leading 0 when the hour is less than 10. 9:30am, 12:30pm, 8:30pm Copy Amazon Web Services (AWS) product names Refer to the specific product, not just AWS broadly. As a courtesy to your readers, on first mention always refer to Amazon products by their full names; for example Amazon Web Services (AWS). You can use the acronym after that, if there is one. Example: Amazon Elastic Compute Cloud. After that, use the short name according to the AWS Documentation site. Example: Amazon EC2. app name vs. app alias The \"machine name\" that the collector uses to uniquely identify an app is its app name. The server-side configuration setting that changes the visible \"name\" of an app without changing its unique identifier is its app alias. beta When using as a watermark or in the doc's title, use all caps: <div id=\"watermark\">BETA</div> Copy Don't include a callout within the document unless the beta requires additional explanation. In the body text, use lowercase. For example: <Callout variant=\"important\"> This feature currently is in private beta. To join the beta, contact your New Relic account rep. </Callout> Copy If the developer team prefers to use a term other than beta or private beta, clarify what is driving that use of the term (Legal requirement?), and add any relevant info here in the usage dictionary. bits and bytes Use standard prefixes and capitalization for International System of Units (SI), International Organization for Standardization (ISO), or Joint Electron Device Engineering Council (JEDEC memory) values when referring to multiples of bits (b) and bytes (B). 1 byte = 8 bits. Decimal value SI prefix Binary value ISO prefix JEDEC prefix 1000 k: kilo 1024 Ki: kibi K: kilo 1000^2 M: mega 1024^2 Mi: mebi M: mega 1000^3 G: giga 1024^3 Gi: gibi G: giga 1000^4 T: tera 1024^4 Ti: tebi - -- 1000^5 P: peta 1024^5 Pi: pebi - -- Tip For help with converting byte values (such as bytes to kilobytes), try this byte converter. blacklist and whitelist Don't use. Instead, use deny list and allow list; for example, \"Add a hostname to your deny list.\" capitalization This is more complex than can be covered in this usage dictionary. For detailed information, see: Heading capitalization Capitalization of features and UI elements click In general, use click rather than the vaguer select. For example, you might click something in the UI, but then select something from a list. Be particularly careful to use click to describe actions that only make sense with a mouse; for example, with a right-click or a click and drag. Also use click when the user must click on a non-selectable object (to save your changes, click anywhere outside the dialog box). See also mouse over. collector vs. connect to New Relic When referring to an agent talking to the New Relic servers, describe this as the New Relic collector. Although internally the collector refers only to specific parts of our architecture, we use it more broadly in our documentation to mean \"any endpoint a customer must connect to report data, for any product.\" Avoid \"connect to New Relic,\" and do not use \"connect to the New Relic UI.\" contractions When it makes sense for clarity, conciseness, and tone and voice, use contractions. Use them where they make the writing sound more like natural speech, and where they improve clarity and accessibility without sacrificing expertise and authority. There are no hard and fast rules for which contractions are or aren't acceptable, but simple and common is preferable to complicated and rare. For example, it's for it is is fine, but less common constructions like mustn't or wouldn't've are best avoided. Also: When using a negative contraction (don't, can't, won't) try to provide some additional info about what what to do and what can be done. (See the style guide intro for more on this.) There are places in our docs—for example, in notes and warnings—where spelling out do not, cannot, or will not is preferable to contractions to emphasize the action or blockage to be avoided. dashboard Don't use. Instead, use page. doc, document, documentation Avoid referring to the document itself (the docs site page) as much as possible. If there's not a good alternative, you can use doc, document, or documentation (whatever sounds most natural; try reading it aloud). For example, This document explains how to... or For related docs, see... dropdown Use dropdown instead of drop-down or drop down. Although it isn't common usage, you can use dropdown independently as a noun, without needing to say dropdown menu or dropdown list. For example, select a date from the <b>date</b> dropdown. e.g. and i.e. Don't use Latin abbreviations. Instead of e.g., use for example or such as. Instead of i.e. or its English equivalent in other words, rewrite so your description is clear. em dash (—) Em dashes are rarely needed in tech docs, sadly. You can usually accomplish what you need to by breaking the thought into multiple sentences or using parentheses. In some rare cases, though, an em dash can add drama and spice. If you think you've found such a case, make sure you use them right. An em dash should always use the real em dash character (not a hyphen), and no space before and after. For example: You can sign up for New Relic fast and free—we won't even ask for a credit card number. Copy You can insert an em dash with the COMMAND+OPTION+- shortcut or use the HTML entity. etc. Unlike the Latin abbreviations e.g. or i.e.), you're welcome to use etc. Please ensure that you have several meaningful examples, though, before using. For example, cities including Portland, Seattle, Dublin, etc. but not cities including Portland, etc.. hostname This is one word. Don't hyphenate. icons When using an inline icon from the UI, always describe it first, then embed the icon image, and then end with the word icon. For example, select the delete icon. Don't put icons in bold. When writing about icons, describe the icon for its purpose or action, not what the icon looks like. For example: Yes: Select the edit icon. No: Select the pencil icon. For technical information on embedding images, see Inserting inline images and Embedding Font Awesome icons. index A list of entities, such as the APM applications index, the Synthetics Monitors index, or the Alerts Incidents index. See also page. infrastructure Don't use, unless referring to the New Relic Infrastructure product. Instead, use an appropriate substitute such as architecture, environment, system, host, etc. introduction Always use Introduction to for overview docs for a particular product. For example, Introduction to New Relic Infrastructure or Introduction to the PHP agent or Introduction to transaction traces. Don't use welcome to, basics, intro, overview, etc. Also avoid the Thing: Tagline format, as in X-Ray sessions: Traces and thread profiles for key transactions, unless having a title with keywords will help with SEO. macOS The proper name for Apple's desktop operating system is macOS. Don't use the older product names Mac OS X or OS X. master account The primary account in a New Relic account with sub-accounts. Refer to a master's subordinate accounts as sub-accounts, not children or slaves. menu The list of pages and indexes on the top and left sides of the New Relic user interface. mouse over For mouse movements that involve placing the mouse pointer over an area, but not clicking it. For example, the APM Overview page includes functions that are only visible when the mouse pointer is over a particular chart. Do not use point to or hover over. See also click. .NET Always refer to the agent and language as .NET, never as .Net or .net or dotnet. New Relic One New Relic One isn't a product. It's a way to view New Relic data more easily, all in one place, and from multiple related accounts. This has several implications for how we should refer to it: Avoid phrasing that makes New Relic One sound like a separate product or a separate platform. There is a single New Relic platform through which our users interact with our products. Avoid mentioning New Relic One where it can be avoided. For example, instead of saying \"Use New Relic One workloads to...\", you could instead say, \"In New Relic, you can use workloads to...\" and then in the doc explain where to find the feature. Another example: instead of referring to \"The programmable New Relic One platform,\" we might say, \"The New Relic platform is programmable: To start building, go to one.newrelic.com and...\" Do not use NR1 or nr1 as an abbreviation of New Relic One. The only reason to use nr1 is when referring to the nr1 package or library (for example: a reference to the command nr1 nerdpack:serve). In general, we want to avoid overloading our docs with \"New Relic\". For more details, see the New Relic One messaging guidelines, the docs glossary entry, or the New Relic One docs. Node.js Always refer to the programming language as Node.js, not Node. NR ONLY Use NR ONLY for watermarking docs for internal consumption only (such as this style guide). Don't use NR-ONLY or NRONLY or New Relic Only. Oxford comma See serial comma. open source Use lower case for open source. Some legal contracts may require upper case. page A specific place in the New Relic UI, located at a particular URL. Compare and contrast index, menu, and UI. Don't use dashboard, menu, tab, screen, or similar terms. parent account Don't use. See master account. permissions See User-related language. For pricing tier language, see Pricing language. pricing See Pricing language. real user monitoring (RUM) Don't use this outside of Browser docs. Often abbreviated as RUM, this is a generic industry term for Browser monitoring. New Relic refers to this as page load timing (in Browser docs) or New Relic Browser (in non-Browser docs). Within Browser docs, use this term only for SEO or clarification, never to refer to the actual feature. record vs. report vs. collect Use report when discussing data sent to New Relic, such as, \"your host reports data to New Relic.\" Avoid using report as a noun. Instead use \"the reported metrics\" or \"the collected data.\" If \"report\" sounds too clunky, you can also use collect as long as whatever New Relic is collecting doesn't sound security sensitive. RPM Don't refer to the New Relic UI as RPM. Always refer to the specific product, such as the APM UI or the Browser UI. However, you may use rpm when required in the visible URL string in UI paths. serial comma Also referred to as an Oxford comma. Always use serial commas with inline lists. For example, Portland, Seattle, and Dublin rather than Portland, Seattle and Dublin. time zone Include a space (time zone). Don't hyphenate or run together as timezone. UI The graphical component of a New Relic product, encompassing all its pages, menus, and indexes. See also UI paths. UI paths If you need to tell a user how to path through the UI, see our style guide page on UI paths. update vs. upgrade Use update when users need to change the version of whatever they're using. No money or payment is needed for an update. Use upgrade whenever money or payment may be involved, such as upgrading to the Pro version of a product. The new pricing model makes it unlikely that you'll need to use this. users For styles and formats related to user roles and groups and more, see User-related style. username, not user name One word (username), not two. This is the most common usage and is recommended by Microsoft and Google style guides. version number references When referring to multiple version numbers, always use or higher. Don't use and higher, or the words greater or later. Also don't use punctuation, as in version 1.2+. For example: Foo requires Ruby agent version 1.2.3 or higher. Copy In addition: Tell users to use the latest version and not an up-to-date or current version. To abbreviate the word version, use a lowercase v with no space before the number; for example, v2 or v1.2.3. Use update not upgrade when talking about agent versions, as in \"To update to the latest version...\" For security reasons, do not use version numbers with licensing docs. The Tech Docs team doesn't have a set standard when referring to previous versions. Recommendation: Consider using version x.x or lower when identifying a specific version. Consider using In earlier agent versions when referring to versions more vaguely. we Say “we” and “our” when it works with the flow of your writing. Avoid overloading paragraphs with “New Relic” mentions, or reword so the focus is on the user, not New Relic. For example, avoid writing something like this: New Relic recommends setting a startup timeout. Copy Instead, write something like this: Recommendation: To help with troubleshooting, include a startup timeout in your configuration. Copy OR We recommend setting a startup timeout. Copy you We use “you” and “your” liberally in our docs. Addressing the reader directly makes for simpler, cleaner sentences. It also tends to expose lazy uses of passive construction and it helps users to understand procedures. However, avoid using generic “you” or “your” when permissions are involved, because we can't assume what permissions the user has. For example, we can't just say “you can add and remove users from your account settings” when that is actually an Owner or Admin level capability. When permissions are relevant, use a permissions callout.",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 72.96333,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "sections": "collector vs. connect to <em>New</em> <em>Relic</em>",
        "body": ".&quot; Avoid &quot;connect to <em>New</em> <em>Relic</em>,&quot; and do not use &quot;connect to the <em>New</em> <em>Relic</em> UI.&quot; contractions When it makes sense for clarity, conciseness, and tone and <em>voice</em>, use contractions. Use them where they make the writing <em>sound</em> more <em>like</em> natural speech, and where they improve clarity and accessibility without"
      },
      "id": "60421ec1196a676986a83d87"
    },
    {
      "image": "https://developer.newrelic.com/static/developer-champions-fa17db112c4774337666979ef08bb94e.jpg",
      "url": "https://developer.newrelic.com/developer-champion/",
      "sections": [
        "New Relic Developer Champions",
        "What do Developer Champions do?",
        "Open-source contributions",
        "Content creation",
        "Community engagement",
        "Why should you join and how will we support?",
        "Developer Champions benefits:"
      ],
      "published_at": "2021-04-09T01:44:49Z",
      "title": "New Relic Developers",
      "updated_at": "2020-12-04T01:45:02Z",
      "type": "developer",
      "external_id": "2cef9996dadc081ed4331e85992a4af9defc87ff",
      "document_type": "page",
      "popularity": 1,
      "body": "New Relic Champions are the voice of the developer community. As experts and innovators, they are given the resources to not only share the newest product innovations and updates but also to provide feedback of the community back to New Relic product and engineering teams. Champions solve big problems using New Relic as their toolkit and are recognized as experts and leaders in the New Relic technical community. Nominate a developer champion What do Developer Champions do? New Relic Champions demonstrate expertise in using New Relic products by solving large problems and positioning New Relic as a central force in their strategies. The New Relic Champions is a recognition and partnership program designed to acknowledge the developers that are driving innovation within their companies and making top contributions to the developer community.They also commit to making their work public by: Open-source contributions Serving as an open-source author or maintainer for an accepted public project related to New Relic One Content creation Authoring two pieces of content in the New Relic Explorers Hub / Dev website Community engagement Delivering and/or organizing two events focused on an observability platform theme in which New Relic plays a crucial role Nominate a Developer Champion Why should you join and how will we support? As a benefit of being a Developer Champion, New Relic provides unique access to our Developer Advocacy team and the resources of our product organization, as well as specialized recognition and rewards. Developer Champions benefits: Formal, specialized access to the New Relic Product organization Champions have direct access to the New Relic’s Developer Ecosystem team Custom badge to wear with pride at events Public recognition on the New Relic Developer website and badging in the New Relic Explorers Hub as a Champion Exclusive Champion-only swag Early access program for some of our products (under NDA) Priority access to off-site FutureHack events (including when Lew is participating) Increased Explorer’s Hub support SLA Access to private Developer Champion Explorer’s Hub group",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 68.64983,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "<em>New</em> <em>Relic</em> Developers",
        "sections": "<em>New</em> <em>Relic</em> Developer Champions",
        "body": "<em>New</em> <em>Relic</em> Champions are the <em>voice</em> of the developer community. As experts and innovators, they are given the resources to not only share the newest product innovations and updates but also to provide feedback of the community back to <em>New</em> <em>Relic</em> product and engineering teams. Champions solve big"
      },
      "id": "5efa993c64441fc2a25f7e65"
    },
    {
      "sections": [
        "Alerting with New Relic mobile apps",
        "Tip",
        "Requirements",
        "Turn notifications on or off",
        "View alert incident details",
        "Troubleshoot alert settings",
        "Check notification settings for your mobile device.",
        "Delete the Android or iOS device from your New Relic account.",
        "Uninstall the New Relic mobile app.",
        "Reinstall the New Relic mobile app."
      ],
      "title": "Alerting with New Relic mobile apps",
      "type": "docs",
      "tags": [
        "Mobile apps",
        "New Relic Mobile apps",
        "Authentication and alerts"
      ],
      "external_id": "d55850dc642cc8ade20310e1d4654db61af1e809",
      "image": "https://docs.newrelic.com/static/f942198cbd9a41b7355ef7f01fa6cc66/e5166/alerts-incident-detail-nexus.jpg",
      "url": "https://docs.newrelic.com/docs/mobile-apps/new-relic-mobile-apps/authentication-alerts/alerting-new-relic-mobile-apps/",
      "published_at": "2021-04-06T08:55:55Z",
      "updated_at": "2021-04-06T08:55:55Z",
      "document_type": "page",
      "popularity": 1,
      "body": "Tip Owner or Admins Account administrators can set up configuration to receive push notifications on Android and iOS devices from New Relic Alerts. You can receive alerts from any policy by attaching a user channel to the policy. Requirements This feature is available only to users on the original user model, not to users on the New Relic One user model. As a workaround, you can use the email notification channel. Turn notifications on or off When you log in to your New Relic account from an Android or iOS app, your device is automatically associated with your user channel. Be sure to add the associated user channel to the alert policy. View alert incident details The notification automatically appears on your device's lock screen. To start the New Relic app: Android devices: Tap the notification from the notification drawer. OR iOS devices: Swipe the screen. From the New Relic app's Alerts menu, select any alert to view error details for the associated application. Optional: Select Acknowledge. Optional: To view additional details, select Overview, Violations, or Event log. The main menu's Alerts list shows alerts in the following order, sorted by time: Active incidents Resolved incidents from today Resolved incidents and events from the past week, organized by day Troubleshoot alert settings If alerts are not working on your mobile device: Verify that you meet the requirements. Verify that alerts are enabled. Check your mobile device's notification settings, to ensure New Relic is permitted to send alerts. If the notification settings for your mobile device are correct, but you still do not receive notifications, delete the device from your account, then uninstall and reinstall the New Relic application. Check notification settings for your mobile device. Follow the procedure for your mobile device. Device To check notification settings: Android From your Android device's Settings, select Sound and notification. Check the settings for sound volume. Optional: Enable Also vibrate for calls. Check the settings for Interruptions. Check the settings for Notification. Check the settings for App notifications: Select the New Relic app, then check the settings for Block and Priority. iOS Ensure Do Not Disturb is off: From the iOS Settings app, select Do Not Disturb, and check that the Manual switch is off. Ensure the New Relic app is allowed to send notifications: From the iOS Settings app, select Notifications, and locate the New Relic app from the app list. Ensure that the Allow Notifications switch is on. Ensure that the alert style is set to Banners or Alerts. Optional: To enable audio alerts, set Sounds to on. Delete the Android or iOS device from your New Relic account. To delete the mobile device from your New Relic account, use the public graphql api api.newrelic.com/graphiql in a web browser: Query current devices by selecting actor -> mobilePushNotification -> devices and selecting appVersion, deviceId, and deviceName. Run this query to get the list of devices. Mutate to remove a device by selecting mutation -> mobilePushNotificationRemoveDevice, and passing in the deviceId from the list above. Or you can remove the device from the in-app Settings option from the menu -> Settings Look under Push notification devices, and remove from there. On iOS, slide from right to left to Delete a device, on Android, tap Delete Continue with the steps to reinstall the New Relic app from your device. Uninstall the New Relic mobile app. Follow the procedure to uninstall the New Relic app from your device, then reinstall it. Device To uninstall the New Relic app: Android From your Android device's Settings, select Apps, then select the New Relic app. Select Uninstall. Continue with the steps to reinstall the New Relic app. iOS From your iOS home screen, tap and hold the New Relic icon until it shakes. To delete the app, select the X icon. Continue with the steps to reinstall the New Relic app. Reinstall the New Relic mobile app. To reinstall the New Relic mobile app: From your Android device, select Google Play Store. OR From your iOS device's home screen, select App Store. Search for New Relic. Download the app. When the download finishes, sign in to your New Relic mobile app with your New Relic account.",
      "info": "",
      "_index": "520d1d5d14cc8a32e600034b",
      "_type": "520d1d5d14cc8a32e600034c",
      "_score": 66.03607,
      "_version": null,
      "_explanation": null,
      "sort": null,
      "highlight": {
        "title": "Alerting with <em>New</em> <em>Relic</em> mobile apps",
        "sections": "Alerting with <em>New</em> <em>Relic</em> mobile apps",
        "tags": "<em>New</em> <em>Relic</em> Mobile apps",
        "body": "Tip Owner or Admins Account administrators can set up configuration to receive push notifications on Android and iOS devices from <em>New</em> <em>Relic</em> Alerts. You can receive alerts from any policy by attaching a user channel to the policy. Requirements This feature is available only to users on the original"
      },
      "id": "603e9efd64441f19a14e88ab"
    }
  ]
}