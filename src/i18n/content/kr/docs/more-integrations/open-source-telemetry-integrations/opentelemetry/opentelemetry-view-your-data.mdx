---
title: New Relic에서 OpenTelemetry 데이터 보기
tags:
  - Integrations
  - Open source telemetry integrations
  - OpenTelemetry
metaDescription: The New Relic UI offers a lot of options for filtering and viewing data from OpenTelemetry.
translationType: machine
---

import explorerOtelServices from 'images/explorer_otel_services.png'

import viewSpanErrors from 'images/view-span-errors.png'

import viewSpanEvents from 'images/view-span-events.png'

import spanEventsExceptions from 'images/span-events-exceptions.png'

import metricExplorer from 'images/metric-explorer.png'

import errorgroupOccurences from 'images/errorgroupOccurences.png'

OpenTelemetry 데이터를 New Relic으로 가져온 후 다양한 도구를 사용하여 분석할 수 있습니다. 다음 UI 옵션을 살펴보세요.

* [탐침](#explorer)
* [데이터 탐색기 및 쿼리 빌더](#query-builder)

## 탐험가: 세부 사항과 함께 큰 그림 얻기 [#explorer]

New Relic **Explorer** 탭은 서비스에 대한 정보 수집을 시작하기에 좋은 곳입니다. 서비스를 필터링한 다음 데이터를 필터링하여 데이터에 대한 다양한 보기를 표시하는 방법을 제공합니다.

### 서비스(엔티티) 찾기 [#find-entity]

Explorer를 시작하려면 서비스를 찾아야 합니다.

1. [one.newrelic.com](https://one.newrelic.com) 으로 이동합니다.

2. 왼쪽 사이드바에서 **서비스 - OpenTelemetry** 를 클릭합니다.

   <img
     title="Filter for OpenTelemetry to see only those entities."
     alt="Screen capture showing how to filter for OpenTelemetry services."
     src={explorerOtelServices}
   />

3. 가운데 창에서 자세히 알고 싶은 서비스를 클릭하거나 상단 필터 표시줄에 이름을 입력하여 서비스를 찾습니다.

### 필터로 데이터 범위 좁히기 [#filter]

엔터티가 있으면 서비스에서 데이터를 필터링할 수 있습니다.

필터 표시줄 **Narrow data to...** 를 사용하여 서비스에 대해 기록된 원격 분석의 특정 측면을 강조 표시할 수 있습니다. 예를 들어, 카나리아 인스턴스에 배포한 서비스의 특정 버전에 대한 오류율을 확인하고 싶을 수 있으므로 `service.version='1.2.3'` 에 대한 필터를 추가합니다.

서비스에 대한 데이터의 서로 다른 보기 사이를 탐색할 때 필터가 유지됩니다. 예를 들어 `service.version='1.2.3'` 에 대한 필터는 **트랜잭션** 보기로 전달되므로 다른 버전이 아닌 서비스 버전 1.2.3을 실행하는 엔드포인트(트랜잭션)에 대한 요청에 대한 원격 분석을 볼 수 있습니다.

**요약** , **트랜잭션** , **데이터베이스** , **외부** , **오류** 및 **JVM** 보기 사이를 탐색할 때 필터가 유지됩니다.

**분산 추적** 보기로 이동할 때도 필터가 유지되지만 제한 사항이 있습니다. 현재 **분산 추적** 으로 이동할 때 등호 연산자("=")를 사용하는 필터 조건만 지원됩니다. **분산 추적** 페이지에서 다시 탐색하면 이전 보기에서 선택한 필터가 다시 나타납니다.

데이터를 필터링하면 UI의 왼쪽 탐색 창에 다양한 보기가 표시됩니다. 자세한 내용은 아래 설명을 참조하세요.

### 요약 페이지 [#summary]

**Explorer** 탭에서 서비스를 클릭하면 엔터티에 대한 다양한 황금 신호를 나열하는 **요약** 페이지가 표시됩니다. 골든 신호는 응답 시간, 처리량 및 오류율과 같은 주요 모니터링 세부 정보입니다. 이 정보를 사용하여 더 깊이 파고들 필요가 있는지 빠르게 결정할 수 있습니다.

데이터가 이 섹션에 나타나도록 하려면 다음이 포함되어 있는지 확인하세요.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        UI 영역
      </th>

      <th>
        기인하다
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        응답 시간
      </td>

      <td>
        `span.kind = server` 또는 `consumer`
      </td>
    </tr>

    <tr>
      <td>
        처리량
      </td>

      <td>
        `span.kind = server` 또는 `consumer`
      </td>
    </tr>

    <tr>
      <td>
        오류율
      </td>

      <td>
        * `span.kind = server` 또는 `consumer`
        * `otel.status_code = ERROR`
      </td>
    </tr>

    <tr>
      <td>
        서비스 인스턴스 창
      </td>

      <td>
        `service.instance.id` (일반적으로 OTel 리소스 API를 통해 설정)
      </td>
    </tr>
  </tbody>
</table>

### 분산 추적 [#tracing]

**분산 추적** 에서 추적을 찾고 범위 세부 정보를 검사할 수 있습니다. 추적 데이터가 New Relic UI에 나타나려면 [OpenTelemetry 추적 의미 규칙](https://github.com/open-telemetry/opentelemetry-specification/tree/main/specification/trace/semantic_conventions#trace-semantic-conventions) 을 준수해야 합니다. 또한 [모범 사례](/docs/integrations/open-source-telemetry-integrations/opentelemetry/opentelemetry-concepts#traces) 가이드의 추적 섹션에서 추적 및 범위가 New Relic에 표시되는지 확인하는 방법에 대한 몇 가지 팁을 찾을 수 있습니다.

다음 속성은 일반적으로 범위에 명시적으로 추가되지 않습니다. 그보다는 일반적으로 OpenTelemetry SDK를 사용하여 범위를 생성하거나 범위에서 작업(예: 오류 기록)을 수행할 때 설정됩니다.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        기인하다
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        이름
      </td>

      <td>
        스팬의 이름은 일반적으로 [스팬을 시작할](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/api.md#span-creation) 때 설정됩니다. 이름은 일반적으로 무엇이든 될 수 있지만 OpenTelemetry 사양은 [데이터베이스 범위](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/semantic_conventions/database.md#semantic-conventions-for-database-client-calls) 또는 [HTTP 범위](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/semantic_conventions/http.md#name) 와 같은 특정 유형의 범위에 대한 지침을 제공합니다.
      </td>
    </tr>

    <tr>
      <td>
        [스팬.종류](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/api.md#spankind)
      </td>

      <td>
        범위의 종류는 일반적으로 [범위를 시작할](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/api.md#span-creation) 때 설정됩니다. New Relic은 `span.kind` 을 사용하여 범위가 지정된 서비스에 대한 진입점임을 유추합니다. `span.kind = server` 또는 `consumer` 인 경우 진입점으로 간주됩니다. `span.kind = client` 또는 `producer` 인 경우 외부 서비스 또는 데이터베이스 시스템에 대한 호출로 간주됩니다.
      </td>
    </tr>

    <tr>
      <td>
        otel.status_code
      </td>

      <td>
        * 스팬의 [상태는 스팬 API를 사용하여 설정](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/api.md#set-status) 됩니다. `otel.status_code` 속성은 New Relic에 의해 표시되는 방식입니다.
        * UI는 주로 오류 식별을 위해 `otel.status_code` 을 사용합니다.
      </td>
    </tr>
  </tbody>
</table>

#### 추적 및 관련 범위 찾기

다음은 검색을 타겟팅하는 몇 가지 방법입니다.

1. 원하는 추적을 찾으려면 필터 표시줄에서 다음과 같은 쿼리를 실행할 수 있습니다.

   * `service.name = YOUR_SERVICE_NAME`
   * `trace.id = YOUR_TRACE_ID`

2. 흥미로운 트레이스를 찾으면 클릭하여 트레이스의 범위를 보여주는 폭포수 다이어그램을 표시합니다.

3. 추적 내의 특정 범위를 클릭하면 오른쪽 패널에 범위 세부정보가 표시됩니다.

<Callout variant="tip">
  추적을 필터링하는 더 많은 방법은 [분산 추적 UI 페이지](/docs/understand-dependencies/distributed-tracing/ui-data/understand-use-distributed-tracing-ui) 를 참조하세요.
</Callout>

#### 오류가 있는 범위 보기

추적 폭포 보기에서 범위를 클릭하면 오른쪽 패널의 **오류 세부정보** 에서 범위 오류를 볼 수 있습니다.

<img
  title="Screenshot showing the right pane with Error details section"
  alt="Screenshot showing the right pane with Error details section"
  src={viewSpanErrors}
/>

오류 세부정보는 `otel.status_code = ERROR` 을 포함하는 범위로 채워지고 `otel.status_description` 의 내용을 표시합니다.

오류가 있는 범위에 대한 검색 범위를 좁히려면 분산 추적 필터 표시줄에 직접 `otel.status_code = ERROR` 을 입력할 수 있습니다.

#### 스팬 이벤트 보기

[OpenTelemetry 사양](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/api.md#add-events) 에 설명된 대로 스팬 이벤트를 보내면 New Relic UI에서 볼 수 있습니다. 스팬 이벤트에는 두 가지 일반적인 유형이 있습니다.

* 예외
* 비예외(예: 로그)

범위 이벤트가 있는 경우 해당 링크가 오른쪽 창에 나타납니다.

1. 폭포 보기에서 범위를 클릭합니다.

2. 오른쪽 창에서 **View span events** 를 클릭하거나 **오류 세부 정보** 를 확장하고 오류 하단에 있는 링크를 클릭할 수 있습니다.

   <img
     title="Screenshot showing the right pane showing the two links for span events"
     alt="Screenshot showing the right pane showing the two links for span events"
     src={viewSpanEvents}
   />

3. 범위 이벤트에 있고 예외만 보려면 예외 **만 표시** 토글을 슬라이드합니다.

<img
  title="Screenshot showing span events and how you can filter just for exceptions"
  alt="Screenshot showing span events and how you can filter just for exceptions"
  src={spanEventsExceptions}
/>

<Callout variant="tip">
  앱/서비스에서 처리하는 OpenTelemetry 예외는 범위 오류 상태와 독립적으로 표시되며 반드시 범위 오류 상태와 연관되지는 않습니다.
</Callout>

### 데이터베이스 [#databases]

**데이터베이스** 페이지에는 애플리케이션의 데이터베이스 및 캐시 데이터가 표시됩니다. 페이지는 개별 데이터베이스 트랜잭션을 정렬 가능한 테이블로 표시하고 작업, 처리량 및 응답 시간을 차트로 표시합니다.

데이터가 이 섹션에 나타나도록 하려면 다음이 포함되어 있는지 확인하세요.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        UI 영역
      </th>

      <th>
        기인하다
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        상위 데이터베이스 호출
      </td>

      <td>
        * `span.kind = client` 또는 `producer`
        * `db.system`
        * 범위 이름별 패싯
      </td>
    </tr>

    <tr>
      <td>
        상위 데이터베이스(쿼리 시간별)
      </td>

      <td>
        * `span.kind = client` 또는 `producer`
        * `db.system`
        * 패싯 기준 `db.system`
      </td>
    </tr>

    <tr>
      <td>
        상위 데이터베이스(처리량 기준)
      </td>

      <td>
        * `span.kind = client` 또는 `producer`
        * `db.system`
        * 패싯 기준 `db.system`
      </td>
    </tr>
  </tbody>
</table>

## 오류 받은 편지함에서 서비스의 오류 보기 [#errorsinbox]

[오류 받은 편지함](https://docs.newrelic.com/docs/errors-inbox/errors-inbox/) 을 사용하여 오류를 감지하고 분류하고 조치를 취하십시오.

이제 OpenTelemetry 추적으로 계측된 서비스의 받은 편지함에서 오류 그룹을 분류할 수 있습니다. 오류의 원인을 정확히 찾아내는 데 필요한 스택 추적, 스팬 이벤트 및 스팬 속성 데이터를 포함한 세부 정보를 즉시 볼 수 있습니다.

### 시작하려면 어떻게 해야 하나요? [#errors-inbox-get-started]

오류 받은 편지함은 특정 엔터티를 통해 [범위가 지정된 수준](https://docswebsitedevelop-meda123docswebsitepatch13.gtsb.io/docs/errors-inbox/errors-inbox/#scoped) 에서 액세스하거나 '오류 받은 편지함'이라고 표시된 상단 탐색 링크를 통해 전역 수준에서 액세스할 수 있습니다. 글로벌 경험을 위해서는[워크로드](https://docs.newrelic.com/docs/new-relic-solutions/new-relic-one/workloads/use-workloads/) 를 설정해야 합니다.

<img
  title="Scoped errors inbox through an OpenTelemetry entity"
  alt="Scoped errors inbox through an OpenTelemetry entity"
  src={errorgroupOccurences}
/>

<figcaption>
  OpenTelemetry 엔터티를 통해 범위가 지정된 오류 받은 편지함.
</figcaption>

### 고유한 지문은 어떻게 생성됩니까? [#unique-fingerprints]

범위 오류 이벤트가 수집되면 지문을 출력하는 관리 규칙 집합을 통해 이벤트를 실행합니다. 모든 고유한 지문에는 연결된 단일 오류 그룹이 있습니다. 이벤트는 UUID, 16진수 값, 이메일 주소 등과 같은 식별 값을 무시하여 정규화됩니다.

`otel.status_code = ERROR` 및 범위 종류가 `server` 또는 `consumer` 인 범위는 개별 오류 인스턴스로 처리됩니다. 오류 그룹은 고유한 지문을 공유하는 고유한 오류 인스턴스의 집합입니다.

오류 그룹 메시지의 값은 다음 순서로 결정됩니다.

* otel.status_description
* rpc.grpc.status_code
* http.status_code
* `undefined` 위의 세 가지가 모두 존재하지 않는 경우

문제 해결: 받은 편지함이 너무 시끄러운 경우 [다음 팁](https://docs.newrelic.com/docs/errors-inbox/errors-inbox/#similar-events) 을 확인하십시오. 반면에 오류 받은 편지함에 오류 데이터가 표시되지 않으면 시작하기 위한 [요구 사항](https://docs.newrelic.com/docs/errors-inbox/errors-inbox#requirements) 을 확인하세요.

## 오류 [#errors]

오류 페이지에서 총 오류와 오류 수 및 오류율을 보여주는 차트를 볼 수 있습니다.

데이터가 이 섹션에 나타나도록 하려면 다음이 포함되어 있는지 확인하세요.

* `span.kind = server` 또는 `consumer`
* `otel.status_code = ERROR`
* 범위 이름별 패싯

### 외부 서비스 [#externals]

외부 서비스 기능은 웹 서비스, 클라우드의 리소스 및 기타 네트워크 엔터티와 같은 out-of-process 서비스에 대한 호출을 캡처합니다.

데이터가 이 섹션에 나타나도록 하려면 다음이 포함되어 있는지 확인하세요.

* `span.kind = client` 또는 `producer`
* `db.system` 존재하지 않는다

자세한 내용은 [외부 서비스](/docs/apm/apm-ui-pages/monitoring/external-services/external-services-intro) 를 참조하십시오.

### JVM [#jvms]

OpenTelemetry로 계측된 서비스에 대한 JVM 페이지를 사용하면 성능 패턴이 비정상적이거나 비정상인 서비스 인스턴스를 식별할 수 있습니다. 응답 시간, 처리량, 오류율, 가비지 수집 시간 및 메모리 사용량과 같은 주요 메트릭 요약을 기반으로 비교할 여러 서비스 인스턴스를 선택할 수 있습니다. 그런 다음 시계열 차트를 사용하여 OpenTelemetry 계측에 의해 수집된 모든 인스턴스의 JVM 메트릭을 비교하여 문제를 찾을 수 있습니다.

다음은 일반적인 워크플로입니다.

1. **JVM** 을 클릭하십시오.

2. 요약된 상태 메트릭 테이블을 사용하여 흥미로운 JVM을 찾습니다.

   * 필터 표시줄을 사용하여 검색 범위를 좁힙니다.
   * 이상치를 찾기 위해 정렬합니다.

3. 흥미로운 JVM을 선택하십시오.

4. **비교** 를 클릭하여 JVM에서 패싯 처리한 상태 및 런타임 측정 단위의 표시를 확인합니다.

JVM 페이지 사용에 대한 다음 추가 주제를 검토하십시오.

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="metric-details"
    title="런타임 측정항목 세부정보"
  >
    특정 JVM으로 드릴할 때 UI는 JVM 메트릭 데이터에 의해 구동되는 차트를 표시합니다. Java 특정 런타임 메트릭은 잘 문서화되어 있지 않습니다. [구현](https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/runtime-metrics/library/src/main/java/io/opentelemetry/instrumentation/runtimemetrics) 은 사실상 문서화이며 변경될 수 있습니다.
  </Collapser>

  <Collapser
    className="freq-link"
    id="config-steps"
    title="데이터가 표시되는지 확인하는 방법"
  >
    데이터가 이 섹션에 나타나도록 하려면 다음이 포함되어 있는지 확인하세요.

    * JVM 목록을 렌더링하기 위한 고유한 `service.instance.id` 속성입니다.
    * OpenTelemetry 리소스 속성 `service.instance.id` .
  </Collapser>

  <Collapser
    className="freq-link"
    id="jvms-and-metric-types"
    title="게이지 대 카운터"
  >
    OpenTelemetry Java 에이전트 1.10.0부터 JVM 메모리 사용량이 비동기 게이지 수집에서 비동기 업다운 카운터로 전환되었습니다. 이는 내보낸 데이터에 영향을 미칩니다. 게이지와 카운터는 다르게 내보냅니다.

    * 비동기 게이지는 OTLP 게이지로 내보냅니다.

    * 비동기식 업다운 카운터는 OTLP 비단조 합계로 내보냅니다.

      델타 집계 시간성을 사용하여 메트릭을 내보내도록 SDK를 구성하면(카운터 및 히스토그램 기기가 New Relic과 함께 작동하는 데 필요함), 비동기식 업다운 카운터가 비단조 델타 합계로 내보내집니다. New Relic은 non-monotonic delta sum 데이터의 유용한 분석을 수행할 수 없습니다.

      현재 솔루션(OpenTelemetry 메트릭 사양에서 더 나은 솔루션이 분류될 때까지)은 View API를 사용하여 비동기 업다운 카운터가 기본 합계 집계 대신 [마지막 값 집계](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/sdk.md#last-value-aggregation) 를 사용하여 집계되어야 함을 표시하는 것입니다. 이로 인해 JVM 메모리 사용량이 게이지 데이터로 내보내지며 이는 New Relic에서 유용한 경험을 위해 필요합니다.

      View API를 구성하는 방법은 OpenTelemetry Java 에이전트를 사용하는지 여부에 따라 다릅니다.

    * OpenTelemetry Java 에이전트를 사용하지 않는 경우 `SdkMeterProvider` 구성 시 보기를 등록하는 방법을 보여주는 이 간단한 [예](https://github.com/newrelic/newrelic-opentelemetry-examples/pull/89/files#diff-da355ef6d1092534a55829e95160ab8468884bdd521f9018feeaaa66aea6ac5bR82-R86) 를 검토하세요.

    * OpenTelemetry Java 에이전트를 사용하는 경우 [확장](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/agent-config.md#extensions) 에서 View API를 구성해야 합니다. 확장을 사용하면 SDK 구성(무엇보다도)에 연결하고 환경 변수 또는 시스템 속성에서 사용할 수 없는 프로그래밍 방식 구성을 적용할 수 있습니다. 이 [예](https://github.com/newrelic/newrelic-opentelemetry-examples/tree/main/java/agent-nr-config) 는 확장 프로그램을 사용하여 `SdkMeterProvider` 의 보기를 [사용자 정의](https://github.com/newrelic/newrelic-opentelemetry-examples/blob/main/java/agent-nr-config/config-extension/src/main/java/com/newrelic/otel/extension/Customizer.java#L28-L37) 하는 방법을 보여줍니다.
  </Collapser>
</CollapserGroup>

### 로그 [#logs]

**로그** 페이지에는 애플리케이션의 로그가 표시됩니다. New Relic에서 로그 데이터를 애플리케이션에 연결하는 방법에 대한 자세한 내용은 [OpenTelemetry 및 로깅 설명서](/docs/integrations/open-source-telemetry-integrations/opentelemetry/opentelemetry-logs) 를 참조하십시오.

데이터가 이 섹션에 나타나도록 하려면 다음이 포함되어 있는지 확인하세요.

* `service.name`
* 추적 데이터와 상관 관계를 지정하려면 로그에 `trace.id` 및 `span.id` 속성이 포함되어야 합니다.

### 측정항목 탐색기 [#metric-explorer]

선택한 OpenTelemetry 언어의 경우 이 섹션에서 측정항목에 대한 정보를 볼 수 있습니다. 또한 OpenTelemetry와 함께 Prometheus 내보내기를 사용하는 경우 여기에서 메트릭 데이터를 볼 수 있습니다.

<img
  title="Screen shot showing the metric explorer"
  alt="Screen shot showing the metric explorer"
  src={metricExplorer}
/>

### 업무 [#transactions]

**트랜잭션을 사용하여 애플리케이션의 응답 시간을 급증시킬 수 있는 느리거나 오류가 있는 트랜잭션** 을 식별합니다. 트랜잭션 목록을 가져오려면: **트랜잭션 요약** 페이지에서 트랜잭션 테이블을 선택하십시오.

New Relic의 [트랜잭션](https://docs.newrelic.com/docs/apm/transactions/intro-transactions/transactions-new-relic-apm#txn-defined) 개념은 소프트웨어 애플리케이션에서 하나의 논리적 작업 단위를 캡슐화합니다. 일반적으로 이것은 단일 프로세스에 의해 수행되는 작업입니다.

OpenTelemetry에서는 추적 데이터를 New Relic의 트랜잭션 개념에 매핑하기 위해 [`SpanKind`](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/api.md#spankind) 에 의존합니다. `server` 또는 `consumer` 의 `SpanKind` 은 프로세스의 진입점을 식별하는 데 사용됩니다. 즉, 이들은 원격 프로세스의 루트 범위 또는 하위 범위인 범위입니다.

데이터가 이 섹션에 나타나도록 하려면 다음이 포함되어 있는지 확인하세요.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        UI 영역
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        상위 거래
      </td>

      <td>
        * `span.kind = server` 또는 `consumer`
        * 범위 이름별 패싯
      </td>
    </tr>

    <tr>
      <td>
        처리량
      </td>

      <td>
        * `span.kind = server` 또는 `consumer`
        * 범위 이름별 패싯
      </td>
    </tr>
  </tbody>
</table>

## 데이터 탐색기 및 쿼리 빌더 [#query-builder]

[데이터 탐색기](/docs/query-your-data/explore-query-data/data-explorer/introduction-data-explorer) 를 사용하여 메트릭 및 추적을 탐색하거나 NRQL을 사용하여 쿼리 빌더에서 고유한 쿼리를 작성합니다. New Relic에 있는 데이터를 쿼리하는 방법에 대한 자세한 내용은 데이터 [쿼리](/docs/query-your-data/explore-query-data/explore-data/introduction-querying-new-relic-data) 및 [NRQL 소개를](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language) 참조하세요.